{"version":3,"sources":["battle-dex.ts","battle-teams.ts","battle-dex-data.ts","battle-log.ts","battle-log-misc.js","text.js","text-afd.js","battle-text-parser.ts"],"names":[],"mappings":"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AAE,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,UAAU,CAAC,CAAC,CAAC;AACpf,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC;AAC1f,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC;AAC5f,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,UAAU,CAAC;AAC3f,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CA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","file":"battledata.js","sourcesContent":["/**\r\n * Pokemon Showdown Dex\r\n * Roughly equivalent to sim/dex.js in a Pokemon Showdown server, but\r\n * designed for use in browsers rather than in Node.\r\n * This is a generic utility library for Pokemon Showdown code: any\r\n * code shared between the replay viewer and the client usually ends up here.\r\n * Licensing note: PS's client has complicated licensing:\r\n * - The client as a whole is AGPLv3\r\n * - The battle replay/animation engine (battle-*.ts) by itself is MIT\r\n * Compiled into battledata.js which includes all dependencies\r\n * @author Guangcong Luo <guangcongluo@gmail.com>\r\n * @license MIT\r\n */\r\nimport { Pokemon, type ServerPokemon } from \"./battle\";\r\nimport {\r\n\tBattleAvatarNumbers, BattleBaseSpeciesChart, BattlePokemonIconIndexes, BattlePokemonIconIndexesLeft,\r\n\tAbility, Item, Move, Flag, Species, PureEffect, type ID, type Type,\r\n} from \"./battle-dex-data\";\r\nimport type * as DexData from \"./battle-dex-data\";\r\nimport type { Teams } from \"./battle-teams\";\r\nimport { Config } from \"./client-main\";\r\nexport declare namespace Dex {\r\n\t/* eslint-disable @typescript-eslint/no-shadow */\r\n\texport type Ability = DexData.Ability;\r\n\texport type Item = DexData.Item;\r\n\texport type Move = DexData.Move;\r\n\texport type Flag = DexData.Flag;\r\n\texport type Species = DexData.Species;\r\n\texport type Type = DexData.Type;\r\n\texport type Nature = DexData.Nature;\r\n\texport type PureEffect = DexData.PureEffect;\r\n\texport type Effect = DexData.Effect;\r\n\texport type ID = DexData.ID;\r\n\t/* eslint-enable @typescript-eslint/no-shadow */\r\n\texport type StatName = DexData.StatName;\r\n\texport type StatNameExceptHP = DexData.StatNameExceptHP;\r\n\texport type BoostStatName = DexData.BoostStatName;\r\n\texport type TypeName = DexData.TypeName;\r\n\texport type StatusName = DexData.StatusName;\r\n\texport type GenderName = DexData.GenderName;\r\n\texport type NatureName = DexData.NatureName;\r\n\texport type MoveTarget = DexData.MoveTarget;\r\n\texport type REGULAR = 0;\r\n\texport type WEAK = 1;\r\n\texport type RESIST = 2;\r\n\texport type IMMUNE = 3;\r\n\texport type WeaknessType = REGULAR | WEAK | RESIST | IMMUNE;\r\n\texport type StatsTable = { hp: number, atk: number, def: number, spa: number, spd: number, spe: number };\r\n\texport type PokemonSet = Teams.PokemonSet;\r\n}\r\nexport type { ID };\r\ndeclare const require: any;\r\ndeclare const global: any;\r\ndeclare const process: any;\r\nif (typeof window === 'undefined') { global.window = global; } // Node\r\nelse { window.exports = window; } // browser (possibly NW.js!)\r\nwindow.nodewebkit = !!(typeof process !== 'undefined' && process.versions?.['node-webkit']);\r\nexport function toID(text: any) {\r\n\tif (text?.id) { text = text.id; } \r\n\telse if (text?.userid) { text = text.userid; }\r\n\tif (typeof text !== 'string' && typeof text !== 'number') return '' as ID;\r\n\treturn `${text}`.toLowerCase().replace(/[^a-z0-9]+/g, '') as ID;\r\n}\r\nexport function toUserid(text: any) { return toID(text); }\r\ntype Comparable = number | string | boolean | Comparable[] | { reverse: Comparable };\r\nexport const PSUtils = new class {\r\n\t/**\r\n\t * Like string.split(delimiter), but only recognizes the first `limit`\r\n\t * delimiters (default 1).\r\n\t * `\"1 2 3 4\".split(\" \", 2) => [\"1\", \"2\"]`\r\n\t * `splitFirst(\"1 2 3 4\", \" \", 1) => [\"1\", \"2 3 4\"]`\r\n\t * Returns an array of length exactly limit + 1.\r\n\t */\r\n\tsplitFirst(str: string, delimiter: string, limit = 1) {\r\n\t\tlet splitStr: string[] = [];\r\n\t\twhile (splitStr.length < limit) {\r\n\t\t\tlet delimiterIndex = str.indexOf(delimiter);\r\n\t\t\tif (delimiterIndex >= 0) {\r\n\t\t\t\tsplitStr.push(str.slice(0, delimiterIndex));\r\n\t\t\t\tstr = str.slice(delimiterIndex + delimiter.length);\r\n\t\t\t} else {\r\n\t\t\t\tsplitStr.push(str);\r\n\t\t\t\tstr = '';\r\n\t\t\t}\r\n\t\t}\r\n\t\tsplitStr.push(str);\r\n\t\treturn splitStr;\r\n\t}\r\n\t/**\r\n\t * Compares two variables; intended to be used as a smarter comparator.\r\n\t * The two variables must be the same type (TypeScript will not check this).\r\n\t * - Numbers are sorted low-to-high, use `-val` to reverse\r\n\t * - Strings are sorted A to Z case-semi-insensitively, use `{reverse: val}` to reverse\r\n\t * - Booleans are sorted true-first (REVERSE of casting to numbers), use `!val` to reverse\r\n\t * - Arrays are sorted lexically in the order of their elements\r\n\t * In other words: `[num, str]` will be sorted A to Z, `[num, {reverse: str}]` will be sorted Z to A.\r\n\t */\r\n\tcompare(a: Comparable, b: Comparable): number {\r\n\t\tif (typeof a === 'number') { return a - (b as number); }\r\n\t\tif (typeof a === 'string') { return a.localeCompare(b as string); }\r\n\t\tif (typeof a === 'boolean') { return (a ? 1 : 2) - (b ? 1 : 2); }\r\n\t\tif (Array.isArray(a)) {\r\n\t\t\tfor (let i = 0; i < a.length; i++) {\r\n\t\t\t\tconst comparison = PSUtils.compare(a[i], (b as Comparable[])[i]);\r\n\t\t\t\tif (comparison) return comparison;\r\n\t\t\t}\r\n\t\t\treturn 0;\r\n\t\t}\r\n\t\tif (a.reverse) { return PSUtils.compare((b as { reverse: string }).reverse, a.reverse); }\r\n\t\tthrow new Error(`Passed value ${a as any} is not comparable`);\r\n\t}\r\n\t/**\r\n\t * Sorts an array according to the callback's output on its elements.\r\n\t * The callback's output is compared according to `PSUtils.compare` (in\r\n\t * particular, it supports arrays so you can sort by multiple things).\r\n\t */\r\n\tsortBy<T>(array: T[], callback: (a: T) => Comparable): T[];\r\n\t// Sorts an array according to `PSUtils.compare`. (Correctly sorts numbers, unlike `array.sort`)\r\n\tsortBy<T extends Comparable>(array: T[]): T[];\r\n\tsortBy<T>(array: T[], callback?: (a: T) => Comparable) {\r\n\t\tif (!callback) return (array as any[]).sort(PSUtils.compare);\r\n\t\treturn array.sort((a, b) => PSUtils.compare(callback(a), callback(b)));\r\n\t}\r\n};\r\n// Sanitize a room ID by removing anything that isn't alphanumeric or `-`. Shouldn't actually do anything except against malicious input.\r\nexport function toRoomid(roomid: string) { return roomid.replace(/[^a-zA-Z0-9-]+/g, '').toLowerCase(); }\r\nexport function toName(name: any) {\r\n\tif (typeof name !== 'string' && typeof name !== 'number') return '';\r\n\tname = `${name}`.replace(/[|\\s[\\],\\u202e]+/g, ' ').trim();\r\n\tif (name.length > 18) name = name.substr(0, 18).trim();\r\n\t// remove zalgo\r\n\tname = name.replace(\r\n\t\t/[\\u0300-\\u036f\\u0483-\\u0489\\u0610-\\u0615\\u064B-\\u065F\\u0670\\u06D6-\\u06DC\\u06DF-\\u06ED\\u0E31\\u0E34-\\u0E3A\\u0E47-\\u0E4E]{3,}/g,\r\n\t\t''\r\n\t);\r\n\tname = name.replace(/[\\u239b-\\u23b9]/g, '');\r\n\treturn name;\r\n}\r\nexport interface SpriteData {\r\n\tw: number;\r\n\th: number;\r\n\ty?: number;\r\n\tgen?: number;\r\n\turl?: string;\r\n\trawHTML?: string;\r\n\tpixelated?: boolean;\r\n\tisFrontSprite?: boolean;\r\n\tcryurl?: string;\r\n\tshiny?: boolean;\r\n}\r\nexport interface TeambuilderSpriteData {\r\n\tx: number;\r\n\ty: number;\r\n\th?: number;\r\n\tspriteDir: string;\r\n\tspriteid: string;\r\n\tshiny?: boolean;\r\n}\r\nexport const Dex = new class implements ModdedDex {\r\n\treadonly Ability = Ability;\r\n\treadonly Item = Item;\r\n\treadonly Move = Move;\r\n\treadonly Flags = Flag;\r\n\treadonly Species = Species;\r\n\treadonly gen = 9;\r\n\treadonly modid = 'gen9' as ID;\r\n\treadonly cache = null!;\r\n\treadonly REGULAR = 0;\r\n\treadonly WEAK = 1;\r\n\treadonly RESIST = 2;\r\n\treadonly IMMUNE = 3;\r\n\treadonly statNames: readonly Dex.StatName[] = ['hp', 'atk', 'def', 'spa', 'spd', 'spe'];\r\n\treadonly statNamesExceptHP: readonly Dex.StatNameExceptHP[] = ['atk', 'def', 'spa', 'spd', 'spe'];\r\n\tpokeballs: string[] | null = null;\r\n\tresourcePrefix = (() => {\r\n\t\tlet prefix = '';\r\n\t\tif (window.document?.location?.protocol !== 'http:') prefix = 'https:';\r\n\t\treturn `${prefix}//${window.Config ? Config.routes.client : 'play.pokemonshowdown.com'}/`;\r\n\t})();\r\n\tindigostarstormPrefix = (() => {\r\n\t\tlet iprefix = '';\r\n\t\tif (window.document?.location?.protocol !== 'http:') iprefix = 'https:';\r\n\t\treturn `${iprefix}//${window.Config ? Config.routes.client : 'https://github.com/CrimsonGaia/pokemon-showdown-client/tree/master/play.pokemonshowdown.com/sprites/'}`;\r\n\t})();\r\n\tfxPrefix = (() => {\r\n\t\tconst protocol = (window.document?.location?.protocol !== 'http:') ? 'https:' : '';\r\n\t\treturn `${protocol}//${window.Config ? Config.routes.client : 'play.pokemonshowdown.com'}/fx/`;\r\n\t})();\r\n\tloadedSpriteData = { xy: 1, bw: 0 };\r\n\tmoddedDexes: { [mod: string]: ModdedDex } = {};\r\n\t/**\r\n\t * April Fools' Day setting:\r\n\t * * `true` = FULL, all jokes on\r\n\t * * `'sprites'` = SPRITES, only sprites and taunts\r\n\t * * `false | null | undefined` = OFF\r\n\t */\r\n\tafdMode?: boolean | 'sprites';\r\n\tmod(modid: ID): ModdedDex {\r\n\t\tif (modid === 'gen9') return this;\r\n\t\tif (!window.BattleTeambuilderTable) return this;\r\n\t\tif (modid in this.moddedDexes) { return this.moddedDexes[modid]; }\r\n\t\tthis.moddedDexes[modid] = new ModdedDex(modid);\r\n\t\treturn this.moddedDexes[modid];\r\n\t}\r\n\tforGen(gen: number) {\r\n\t\tif (!gen) return this;\r\n\t\treturn this.mod(`gen${gen}` as ID);\r\n\t}\r\n\tformatGen(format: string) {\r\n\t\tconst formatid = toID(format);\r\n\t\tif (!formatid) return Dex.gen;\r\n\t\tif (!formatid.startsWith('gen')) return 6;\r\n\t\treturn parseInt(formatid.charAt(3)) || Dex.gen;\r\n\t}\r\n\tforFormat(format: string) {\r\n\t\tlet dex = Dex.forGen(Dex.formatGen(format));\r\n\t\tconst formatid = toID(format).slice(4);\r\n\t\tif (dex.gen === 7 && formatid.includes('letsgo')) { dex = Dex.mod('gen7letsgo' as ID); }\r\n\t\tif (dex.gen === 8 && formatid.includes('bdsp')) { dex = Dex.mod('gen8bdsp' as ID); }\r\n\t\tif (dex.gen === 9 && (formatid.includes('indigostarstorm') || formatid.includes('isl'))) { dex = Dex.mod('gen9indigostarstorm' as ID); }\r\n\t\treturn dex;\r\n\t}\r\n\tresolveAvatar(avatar: string): string {\r\n\t\tif (window.BattleAvatarNumbers && avatar in BattleAvatarNumbers) { avatar = BattleAvatarNumbers[avatar]; }\r\n\t\tif (avatar.startsWith('#')) { return Dex.resourcePrefix + 'sprites/trainers-custom/' + toID(avatar.substr(1)) + '.png'; }\r\n\t\tif (avatar.includes('.') && window.Config?.server?.registered) {\r\n\t\t\t// custom avatar served by the server\r\n\t\t\tconst protocol = (Config.server.port === 443) ? 'https' : 'http';\r\n\t\t\tconst server = `${protocol}://${Config.server.host}:${Config.server.port}`;\r\n\t\t\treturn `${server}/avatars/${encodeURIComponent(avatar).replace(/%3F/g, '?')}`;\r\n\t\t}\r\n\t\treturn Dex.resourcePrefix + 'sprites/trainers/' + Dex.sanitizeName(avatar || 'unknown') + '.png';\r\n\t}\r\n\t/**\r\n\t * This is used to sanitize strings from data files like `moves.js` and `teambuilder-tables.js`.\r\n\t * This makes sure untrusted strings can't wreak havoc if someone forgets to escape it before putting it in HTML.\r\n\t * None of these characters belong in these files, anyway. (They can be used in move descriptions, but those are served from `text.js`, which are definitely always treated as unsanitized.)\r\n\t */\r\n\tsanitizeName(name: any) {\r\n\t\tif (!name) return '';\r\n\t\treturn ('' + name)\r\n\t\t\t.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/\"/g, '&quot;')\r\n\t\t\t.slice(0, 50);\r\n\t}\r\n\tprefs(prop: string) {\r\n\t\t// @ts-expect-error this is what I get for calling it Storage...\r\n\t\treturn window.Storage?.prefs ? window.Storage.prefs(prop) : window.PS?.prefs?.[prop];\r\n\t}\r\n\tgetShortName(name: string) {\r\n\t\tlet shortName = name.replace(/[^A-Za-z0-9]+$/, '');\r\n\t\tif (shortName.includes('(')) { shortName += name.slice(shortName.length).replace(/[^()]+/g, '').replace(/\\(\\)/g, ''); }\r\n\t\treturn shortName;\r\n\t}\r\n\tgetEffect(name: string | null | undefined): PureEffect | Item | Ability | Move | Flag {\r\n\t\tname = (name || '').trim();\r\n\t\tif (name.substr(0, 5) === 'item:') { return Dex.items.get(name.substr(5).trim()); } \r\n\t\telse if (name.substr(0, 8) === 'ability:') { return Dex.abilities.get(name.substr(8).trim()); } \r\n\t\telse if (name.substr(0, 5) === 'move:') { return Dex.moves.get(name.substr(5).trim()); }\r\n\t\tlet id = toID(name);\r\n\t\treturn new PureEffect(id, name);\r\n\t}\r\n\tmoves = {\r\n\t\tget: (nameOrMove: string | Move | null | undefined): Move => {\r\n\t\t\tif (nameOrMove && typeof nameOrMove !== 'string') { return nameOrMove; } // TODO: don't accept Moves here\r\n\t\t\tlet name = nameOrMove || '';\r\n\t\t\tlet id = toID(nameOrMove);\r\n\t\t\tif (window.BattleAliases && id in BattleAliases) {\r\n\t\t\t\tname = BattleAliases[id];\r\n\t\t\t\tid = toID(name);\r\n\t\t\t}\r\n\t\t\tif (!window.BattleMovedex) window.BattleMovedex = {};\r\n\t\t\tlet data = window.BattleMovedex[id];\r\n\t\t\tif (data && typeof data.exists === 'boolean') return data;\r\n\t\t\tif (!data && id.substr(0, 11) === 'hiddenpower' && id.length > 11) {\r\n\t\t\t\tlet [, hpWithType, hpPower] = /([a-z]*)([0-9]*)/.exec(id)!;\r\n\t\t\t\tdata = {\r\n\t\t\t\t\t...(window.BattleMovedex[hpWithType] || {}),\r\n\t\t\t\t\tbasePower: Number(hpPower) || 60,\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t\tif (!data && id.substr(0, 6) === 'return' && id.length > 6) {\r\n\t\t\t\tdata = {\r\n\t\t\t\t\t...(window.BattleMovedex['return'] || {}),\r\n\t\t\t\t\tbasePower: Number(id.slice(6)),\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t\tif (!data && id.substr(0, 11) === 'frustration' && id.length > 11) {\r\n\t\t\t\tdata = {\r\n\t\t\t\t\t...(window.BattleMovedex['frustration'] || {}),\r\n\t\t\t\t\tbasePower: Number(id.slice(11)),\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t\tif (!data) data = { exists: false };\r\n\t\t\tlet move = new Move(id, name, data);\r\n\t\t\twindow.BattleMovedex[id] = move;\r\n\t\t\treturn move;\r\n\t\t},\r\n\t};\r\n\tgetGen3Category(type: string) { return ['Fire', 'Water', 'Grass', 'Electric', 'Ice', 'Psychic', 'Dark', 'Dragon',].includes(type) ? 'Special' : 'Physical'; }\r\n\tflags = {\r\n\t\tget: (nameOrFlag: string | Flag | null | undefined): Flag => {\r\n\t\t\tif (nameOrFlag && typeof nameOrFlag !== 'string') { return nameOrFlag; }\r\n\t\t\tlet name = nameOrFlag || '';\r\n\t\t\tlet id = toID(nameOrFlag);\r\n\t\t\tif (window.BattleAliases && id in BattleAliases) {\r\n\t\t\t\tname = BattleAliases[id];\r\n\t\t\t\tid = toID(name);\r\n\t\t\t}\r\n\t\t\tif (!window.BattleFlags) window.BattleFlags = {};\r\n\t\t\tlet data = window.BattleFlags[id];\r\n\t\t\tif (data && typeof data.exists === 'boolean') return data;\r\n\t\t\tif (!data) data = { exists: false };\r\n\t\t\tlet flag = new Flag(id, name, data);\r\n\t\t\twindow.BattleFlags[id] = BattleFlags;\r\n\t\t\treturn flag ;\r\n\t\t},};\r\n\titems = {\r\n\t\tget: (nameOrItem: string | Item | null | undefined): Item => {\r\n\t\t\tif (nameOrItem && typeof nameOrItem !== 'string') { return nameOrItem; } // TODO: don't accept Items here\r\n\t\t\tlet name = nameOrItem || '';\r\n\t\t\tlet id = toID(nameOrItem);\r\n\t\t\tif (window.BattleAliases && id in BattleAliases) {\r\n\t\t\t\tname = BattleAliases[id];\r\n\t\t\t\tid = toID(name);\r\n\t\t\t}\r\n\t\t\tif (!window.BattleItems) window.BattleItems = {};\r\n\t\t\tlet data = window.BattleItems[id];\r\n\t\t\tif (data && typeof data.exists === 'boolean') return data;\r\n\t\t\tif (!data) data = { exists: false };\r\n\t\t\tlet item = new Item(id, name, data);\r\n\t\t\twindow.BattleItems[id] = item;\r\n\t\t\treturn item;\r\n\t\t},\r\n\t};\r\n\tabilities = {\r\n\t\tget: (nameOrAbility: string | Ability | null | undefined): Ability => {\r\n\t\t\tif (nameOrAbility && typeof nameOrAbility !== 'string') { return nameOrAbility; } // TODO: don't accept Abilities here\r\n\t\t\tlet name = nameOrAbility || '';\r\n\t\t\tlet id = toID(nameOrAbility);\r\n\t\t\tif (window.BattleAliases && id in BattleAliases) {\r\n\t\t\t\tname = BattleAliases[id];\r\n\t\t\t\tid = toID(name);\r\n\t\t\t}\r\n\t\t\tif (!window.BattleAbilities) window.BattleAbilities = {};\r\n\t\t\tlet data = window.BattleAbilities[id];\r\n\t\t\tif (data && typeof data.exists === 'boolean') return data;\r\n\t\t\tif (!data) data = { exists: false };\r\n\t\t\tlet ability = new Ability(id, name, data);\r\n\t\t\twindow.BattleAbilities[id] = ability;\r\n\t\t\treturn ability;\r\n\t\t},\r\n\t};\r\n\tspecies = {\r\n\t\tget: (nameOrSpecies: string | Species | null | undefined): Species => {\r\n\t\t\tif (nameOrSpecies && typeof nameOrSpecies !== 'string') { return nameOrSpecies; } // TODO: don't accept Species' here\r\n\t\t\tlet name = nameOrSpecies || '';\r\n\t\t\tlet id = toID(nameOrSpecies);\r\n\t\t\tlet formid = id;\r\n\t\t\tif (!window.BattlePokedexAltForms) window.BattlePokedexAltForms = {};\r\n\t\t\tif (formid in window.BattlePokedexAltForms) return window.BattlePokedexAltForms[formid];\r\n\t\t\tif (window.BattleAliases && id in BattleAliases) {\r\n\t\t\t\tname = BattleAliases[id];\r\n\t\t\t\tid = toID(name);\r\n\t\t\t} else if (window.BattlePokedex && !(id in BattlePokedex) && window.BattleBaseSpeciesChart) {\r\n\t\t\t\tfor (const baseSpeciesId of BattleBaseSpeciesChart) {\r\n\t\t\t\t\tif (formid.startsWith(baseSpeciesId)) {\r\n\t\t\t\t\t\tid = baseSpeciesId;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (!window.BattlePokedex) window.BattlePokedex = {};\r\n\t\t\tlet data = window.BattlePokedex[id];\r\n\t\t\tlet species: Species;\r\n\t\t\tif (data && typeof data.exists === 'boolean') { species = data; } \r\n\t\t\telse {\r\n\t\t\t\tif (!data) data = { exists: false };\r\n\t\t\t\tif (!data.tier && id.endsWith('totem')) { data.tier = this.species.get(id.slice(0, -5)).tier; }\r\n\t\t\t\tif (!data.tier && data.baseSpecies && toID(data.baseSpecies) !== id) { data.tier = this.species.get(data.baseSpecies).tier; }\r\n\t\t\t\tdata.nfe = data.id === 'dipplin' || !!(data as Species).evos?.some(evo => {\r\n\t\t\t\t\tconst evoSpecies = this.species.get(evo);\r\n\t\t\t\t\treturn !evoSpecies.isNonstandard || evoSpecies.isNonstandard === data.isNonstandard ||\r\n\t\t\t\t\t\t// Pokemon with Hisui evolutions\r\n\t\t\t\t\t\tevoSpecies.isNonstandard === \"Unobtainable\";\r\n\t\t\t\t});\r\n\t\t\t\tspecies = new Species(id, name, data);\r\n\t\t\t\twindow.BattlePokedex[id] = species;\r\n\t\t\t}\r\n\t\t\tif (species.cosmeticFormes) {\r\n\t\t\t\tfor (const forme of species.cosmeticFormes) {\r\n\t\t\t\t\tif (toID(forme) === formid) {\r\n\t\t\t\t\t\tspecies = new Species(formid, name, {\r\n\t\t\t\t\t\t\t...species,\r\n\t\t\t\t\t\t\tname: forme,\r\n\t\t\t\t\t\t\tforme: forme.slice(species.name.length + 1),\r\n\t\t\t\t\t\t\tbaseForme: \"\",\r\n\t\t\t\t\t\t\tbaseSpecies: species.name,\r\n\t\t\t\t\t\t\totherFormes: null,\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\twindow.BattlePokedexAltForms[formid] = species;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn species;\r\n\t\t},\r\n\t};\r\n\ttypes = {\r\n\t\tallCache: null as Type[] | null,\r\n\t\tnamesCache: null as Dex.TypeName[] | null,\r\n\t\tget: (type: any): Type => {\r\n\t\t\tif (!type || typeof type === 'string') {\r\n\t\t\t\tconst id = toID(type) as string;\r\n\t\t\t\tconst name = id.substr(0, 1).toUpperCase() + id.substr(1);\r\n\t\t\t\ttype = window.BattleTypeChart?.[id] || {};\r\n\t\t\t\tif (type.damageTaken) type.exists = true;\r\n\t\t\t\tif (!type.id) type.id = id;\r\n\t\t\t\tif (!type.name) type.name = name;\r\n\t\t\t\tif (!type.effectType) {\r\n\t\t\t\t\ttype.effectType = 'Type';\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn type;\r\n\t\t},\r\n\t\tall: (): readonly Type[] => {\r\n\t\t\tif (this.types.allCache) return this.types.allCache;\r\n\t\t\tconst types = [];\r\n\t\t\tfor (const id in (window.BattleTypeChart || {})) { types.push(Dex.types.get(id)); }\r\n\t\t\tif (types.length) this.types.allCache = types;\r\n\t\t\treturn types;\r\n\t\t},\r\n\t\tnames: (): readonly Dex.TypeName[] => {\r\n\t\t\tif (this.types.namesCache) return this.types.namesCache;\r\n\t\t\tconst names = this.types.all().map(type => type.name as Dex.TypeName);\r\n\t\t\tnames.splice(names.indexOf('Stellar'), 1);\r\n\t\t\tif (names.length) this.types.namesCache = names;\r\n\t\t\treturn names;\r\n\t\t},\r\n\t\tisName: (name: string | null): boolean => {\r\n\t\t\tconst id = toID(name);\r\n\t\t\tif (name !== id.substr(0, 1).toUpperCase() + id.substr(1)) return false;\r\n\t\t\treturn window.BattleTypeChart?.hasOwnProperty(id);\r\n\t\t},\r\n\t};\r\n\thasAbility(species: Species, ability: string) {\r\n\t\tfor (const i in species.abilities) { if (ability === species.abilities[i as '0']) return true; }\r\n\t\treturn false;\r\n\t}\r\n\tloadSpriteData(gen: 'xy' | 'bw') {\r\n\t\tif (this.loadedSpriteData[gen]) return;\r\n\t\tthis.loadedSpriteData[gen] = 1;\r\n\t\tlet path = $('script[src*=\"pokedex-mini.js\"]').attr('src') || '';\r\n\t\tlet qs = '?' + (path.split('?')[1] || '');\r\n\t\tpath = ((/.+?(?=data\\/pokedex-mini\\.js)/.exec(path)) || [])[0] || '';\r\n\t\tlet el = document.createElement('script');\r\n\t\tel.src = path + 'data/pokedex-mini-bw.js' + qs;\r\n\t\tdocument.getElementsByTagName('body')[0].appendChild(el);\r\n\t}\r\n\tgetSpriteData(pokemon: Pokemon | Species | string, isFront: boolean, options: {\r\n\t\tgen?: number,\r\n\t\tshiny?: boolean,\r\n\t\tgender?: Dex.GenderName,\r\n\t\tafd?: boolean,\r\n\t\tnoScale?: boolean,\r\n\t\tmod?: string,\r\n\t\tdynamax?: boolean,\r\n\t} = { gen: 6 }) {\r\n\t\tconst mechanicsGen = options.gen || 6;\r\n\t\tlet isDynamax = !!options.dynamax;\r\n\t\tif (pokemon instanceof Pokemon) {\r\n\t\t\tif (pokemon.volatiles.transform) {\r\n\t\t\t\toptions.shiny = pokemon.volatiles.transform[2];\r\n\t\t\t\toptions.gender = pokemon.volatiles.transform[3];\r\n\t\t\t} else {\r\n\t\t\t\toptions.shiny = pokemon.shiny;\r\n\t\t\t\toptions.gender = pokemon.gender;\r\n\t\t\t}\r\n\t\t\tlet isGigantamax = false;\r\n\t\t\tif (pokemon.volatiles.dynamax) {\r\n\t\t\t\tif (pokemon.volatiles.dynamax[1]) { isGigantamax = true; } \r\n\t\t\t\telse if (options.dynamax !== false) { isDynamax = true; }\r\n\t\t\t}\r\n\t\t\tpokemon = pokemon.getSpeciesForme() + (isGigantamax ? '-Gmax' : '');\r\n\t\t}\r\n\t\tconst species = Dex.species.get(pokemon);\r\n\t\t// Gmax sprites are already extremely large, so we don't need to double.\r\n\t\tif (species.name.endsWith('-Gmax')) isDynamax = false;\r\n\t\tlet spriteData = {\r\n\t\t\tgen: mechanicsGen,\r\n\t\t\tw: 96,\r\n\t\t\th: 96,\r\n\t\t\ty: 0,\r\n\t\t\turl: Dex.resourcePrefix + 'sprites/',\r\n\t\t\tpixelated: true,\r\n\t\t\tisFrontSprite: false,\r\n\t\t\tcryurl: '',\r\n\t\t\tshiny: options.shiny,\r\n\t\t};\r\n\t\tlet name = species.spriteid;\r\n\t\tlet dir;\r\n\t\tlet facing;\r\n\t\tif (isFront) {\r\n\t\t\tspriteData.isFrontSprite = true;\r\n\t\t\tdir = '';\r\n\t\t\tfacing = 'front';\r\n\t\t} else {\r\n\t\t\tdir = '-back';\r\n\t\t\tfacing = 'back';\r\n\t\t}\r\n\t\t// Decide which gen sprites to use.\r\n\t\t// There are several different generations we care about here:\r\n\t\t//   - mechanicsGen: the generation number of the mechanics and battle (options.gen)\r\n\t\t//   - graphicsGen: the generation number of sprite/field graphics the user has requested.\r\n\t\t//     This will default to mechanicsGen, but may be altered depending on user preferences.\r\n\t\t//   - spriteData.gen: the generation number of a the specific Pokemon sprite in question.\r\n\t\t//     This defaults to graphicsGen, but if the graphicsGen doesn't have a sprite for the Pokemon\r\n\t\t//     (eg. Darmanitan in graphicsGen 2) then we go up gens until it exists.\r\n\t\tlet graphicsGen = mechanicsGen;\r\n\t\tif (Dex.prefs('nopastgens')) graphicsGen = 6;\r\n\t\tif (Dex.prefs('bwgfx') && graphicsGen >= 6) graphicsGen = 5;\r\n\t\tspriteData.gen = Math.max(graphicsGen, Math.min(species.gen, 5));\r\n\t\tconst baseDir = ['', 'gen1', 'gen2', 'gen3', 'gen4', 'gen5', '', '', '', ''][spriteData.gen];\r\n\t\tlet miscData = null;\r\n\t\tlet speciesid = species.id;\r\n\t\tif (species.isTotem) speciesid = toID(name);\r\n\t\tif (window.BattlePokemonSprites) miscData = BattlePokemonSprites[speciesid];\r\n\t\tif (!miscData && window.BattlePokemonSpritesBW) miscData = BattlePokemonSpritesBW[speciesid];\r\n\t\tif (!miscData) miscData = {};\r\n\t\tif (miscData.num !== 0 && miscData.num > -5000) {\r\n\t\t\tlet baseSpeciesid = toID(species.baseSpecies);\r\n\t\t\tspriteData.cryurl = 'audio/cries/' + baseSpeciesid;\r\n\t\t\tlet formeid = species.formeid;\r\n\t\t\tif (species.isMega || formeid && (\r\n\t\t\t\tformeid === '-crowned' ||\r\n\t\t\t\tformeid === '-eternal' ||\r\n\t\t\t\tformeid === '-eternamax' ||\r\n\t\t\t\tformeid === '-four' ||\r\n\t\t\t\tformeid === '-hangry' ||\r\n\t\t\t\tformeid === '-hero' ||\r\n\t\t\t\tformeid === '-lowkey' ||\r\n\t\t\t\tformeid === '-noice' ||\r\n\t\t\t\tformeid === '-primal' ||\r\n\t\t\t\tformeid === '-rapidstrike' ||\r\n\t\t\t\tformeid === '-roaming' ||\r\n\t\t\t\tformeid === '-school' ||\r\n\t\t\t\tformeid === '-sky' ||\r\n\t\t\t\tformeid === '-starter' ||\r\n\t\t\t\tformeid === '-super' ||\r\n\t\t\t\tformeid === '-therian' ||\r\n\t\t\t\tformeid === '-unbound' ||\r\n\t\t\t\tbaseSpeciesid === 'calyrex' ||\r\n\t\t\t\tbaseSpeciesid === 'kyurem' ||\r\n\t\t\t\tbaseSpeciesid === 'cramorant' ||\r\n\t\t\t\tbaseSpeciesid === 'indeedee' ||\r\n\t\t\t\tbaseSpeciesid === 'lycanroc' ||\r\n\t\t\t\tbaseSpeciesid === 'necrozma' ||\r\n\t\t\t\tbaseSpeciesid === 'oinkologne' ||\r\n\t\t\t\tbaseSpeciesid === 'oricorio' ||\r\n\t\t\t\tbaseSpeciesid === 'slowpoke' ||\r\n\t\t\t\tbaseSpeciesid === 'tatsugiri' ||\r\n\t\t\t\tbaseSpeciesid === 'zygarde'\r\n\t\t\t)) { spriteData.cryurl += formeid; }\r\n\t\t\tspriteData.cryurl += '.mp3';\r\n\t\t}\r\n\t\tif (options.shiny && mechanicsGen > 1) dir += '-shiny';\r\n\t\t// April Fool's 2014\r\n\t\tif (Dex.afdMode || options.afd) {\r\n\t\t\t// Explicit false check above means AFD will be off if the user disables it - no matter what\r\n\t\t\tdir = 'afd' + dir;\r\n\t\t\tspriteData.url += dir + '/' + name + '.png';\r\n\t\t\t// Duplicate code but needed to make AFD tinymax work\r\n\t\t\t// April Fool's 2020\r\n\t\t\tif (isDynamax && !options.noScale) {\r\n\t\t\t\tspriteData.w *= 0.25;\r\n\t\t\t\tspriteData.h *= 0.25;\r\n\t\t\t\tspriteData.y += -22;\r\n\t\t\t} else if (species.isTotem && !options.noScale) {\r\n\t\t\t\tspriteData.w *= 0.5;\r\n\t\t\t\tspriteData.h *= 0.5;\r\n\t\t\t\tspriteData.y += -11;\r\n\t\t\t}\r\n\t\t\treturn spriteData;\r\n\t\t}\r\n\t\t// Mod Cries\r\n\t\tif (options.mod) {\r\n\t\t\tspriteData.cryurl = `sprites/${options.mod}/audio/${toID(species.baseSpecies)}`;\r\n\t\t\tspriteData.cryurl += '.mp3';\r\n\t\t}\r\n\t\tlet animatedSprite = false;\r\n\t\tif (!Dex.prefs('noanim') && !Dex.prefs('nogif') && spriteData.gen >= 5) {\r\n\t\t\tconst animationArray: [AnyObject, string][] = [];\r\n\t\t\tif (baseDir === '' && window.BattlePokemonSprites) { animationArray.push([BattlePokemonSprites[speciesid], '']); }\r\n\t\t\tif (window.BattlePokemonSpritesBW) { animationArray.push([BattlePokemonSpritesBW[speciesid], 'gen5']); }\r\n\t\t\tfor (const [animationData, animDir] of animationArray) {\r\n\t\t\t\tif (!animationData) continue;\r\n\t\t\t\tif (animationData[facing + 'f'] && options.gender === 'F') facing += 'f';\r\n\t\t\t\tif (!animationData[facing]) continue;\r\n\t\t\t\tif (facing.endsWith('f')) name += '-f';\r\n\t\t\t\tif (spriteData.gen >= 6) spriteData.pixelated = false;\r\n\t\t\t\tdir = animDir + 'ani' + dir;\r\n\t\t\t\tspriteData.w = animationData[facing].w;\r\n\t\t\t\tspriteData.h = animationData[facing].h;\r\n\t\t\t\tspriteData.url += dir + '/' + name + '.gif';\r\n\t\t\t\tanimatedSprite = true;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (!animatedSprite) {\r\n\t\t\t// There is no entry or enough data in pokedex-mini.js\r\n\t\t\t// Handle these in case-by-case basis; either using BW sprites or matching the played gen.\r\n\t\t\tdir = (baseDir || 'gen5') + dir;\r\n\t\t\t// Gender differences don't exist prior to Gen 4,\r\n\t\t\t// so there are no sprites for it\r\n\t\t\tif (spriteData.gen >= 4 && miscData['frontf'] && options.gender === 'F') { name += '-f'; }\r\n\t\t\tspriteData.url += dir + '/' + name + '.png';\r\n\t\t}\r\n\t\tif (!options.noScale) { if (graphicsGen > 4) {} // no scaling\r\n\t\t\telse if (spriteData.isFrontSprite) {\r\n\t\t\t\tspriteData.w *= 2;\r\n\t\t\t\tspriteData.h *= 2;\r\n\t\t\t\tspriteData.y += -16;\r\n\t\t\t} \r\n\t\t\telse { // old gen backsprites are multiplied by 1.5x by the 3D engine\r\n\t\t\t\tspriteData.w *= 2 / 1.5;\r\n\t\t\t\tspriteData.h *= 2 / 1.5;\r\n\t\t\t\tspriteData.y += -11;\r\n\t\t\t}\r\n\t\t\tif (spriteData.gen <= 2) spriteData.y += 2;\r\n\t\t}\r\n\t\tif (isDynamax && !options.noScale) {\r\n\t\t\tspriteData.w *= 2;\r\n\t\t\tspriteData.h *= 2;\r\n\t\t\tspriteData.y += -22;\r\n\t\t} else if (species.isTotem && !options.noScale) {\r\n\t\t\tspriteData.w *= 1.5;\r\n\t\t\tspriteData.h *= 1.5;\r\n\t\t\tspriteData.y += -11;\r\n\t\t}\r\n\t\treturn spriteData;\r\n\t}\r\n\tgetPokemonIconNum(id: ID, isFemale?: boolean, facingLeft?: boolean) {\r\n\t\tlet num = 0;\r\n\t\tif (window.BattlePokemonSprites?.[id]?.num) { num = BattlePokemonSprites[id].num; } \r\n\t\telse if (window.BattlePokedex?.[id]?.num) { num = BattlePokedex[id].num; }\r\n\t\tif (num < 0) num = 0;\r\n\t\tif (num > 1025) num = 0;\r\n\t\tif (window.BattlePokemonIconIndexes?.[id]) { num = BattlePokemonIconIndexes[id]; }\r\n\t\tif (isFemale) {\r\n\t\t\tif (['unfezant', 'frillish', 'jellicent', 'meowstic', 'pyroar'].includes(id)) { num = BattlePokemonIconIndexes[id + 'f']; }\r\n\t\t}\r\n\t\tif (facingLeft) { if (BattlePokemonIconIndexesLeft[id]) { num = BattlePokemonIconIndexesLeft[id]; } }\r\n\t\treturn num;\r\n\t}\r\n\tgetPokemonIcon(pokemon: string | Pokemon | ServerPokemon | Dex.PokemonSet | null, facingLeft?: boolean) {\r\n\t\tif (pokemon === 'pokeball') { return `background:transparent url(${Dex.resourcePrefix}sprites/pokemonicons-pokeball-sheet.png) no-repeat scroll -0px 4px`; } \r\n\t\telse if (pokemon === 'pokeball-statused') { return `background:transparent url(${Dex.resourcePrefix}sprites/pokemonicons-pokeball-sheet.png) no-repeat scroll -40px 4px`; } \r\n\t\telse if (pokemon === 'pokeball-fainted') { return `background:transparent url(${Dex.resourcePrefix}sprites/pokemonicons-pokeball-sheet.png) no-repeat scroll -80px 4px;opacity:.4;filter:contrast(0)`; } \r\n\t\telse if (pokemon === 'pokeball-none') { return `background:transparent url(${Dex.resourcePrefix}sprites/pokemonicons-pokeball-sheet.png) no-repeat scroll -80px 4px`; }\r\n\t\tlet id = toID(pokemon);\r\n\t\tif (!pokemon || typeof pokemon === 'string') pokemon = null;\r\n\t\t// @ts-expect-error safe, but too lazy to cast\r\n\t\tif (pokemon?.speciesForme) id = toID(pokemon.speciesForme);\r\n\t\t// @ts-expect-error safe, but too lazy to cast\r\n\t\tif (pokemon?.species) id = toID(pokemon.species);\r\n\t\t// @ts-expect-error safe, but too lazy to cast\r\n\t\tif (pokemon?.volatiles?.formechange && !pokemon.volatiles.transform) {\r\n\t\t\t// @ts-expect-error safe, but too lazy to cast\r\n\t\t\tid = toID(pokemon.volatiles.formechange[1]);\r\n\t\t}\r\n\t\tlet num = this.getPokemonIconNum(id, pokemon?.gender === 'F', facingLeft);\r\n\t\tlet top = Math.floor(num / 12) * 30;\r\n\t\tlet left = (num % 12) * 40;\r\n\t\tlet fainted = ((pokemon as Pokemon | ServerPokemon)?.fainted ?\r\n\t\t\t`;opacity:.3;filter:grayscale(100%) brightness(.5)` : ``);\r\n\t\treturn `background:transparent url(${Dex.resourcePrefix}sprites/pokemonicons-sheet.png?v19) no-repeat scroll -${left}px -${top}px${fainted}`;\r\n\t}\r\n\tgetTeambuilderSpriteData(pokemon: any, dex: ModdedDex = Dex): TeambuilderSpriteData {\r\n\t\tlet gen = dex.gen;\r\n\t\tlet id = toID(pokemon.species || pokemon);\r\n\t\tlet species = Dex.species.get(id);\r\n\t\tlet spriteid: string;\r\n\t\tif (typeof pokemon === 'string') { spriteid = species.spriteid || id; } \r\n\t\telse {\r\n\t\t\tspriteid = pokemon.spriteid;\r\n\t\t\tif (pokemon.species && !spriteid) { spriteid = species.spriteid || id; }\r\n\t\t}\r\n\t\tif (species.exists === false) return { spriteDir: 'sprites/gen5', spriteid: '0', x: 10, y: 5 };\r\n\t\tif (Dex.afdMode) {\r\n\t\t\treturn {\r\n\t\t\t\tspriteid,\r\n\t\t\t\tspriteDir: 'sprites/afd',\r\n\t\t\t\tshiny: !!pokemon.shiny,\r\n\t\t\t\tx: 10,\r\n\t\t\t\ty: 5,\r\n\t\t\t};\r\n\t\t}\r\n\t\tconst spriteData: TeambuilderSpriteData = {\r\n\t\t\tspriteid,\r\n\t\t\tspriteDir: 'sprites/dex',\r\n\t\t\tx: -2,\r\n\t\t\ty: -3,\r\n\t\t};\r\n\t\tif (pokemon.shiny) spriteData.shiny = true;\r\n\t\tif (dex.modid === 'gen7letsgo') gen = 8;\r\n\t\tif (Dex.prefs('nopastgens')) gen = 9;\r\n\t\tif (Dex.prefs('bwgfx') && gen > 5) gen = 5;\r\n\t\tlet homeExists = (!species.isNonstandard || !['CAP', 'Custom'].includes(species.isNonstandard) ||\r\n\t\t\tspecies.id === \"xerneasneutral\") && ![\r\n\t\t\t\"floetteeternal\", \"pichuspikyeared\", \"pikachubelle\", \"pikachucosplay\", \"pikachulibre\", \"pikachuphd\", \"pikachupopstar\", \"pikachurockstar\",\r\n\t\t].includes(species.id);\r\n\t\tif (gen >= 8 && homeExists) {\r\n\t\t\tspriteData.spriteDir = 'sprites/home-centered';\r\n\t\t\tspriteData.x = 8;\r\n\t\t\tspriteData.y = 10;\r\n\t\t\tspriteData.h = 96;\r\n\t\t\treturn spriteData;\r\n\t\t}\r\n\t\tlet xydexExists = (!species.isNonstandard || species.isNonstandard === 'Past' || species.isNonstandard === 'CAP') || [\r\n\t\t\t\"pikachustarter\", \"eeveestarter\", \"meltan\", \"melmetal\", \"pokestarufo\", \"pokestarufo2\", \"pokestarbrycenman\", \"pokestarmt\", \"pokestarmt2\", \"pokestargiant\", \"pokestarhumanoid\", \"pokestarmonster\", \"pokestarf00\", \"pokestarf002\", \"pokestarspirit\",\r\n\t\t].includes(species.id);\r\n\t\tif (species.gen >= 8 && species.isNonstandard !== 'CAP') xydexExists = false;\r\n\t\tif (gen >= 6 && xydexExists) {\r\n\t\t\tif (species.gen >= 7) {\r\n\t\t\t\tspriteData.x = -6;\r\n\t\t\t\tspriteData.y = -7;\r\n\t\t\t} else if (id.substr(0, 6) === 'arceus') {\r\n\t\t\t\tspriteData.x = -2;\r\n\t\t\t\tspriteData.y = 7;\r\n\t\t\t} else if (id === 'garchomp') {\r\n\t\t\t\tspriteData.x = -2;\r\n\t\t\t\tspriteData.y = 2;\r\n\t\t\t} else if (id === 'garchompmega') {\r\n\t\t\t\tspriteData.x = -2;\r\n\t\t\t\tspriteData.y = 0;\r\n\t\t\t}\r\n\t\t\treturn spriteData;\r\n\t\t}\r\n\t\tspriteData.spriteDir = 'sprites/gen5';\r\n\t\tif (gen <= 1 && species.gen <= 1) spriteData.spriteDir = 'sprites/gen1';\r\n\t\telse if (gen <= 2 && species.gen <= 2) spriteData.spriteDir = 'sprites/gen2';\r\n\t\telse if (gen <= 3 && species.gen <= 3) spriteData.spriteDir = 'sprites/gen3';\r\n\t\telse if (gen <= 4 && species.gen <= 4) spriteData.spriteDir = 'sprites/gen4';\r\n\t\tspriteData.x = 10;\r\n\t\tspriteData.y = 5;\r\n\t\treturn spriteData;\r\n\t}\r\n\tgetTeambuilderSprite(pokemon: any, dex?: ModdedDex, xOffset = 0, yOffset = 0) {\r\n\t\tif (!pokemon) return '';\r\n\t\tconst data = this.getTeambuilderSpriteData(pokemon, dex);\r\n\t\tconst shiny = (data.shiny ? '-shiny' : '');\r\n\t\tconst resize = (data.h ? `background-size:${data.h}px` : '');\r\n\t\treturn `background-image:url(${Dex.resourcePrefix}${data.spriteDir}${shiny}/${data.spriteid}.png);background-position:${data.x + xOffset}px ${data.y + yOffset}px;background-repeat:no-repeat;${resize}`;\r\n\t}\r\n\tgetItemIcon(item: any) {\r\n\t\tlet num = 0;\r\n\t\tif (typeof item === 'string' && window.BattleItems) item = window.BattleItems[toID(item)];\r\n\t\tif (item?.spritenum) num = item.spritenum;\r\n\t\tlet top = Math.floor(num / 16) * 24;\r\n\t\tlet left = (num % 16) * 24;\r\n\t\treturn `background:transparent url(${Dex.resourcePrefix}sprites/itemicons-sheet.png?v1) no-repeat scroll -${left}px -${top}px`;\r\n\t}\r\n\tgetTypeIcon(type: string | null, b?: boolean) { // b is just for utilichart.js\r\n\t\ttype = this.types.get(type).name;\r\n\t\tif (!type) type = '???';\r\n\t\tlet sanitizedType = type.replace(/\\?/g, '%3f');\r\n\t\treturn `<img src=\"${Dex.resourcePrefix}sprites/types/${sanitizedType}.png\" alt=\"${type}\" height=\"14\" width=\"32\" class=\"pixelated${b ? ' b' : ''}\" />`;\r\n\t}\r\n\tgetFlagIcon(flag: string | null,) {\r\n\t\tif (!flag) return '\\u2014'; // em dash\r\n\t\tconst flagID = toID(flag);\r\n\t\tlet sanitizedFlag = '';\r\n\t\tswitch (flagID) {\r\n\t\tcase 'zmove': sanitizedFlag = 'Z-Move'; break;\r\n\t\tcase 'maxmove': sanitizedFlag = 'Max Move'; break;\r\n\t\tcase 'contact': sanitizedFlag = 'Contact'; break;\r\n\t\tcase 'binding': case 'bind': sanitizedFlag = 'Bind'; break;\r\n\t\tcase 'bite': sanitizedFlag = 'Bite'; break;\r\n\t\tcase 'bomb': sanitizedFlag = 'Bomb'; break;\r\n\t\tcase 'bullet': sanitizedFlag = 'Bullet'; break;\r\n\t\tcase 'drain': sanitizedFlag = 'Drain'; break;\r\n\t\tcase 'explosive': sanitizedFlag = 'Explosive'; break;\r\n\t\tcase 'fist': case 'punch': sanitizedFlag = 'Punch'; break;\r\n\t\tcase 'powder': sanitizedFlag = 'Powder'; break;\r\n\t\tcase 'pulse': sanitizedFlag = 'Pulse'; break;\r\n\t\tcase 'slicing': case 'slice': sanitizedFlag = 'Slice'; break;\r\n\t\tcase 'sound': sanitizedFlag = 'Sound'; break;\r\n\t\tcase 'wind': sanitizedFlag = 'Wind'; break;\r\n\t\tcase 'airborne': sanitizedFlag = 'Airborne'; break;\r\n\t\tcase 'aura': sanitizedFlag = 'Aura'; break;\r\n\t\tcase 'beam': sanitizedFlag = 'Beam'; break;\r\n\t\tcase 'breath': sanitizedFlag = 'Breath'; break;\r\n\t\tcase 'claw': sanitizedFlag = 'Claw'; break;\r\n\t\tcase 'crash': sanitizedFlag = 'Crash'; break;\r\n\t\tcase 'crush': sanitizedFlag = 'Crush'; break;\r\n\t\tcase 'dance': sanitizedFlag = 'Dance'; break;\r\n\t\tcase 'heal': sanitizedFlag = 'Heal'; break;\r\n\t\tcase 'kick': sanitizedFlag = 'Kick'; break;\r\n\t\tcase 'launch': sanitizedFlag = 'Launch'; break;\r\n\t\tcase 'light': sanitizedFlag = 'Light'; break;\r\n\t\tcase 'lunar': sanitizedFlag = 'Lunar'; break;\r\n\t\tcase 'magic': sanitizedFlag = 'Magic'; break;\r\n\t\tcase 'pierce': sanitizedFlag = 'Pierce'; break;\r\n\t\tcase 'shadow': sanitizedFlag = 'Shadow'; break;\r\n\t\tcase 'solar': sanitizedFlag = 'Solar'; break;\r\n\t\tcase 'spin': sanitizedFlag = 'Spin'; break;\r\n\t\tcase 'sweep': sanitizedFlag = 'Sweep'; break;\r\n\t\tcase 'throw': sanitizedFlag = 'Throw'; break;\r\n\t\tcase 'weapon': sanitizedFlag = 'Weapon'; break;\r\n\t\tcase 'wing': sanitizedFlag = 'Wing'; break;\r\n\t\tcase 'bypassprotect': sanitizedFlag = 'Bypass Protect'; break;\r\n\t\tcase 'nonreflectable': sanitizedFlag = 'Non-Reflectable'; break;\r\n\t\tcase 'nonmirror': sanitizedFlag = 'Non-Mirror'; break;\r\n\t\tcase 'nonsnatchable': sanitizedFlag = 'Non-Snatchable'; break;\r\n\t\tcase 'bypasssubstitute': sanitizedFlag = 'Bypass Substitute'; break;\r\n\t\tcase 'gmaxmove': sanitizedFlag = 'G-Max Move'; break;\r\n\t\tdefault:\r\n\t\t\tsanitizedFlag = 'undefined';\r\n\t\t\tbreak;\r\n\t\t}\r\n\t\tconst flagText = sanitizedFlag.charAt(0).toUpperCase() + sanitizedFlag.slice(1);\r\n\t\t// Always return icon HTML - preference checking is done by the caller (moves list only)\r\n\t\treturn `<img src=\"sprites/flagicons/${sanitizedFlag}.png\" alt=\"${flagText}\" height=\"32\" width=\"132\" class=\"pixelated\" onerror=\"this.style.display='none'; this.nextSibling.style.display='inline';\" /><span style=\"display: none;\">${flagText}</span>`;\r\n\t}\r\n\tgetCategoryIcon(category: string | null) {\r\n\t\tconst categoryID = toID(category);\r\n\t\tlet sanitizedCategory = '';\r\n\t\tswitch (categoryID) {\r\n\t\tcase 'physical':\r\n\t\tcase 'special':\r\n\t\tcase 'status':\r\n\t\t\tsanitizedCategory = categoryID.charAt(0).toUpperCase() + categoryID.slice(1);\r\n\t\t\tbreak;\r\n\t\tdefault:\r\n\t\t\tsanitizedCategory = 'undefined';\r\n\t\t\tbreak;\r\n\t\t}\r\n\t\treturn `<img src=\"${Dex.resourcePrefix}sprites/categories/${sanitizedCategory}.png\" alt=\"${sanitizedCategory}\" height=\"14\" width=\"32\" class=\"pixelated\" onerror=\"this.style.display='none'; this.nextSibling.style.display='inline';\" /><span style=\"display: none; font-size: 10px; font-weight: bold; text-align: center;\">${sanitizedCategory}</span>`;\r\n\t}\r\n\tgetPokeballs() {\r\n\t\tif (this.pokeballs) return this.pokeballs;\r\n\t\tthis.pokeballs = [];\r\n\t\twindow.BattleItems ||= {};\r\n\t\tfor (const data of Object.values(BattleItems)) {\r\n\t\t\tif (!data.isPokeball) continue;\r\n\t\t\tthis.pokeballs.push(data.name);\r\n\t\t}\r\n\t\treturn this.pokeballs;\r\n\t}\r\n};\r\n//region Modded Dex\r\nexport class ModdedDex {\r\n\treadonly gen: number;\r\n\treadonly modid: ID;\r\n\treadonly cache = {\r\n\t\tMoves: {} as { [k: string]: Move },\r\n\t\tFlags: {} as { [k: string]: Flag },\r\n\t\tItems: {} as { [k: string]: Item },\r\n\t\tAbilities: {} as { [k: string]: Ability },\r\n\t\tSpecies: {} as { [k: string]: Species },\r\n\t\tTypes: {} as { [k: string]: Dex.Effect },\r\n\t};\r\n\tpokeballs: string[] | null = null;\r\n\r\n\tconstructor(modid: ID) {\r\n\t\tthis.modid = modid;\r\n\t\tconst gen = parseInt(modid.charAt(3), 10);\r\n\t\tif (!modid.startsWith('gen') || !gen) throw new Error(\"Unsupported modid\");\r\n\t\tthis.gen = gen;\r\n\t}\r\n\r\n\tmoves = {\r\n\t\tget: (name: string): Move => {\r\n\t\t\tlet id = toID(name);\r\n\t\t\tif (window.BattleAliases && id in BattleAliases) {\r\n\t\t\t\tname = BattleAliases[id];\r\n\t\t\t\tid = toID(name);\r\n\t\t\t}\r\n\t\t\tif (this.cache.Moves.hasOwnProperty(id)) return this.cache.Moves[id];\r\n\r\n\t\t\tconst base: any = Dex.moves.get(name);\r\n\t\t\tlet data: any = { ...base };\r\n\r\n\t\t\t// inherited gen overrides\r\n\t\t\tfor (let i = Dex.gen - 1; i >= this.gen; i--) {\r\n\t\t\t\tconst table = window.BattleTeambuilderTable?.[`gen${i}`];\r\n\t\t\t\tif (table?.overrideMoveData && id in table.overrideMoveData) Object.assign(data, table.overrideMoveData[id]);\r\n\t\t\t}\r\n\r\n\t\t\t// mod overrides (also used as full defs for NEW moves)\r\n\t\t\tconst modTable = window.BattleTeambuilderTable?.[this.modid];\r\n\t\t\tconst modHas = !!(modTable?.overrideMoveData && id in modTable.overrideMoveData);\r\n\t\t\tif (modHas) Object.assign(data, modTable.overrideMoveData[id]);\r\n\r\n\t\t\t// if base doesn't exist but mod defines it, make it real\r\n\t\t\tif (modHas && base && base.exists === false) {\r\n\t\t\t\tdata.exists = true;\r\n\t\t\t\tdata.id ||= id;\r\n\t\t\t\tdata.name ||= name;\r\n\t\t\t}\r\n\r\n\t\t\tif (this.gen <= 3 && data.category !== 'Status') data.category = Dex.getGen3Category(data.type);\r\n\r\n\t\t\tconst move = new Move(id, data.name || name, data);\r\n\t\t\tthis.cache.Moves[id] = move;\r\n\t\t\treturn move;\r\n\t\t},\r\n\t};\r\n\r\n\tflags = {\r\n\t\tget: (name: string): Flag => {\r\n\t\t\tlet id = toID(name);\r\n\t\t\tif (window.BattleAliases && id in BattleAliases) {\r\n\t\t\t\tname = BattleAliases[id];\r\n\t\t\t\tid = toID(name);\r\n\t\t\t}\r\n\t\t\tif (this.cache.Flags.hasOwnProperty(id)) return this.cache.Flags[id];\r\n\r\n\t\t\tconst base: any = Dex.flags.get(name);\r\n\t\t\tlet data: any = { ...base };\r\n\r\n\t\t\tfor (let i = Dex.gen - 1; i >= this.gen; i--) {\r\n\t\t\t\tconst table = window.BattleTeambuilderTable?.[`gen${i}`];\r\n\t\t\t\tif (table?.overrideFlagData && id in table.overrideFlagData) Object.assign(data, table.overrideFlagData[id]);\r\n\t\t\t}\r\n\r\n\t\t\tconst modTable = window.BattleTeambuilderTable?.[this.modid];\r\n\t\t\tconst modHas = !!(modTable?.overrideFlagData && id in modTable.overrideFlagData);\r\n\t\t\tif (modHas) Object.assign(data, modTable.overrideFlagData[id]);\r\n\r\n\t\t\tif (modHas && base && base.exists === false) {\r\n\t\t\t\tdata.exists = true;\r\n\t\t\t\tdata.id ||= id;\r\n\t\t\t\tdata.name ||= name;\r\n\t\t\t}\r\n\r\n\t\t\tconst flag = new Flag(id, data.name || name, data);\r\n\t\t\tthis.cache.Flags[id] = flag;\r\n\t\t\treturn flag;\r\n\t\t},\r\n\t};\r\n\r\n\titems = {\r\n\t\tget: (name: string): Item => {\r\n\t\t\tlet id = toID(name);\r\n\t\t\tif (window.BattleAliases && id in BattleAliases) {\r\n\t\t\t\tname = BattleAliases[id];\r\n\t\t\t\tid = toID(name);\r\n\t\t\t}\r\n\t\t\tif (this.cache.Items.hasOwnProperty(id)) return this.cache.Items[id];\r\n\r\n\t\t\tconst base: any = Dex.items.get(name);\r\n\t\t\tlet data: any = { ...base };\r\n\r\n\t\t\tfor (let i = Dex.gen - 1; i >= this.gen; i--) {\r\n\t\t\t\tconst table = window.BattleTeambuilderTable?.[`gen${i}`];\r\n\t\t\t\tif (table?.overrideItemData && id in table.overrideItemData) Object.assign(data, table.overrideItemData[id]);\r\n\t\t\t}\r\n\r\n\t\t\tconst modTable = window.BattleTeambuilderTable?.[this.modid];\r\n\t\t\tconst modHas = !!(modTable?.overrideItemData && id in modTable.overrideItemData);\r\n\t\t\tif (modHas) Object.assign(data, modTable.overrideItemData[id]);\r\n\r\n\t\t\tif (modHas && base && base.exists === false) {\r\n\t\t\t\tdata.exists = true;\r\n\t\t\t\tdata.id ||= id;\r\n\t\t\t\tdata.name ||= name;\r\n\t\t\t}\r\n\r\n\t\t\tconst item = new Item(id, data.name || name, data);\r\n\t\t\tthis.cache.Items[id] = item;\r\n\t\t\treturn item;\r\n\t\t},\r\n\t};\r\n\r\n\tabilities = {\r\n\t\tget: (name: string): Ability => {\r\n\t\t\tlet id = toID(name);\r\n\t\t\tif (window.BattleAliases && id in BattleAliases) {\r\n\t\t\t\tname = BattleAliases[id];\r\n\t\t\t\tid = toID(name);\r\n\t\t\t}\r\n\t\t\tif (this.cache.Abilities.hasOwnProperty(id)) return this.cache.Abilities[id];\r\n\r\n\t\t\tconst base: any = Dex.abilities.get(name);\r\n\t\t\tlet data: any = { ...base };\r\n\r\n\t\t\tfor (let i = Dex.gen - 1; i >= this.gen; i--) {\r\n\t\t\t\tconst table = window.BattleTeambuilderTable?.[`gen${i}`];\r\n\t\t\t\tif (table?.overrideAbilityData && id in table.overrideAbilityData) Object.assign(data, table.overrideAbilityData[id]);\r\n\t\t\t}\r\n\r\n\t\t\tconst modTable = window.BattleTeambuilderTable?.[this.modid];\r\n\t\t\tconst modHas = !!(modTable?.overrideAbilityData && id in modTable.overrideAbilityData);\r\n\t\t\tif (modHas) Object.assign(data, modTable.overrideAbilityData[id]);\r\n\r\n\t\t\tif (modHas && base && base.exists === false) {\r\n\t\t\t\tdata.exists = true;\r\n\t\t\t\tdata.id ||= id;\r\n\t\t\t\tdata.name ||= name;\r\n\t\t\t}\r\n\r\n\t\t\tconst ability = new Ability(id, data.name || name, data);\r\n\t\t\tthis.cache.Abilities[id] = ability;\r\n\t\t\treturn ability;\r\n\t\t},\r\n\t};\r\n\r\n\tspecies = {\r\n\t\tget: (name: string): Species => {\r\n\t\t\tlet id = toID(name);\r\n\t\t\tif (window.BattleAliases && id in BattleAliases) {\r\n\t\t\t\tname = BattleAliases[id];\r\n\t\t\t\tid = toID(name);\r\n\t\t\t}\r\n\t\t\tif (this.cache.Species.hasOwnProperty(id)) return this.cache.Species[id];\r\n\r\n\t\t\tconst base: any = Dex.species.get(name);\r\n\t\t\tlet data: any = { ...base };\r\n\r\n\t\t\t// inherited gen overrides\r\n\t\t\tfor (let i = Dex.gen - 1; i >= this.gen; i--) {\r\n\t\t\t\tconst table = window.BattleTeambuilderTable?.[`gen${i}`];\r\n\t\t\t\tif (table?.overrideSpeciesData && id in table.overrideSpeciesData) Object.assign(data, table.overrideSpeciesData[id]);\r\n\t\t\t}\r\n\r\n\t\t\t// mod overrides (also used as full defs for NEW species later)\r\n\t\t\tconst modTable = window.BattleTeambuilderTable?.[this.modid];\r\n\t\t\tconst modHas = !!(modTable?.overrideSpeciesData && id in modTable.overrideSpeciesData);\r\n\t\t\tif (modHas) Object.assign(data, modTable.overrideSpeciesData[id]);\r\n\r\n\t\t\t// if base doesn't exist but mod defines it, make it real\r\n\t\t\tif (modHas && base && base.exists === false) {\r\n\t\t\t\tdata.exists = true;\r\n\t\t\t\tdata.id ||= id;\r\n\t\t\t\tdata.name ||= name;\r\n\t\t\t}\r\n\r\n\t\t\tif (this.gen < 3 || this.modid === 'gen7letsgo') data.abilities = { 0: \"No Ability\" };\r\n\r\n\t\t\tif (modTable?.overrideTier && id in modTable.overrideTier) data.tier = modTable.overrideTier[id];\r\n\t\t\tif (!data.tier && id.endsWith('totem')) data.tier = this.species.get(id.slice(0, -5)).tier;\r\n\t\t\tif (!data.tier && data.baseSpecies && toID(data.baseSpecies) !== id) data.tier = this.species.get(data.baseSpecies).tier;\r\n\t\t\tif (data.gen && data.gen > this.gen) data.tier = 'Illegal';\r\n\r\n\t\t\tdata.nfe = data.id === 'dipplin' || !!data.evos?.some((evo: string) => {\r\n\t\t\t\tconst evoSpecies = this.species.get(evo);\r\n\t\t\t\treturn !evoSpecies.isNonstandard || evoSpecies.isNonstandard === data.isNonstandard ||\r\n\t\t\t\t\tevoSpecies.isNonstandard === \"Unobtainable\";\r\n\t\t\t});\r\n\r\n\t\t\tconst species = new Species(id, data.name || name, data);\r\n\t\t\tthis.cache.Species[id] = species;\r\n\t\t\treturn species;\r\n\t\t},\r\n\t};\r\n\r\n\ttypes = {\r\n\t\tnamesCache: null as readonly Dex.TypeName[] | null,\r\n\t\tnames: (): readonly Dex.TypeName[] => {\r\n\t\t\tif (this.types.namesCache) return this.types.namesCache;\r\n\t\t\tconst names = Dex.types.names();\r\n\t\t\tif (!names.length) return [];\r\n\t\t\tconst curNames = [...names];\r\n\t\t\t// if (this.gen < 9) curNames.splice(curNames.indexOf('Stellar'), 1);\r\n\t\t\tif (this.gen < 6) curNames.splice(curNames.indexOf('Fairy'), 1);\r\n\t\t\tif (this.gen < 2) curNames.splice(curNames.indexOf('Dark'), 1);\r\n\t\t\tif (this.gen < 2) curNames.splice(curNames.indexOf('Steel'), 1);\r\n\t\t\tthis.types.namesCache = curNames;\r\n\t\t\treturn curNames;\r\n\t\t},\r\n\t\tget: (name: string): Dex.Type => {\r\n\t\t\tconst id = toID(name);\r\n\t\t\tname = id.substr(0, 1).toUpperCase() + id.substr(1);\r\n\t\t\tif (this.cache.Types.hasOwnProperty(id)) return this.cache.Types[id];\r\n\t\t\tlet data = { ...Dex.types.get(name) };\r\n\t\t\tfor (let i = 7; i >= this.gen; i--) {\r\n\t\t\t\tconst table = window.BattleTeambuilderTable[`gen${i}`];\r\n\t\t\t\tif (id in table.removeType) {\r\n\t\t\t\t\tdata.exists = false;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tif (id in table.overrideTypeChart) data = { ...data, ...table.overrideTypeChart[id] };\r\n\t\t\t}\r\n\t\t\tthis.cache.Types[id] = data;\r\n\t\t\treturn data;\r\n\t\t},\r\n\t};\r\n\r\n\tgetPokeballs() {\r\n\t\tif (this.pokeballs) return this.pokeballs;\r\n\t\tthis.pokeballs = [];\r\n\t\twindow.BattleItems ||= {};\r\n\t\tfor (const data of Object.values(BattleItems)) {\r\n\t\t\tif (data.gen && data.gen > this.gen) continue;\r\n\t\t\tif (!data.isPokeball) continue;\r\n\t\t\tthis.pokeballs.push(data.name);\r\n\t\t}\r\n\t\treturn this.pokeballs;\r\n\t}\r\n}\r\n\r\nif (typeof require === 'function') { // in Node\r\n\tglobal.Dex = Dex;\r\n\tglobal.toID = toID;\r\n}","import { Dex, toID, type ModdedDex } from \"./battle-dex\";\r\nimport { BattleNatures, BattleStatNames, BattleStatIDs, type StatNameExceptHP, type ID } from \"./battle-dex-data\";\r\n\r\nexport declare namespace Teams {\r\n\t/**\r\n\t * Teams.PokemonSet can be sparse, in which case that entry should be\r\n\t * inferred from the rest of the set, according to sensible\r\n\t * defaults.\r\n\t */\r\n\texport interface FullPokemonSet {\r\n\t\t/** Defaults to species name (not including forme), like in games */\r\n\t\tname: string;\r\n\t\tspecies: string;\r\n\t\t/** Defaults to no item */\r\n\t\titem?: string;\r\n\t\t/** Defaults to no ability (error in Gen 3+) */\r\n\t\tability?: string;\r\n\t\tmoves: string[];\r\n\t\t/** Defaults to no nature (error in Gen 3+) */\r\n\t\tnature?: Dex.NatureName;\r\n\t\t/** Defaults to random legal gender, NOT subject to gender ratios */\r\n\t\tgender?: string;\r\n\t\t/** Defaults to flat 252's (200's/0's in Let's Go) (error in gen 3+) */\r\n\t\tevs: Partial<Dex.StatsTable>;\r\n\t\t/** Defaults to whatever makes sense - flat 31's unless you have Gyro Ball etc */\r\n\t\tivs: Dex.StatsTable;\r\n\t\t/** Defaults as you'd expect (100 normally, 50 in VGC-likes, 5 in LC) */\r\n\t\tlevel: number;\r\n\t\t/** Defaults to no (error if shiny event) */\r\n\t\tshiny: boolean;\r\n\t\t/** Defaults to 255 unless you have Frustration, in which case 0 */\r\n\t\thappiness: number;\r\n\t\t/** Defaults to event required ball, otherwise Pok Ball */\r\n\t\tpokeball: string;\r\n\t\t/** Defaults to the type of your Hidden Power in Moves, otherwise Dark */\r\n\t\thpType?: string;\r\n\t\t/** Defaults to 10 */\r\n\t\tdynamaxLevel?: number;\r\n\t\t/** Defaults to no (can only be yes for certain Pokemon) */\r\n\t\tgigantamax?: boolean;\r\n\t\t/** Defaults to the primary type */\r\n\t\tteraType?: string;\r\n\t\t/** Pokemon size (cosmetic) */\r\n\t\tsize?: string;\r\n\t}\r\n\texport interface PokemonSet extends Partial<FullPokemonSet> {\r\n\t\t/** Defaults to species name (not including forme), like in games */\r\n\t\tspecies: string;\r\n\t\tmoves: string[];\r\n\t}\r\n\texport interface Team {\r\n\t\tname: string;\r\n\t\tformat: ID;\r\n\t\tfolder: string;\r\n\t\t/** Note that this can be wrong if `.uploaded?.notLoaded` */\r\n\t\tpackedTeam: string;\r\n\t\tisBox: boolean;\r\n\t}\r\n}\r\n\r\nexport const Teams = new class {\r\n\tpack(team: Teams.PokemonSet[] | null): string {\r\n\t\tif (!team) return '';\r\n\r\n\t\tfunction getIv(ivs: Dex.StatsTable, s: keyof Dex.StatsTable): string {\r\n\t\t\treturn ivs[s] === 31 || ivs[s] === undefined ? '' : ivs[s].toString();\r\n\t\t}\r\n\r\n\t\tlet buf = '';\r\n\t\tfor (const set of team) {\r\n\t\t\tif (buf) buf += ']';\r\n\r\n\t\t\t// name\r\n\t\t\tbuf += (set.name || set.species);\r\n\r\n\t\t\t// species\r\n\t\t\tconst speciesid = this.packName(set.species || set.name);\r\n\t\t\tbuf += `|${this.packName(set.name || set.species) === speciesid ? '' : speciesid}`;\r\n\r\n\t\t\t// item\r\n\t\t\tbuf += `|${this.packName(set.item)}`;\r\n\r\n\t\t\t// ability\r\n\t\t\tbuf += `|${this.packName(set.ability)}`;\r\n\r\n\t\t\t// moves\r\n\t\t\tbuf += '|' + set.moves.map(this.packName).join(',');\r\n\r\n\t\t\t// nature\r\n\t\t\tbuf += `|${set.nature || ''}`;\r\n\r\n\t\t\t// evs\r\n\t\t\tlet evs = '|';\r\n\t\t\tif (set.evs) {\r\n\t\t\t\tevs = `|${set.evs['hp'] || ''},${set.evs['atk'] || ''},${set.evs['def'] || ''},` +\r\n\t\t\t\t\t`${set.evs['spa'] || ''},${set.evs['spd'] || ''},${set.evs['spe'] || ''}`;\r\n\t\t\t}\r\n\t\t\tbuf += evs === '|,,,,,' ? '|' : evs;\r\n\r\n\t\t\t// gender\r\n\t\t\tbuf += `|${set.gender || ''}`;\r\n\r\n\t\t\t// ivs\r\n\t\t\tlet ivs = '|';\r\n\t\t\tif (set.ivs) {\r\n\t\t\t\tivs = `|${getIv(set.ivs, 'hp')},${getIv(set.ivs, 'atk')},${getIv(set.ivs, 'def')},` +\r\n\t\t\t\t\t`${getIv(set.ivs, 'spa')},${getIv(set.ivs, 'spd')},${getIv(set.ivs, 'spe')}`;\r\n\t\t\t}\r\n\t\t\tbuf += ivs === '|,,,,,' ? '|' : ivs;\r\n\r\n\t\t\t// shiny\r\n\t\t\tbuf += `|${set.shiny ? 'S' : ''}`;\r\n\r\n\t\t\t// level\r\n\t\t\tbuf += `|${set.level && set.level !== 100 ? set.level : ''}`;\r\n\r\n\t\t\t// happiness\r\n\t\t\tbuf += `|${set.happiness !== undefined && set.happiness !== 255 ? set.happiness : ''}`;\r\n\r\n\t\t\tif (set.pokeball || set.hpType || set.gigantamax ||\r\n\t\t\t\t(set.dynamaxLevel !== undefined && set.dynamaxLevel !== 10) || set.teraType || set.size) {\r\n\t\t\t\tbuf += `,${set.hpType || ''}`;\r\n\t\t\t\tbuf += `,${this.packName(set.pokeball || '')}`;\r\n\t\t\t\tbuf += `,${set.gigantamax ? 'G' : ''}`;\r\n\t\t\t\tbuf += `,${set.dynamaxLevel !== undefined && set.dynamaxLevel !== 10 ? set.dynamaxLevel : ''}`;\r\n\t\t\t\tbuf += `,${set.teraType || ''}`;\r\n\t\t\t\tbuf += `,${set.size || ''}`;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn buf;\r\n\t}\r\n\t/** Very similar to toID but without the lowercase conversion */\r\n\tpackName(this: void, name: string | undefined | null) {\r\n\t\tif (!name) return '';\r\n\t\treturn name.replace(/[^A-Za-z0-9]+/g, '');\r\n\t}\r\n\r\n\tunpack(buf: string): Teams.PokemonSet[] {\r\n\t\tif (!buf) return [];\r\n\r\n\t\t// first, detect if this has team metadata\r\n\t\tconst endIndex = buf.indexOf(']');\r\n\t\tif (endIndex > 0) {\r\n\t\t\tconst firstPart = buf.slice(0, endIndex);\r\n\t\t\tconst pipeCount = firstPart.split('|').length - 1;\r\n\t\t\tif (pipeCount === 12 || pipeCount === 1) {\r\n\t\t\t\tbuf = buf.slice(buf.indexOf('|') + 1);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tconst team = [];\r\n\t\tlet i = 0;\r\n\t\tlet j = 0;\r\n\t\tlet lastI = 0;\r\n\r\n\t\twhile (true) {\r\n\t\t\tconst set: Teams.PokemonSet = {} as any;\r\n\t\t\tteam.push(set);\r\n\r\n\t\t\t// name\r\n\t\t\tj = buf.indexOf('|', i);\r\n\t\t\tconst name = buf.substring(i, j);\r\n\t\t\ti = j + 1;\r\n\r\n\t\t\t// species\r\n\t\t\tj = buf.indexOf('|', i);\r\n\t\t\tconst species = Dex.species.get(buf.substring(i, j) || name);\r\n\t\t\tset.species = species.name;\r\n\t\t\tif (species.baseSpecies !== name) set.name = name;\r\n\t\t\ti = j + 1;\r\n\r\n\t\t\t// item\r\n\t\t\tj = buf.indexOf('|', i);\r\n\t\t\tset.item = Dex.items.get(buf.substring(i, j)).name;\r\n\t\t\ti = j + 1;\r\n\r\n\t\t\t// ability\r\n\t\t\tj = buf.indexOf('|', i);\r\n\t\t\tconst ability = Dex.abilities.get(buf.substring(i, j)).name;\r\n\t\t\tset.ability = (species.abilities &&\r\n\t\t\t\t['', '0', '1', 'H', 'S'].includes(ability) ? species.abilities[ability as '0' || '0'] : ability);\r\n\t\t\ti = j + 1;\r\n\r\n\t\t\t// moves\r\n\t\t\tj = buf.indexOf('|', i);\r\n\t\t\tset.moves = buf.substring(i, j).split(',').map(\r\n\t\t\t\tmoveid => Dex.moves.get(moveid).name\r\n\t\t\t);\r\n\t\t\ti = j + 1;\r\n\r\n\t\t\t// nature\r\n\t\t\tj = buf.indexOf('|', i);\r\n\t\t\tset.nature = buf.substring(i, j) as Dex.NatureName;\r\n\t\t\tif (set.nature as any === 'undefined') delete set.nature;\r\n\t\t\ti = j + 1;\r\n\r\n\t\t\t// evs\r\n\t\t\tj = buf.indexOf('|', i);\r\n\t\t\tif (j !== i) {\r\n\t\t\t\tconst evstring = buf.substring(i, j);\r\n\t\t\t\tif (evstring.length > 5) {\r\n\t\t\t\t\tconst evs = evstring.split(',');\r\n\t\t\t\t\tset.evs = {\r\n\t\t\t\t\t\thp: Number(evs[0]) || 0,\r\n\t\t\t\t\t\tatk: Number(evs[1]) || 0,\r\n\t\t\t\t\t\tdef: Number(evs[2]) || 0,\r\n\t\t\t\t\t\tspa: Number(evs[3]) || 0,\r\n\t\t\t\t\t\tspd: Number(evs[4]) || 0,\r\n\t\t\t\t\t\tspe: Number(evs[5]) || 0,\r\n\t\t\t\t\t};\r\n\t\t\t\t} else if (evstring === '0') {\r\n\t\t\t\t\tset.evs = { hp: 0, atk: 0, def: 0, spa: 0, spd: 0, spe: 0 };\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\ti = j + 1;\r\n\r\n\t\t\t// gender\r\n\t\t\tj = buf.indexOf('|', i);\r\n\t\t\tif (i !== j) set.gender = buf.substring(i, j);\r\n\t\t\ti = j + 1;\r\n\r\n\t\t\t// ivs\r\n\t\t\tj = buf.indexOf('|', i);\r\n\t\t\tif (j !== i) {\r\n\t\t\t\tconst ivs = buf.substring(i, j).split(',');\r\n\t\t\t\tset.ivs = {\r\n\t\t\t\t\thp: ivs[0] === '' ? 31 : Number(ivs[0]),\r\n\t\t\t\t\tatk: ivs[1] === '' ? 31 : Number(ivs[1]),\r\n\t\t\t\t\tdef: ivs[2] === '' ? 31 : Number(ivs[2]),\r\n\t\t\t\t\tspa: ivs[3] === '' ? 31 : Number(ivs[3]),\r\n\t\t\t\t\tspd: ivs[4] === '' ? 31 : Number(ivs[4]),\r\n\t\t\t\t\tspe: ivs[5] === '' ? 31 : Number(ivs[5]),\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t\ti = j + 1;\r\n\r\n\t\t\t// shiny\r\n\t\t\tj = buf.indexOf('|', i);\r\n\t\t\tif (i !== j) set.shiny = true;\r\n\t\t\ti = j + 1;\r\n\r\n\t\t\t// level\r\n\t\t\tj = buf.indexOf('|', i);\r\n\t\t\tif (i !== j) set.level = parseInt(buf.substring(i, j), 10);\r\n\t\t\ti = j + 1;\r\n\r\n\t\t\t// happiness\r\n\t\t\tj = buf.indexOf(']', i);\r\n\t\t\tlet misc;\r\n\t\t\tif (j < 0) {\r\n\t\t\t\tif (i < buf.length) misc = buf.substring(i).split(',', 7);\r\n\t\t\t} else {\r\n\t\t\t\tif (i !== j) misc = buf.substring(i, j).split(',', 7);\r\n\t\t\t}\r\n\t\t\tif (misc) {\r\n\t\t\t\tset.happiness = (misc[0] ? Number(misc[0]) : undefined);\r\n\t\t\t\tset.hpType = misc[1] || undefined;\r\n\t\t\t\tset.pokeball = misc[2] || undefined;\r\n\t\t\t\tset.gigantamax = !!misc[3] || undefined;\r\n\t\t\t\tset.dynamaxLevel = (misc[4] ? Number(misc[4]) : undefined);\r\n\t\t\t\tset.teraType = misc[5] || undefined;\r\n\t\t\t\tset.size = misc[6] || undefined;\r\n\t\t\t}\r\n\t\t\ti = j + 1;\r\n\t\t\tif (j < 0 || i <= lastI) break;\r\n\t\t\tlastI = i;\r\n\t\t}\r\n\r\n\t\treturn team;\r\n\t}\r\n\tunpackSpeciesOnly(buf: string): string[] {\r\n\t\tif (!buf) return [];\r\n\r\n\t\tconst team = [];\r\n\t\tlet i = 0;\r\n\t\tlet lastI = 0;\r\n\r\n\t\twhile (true) {\r\n\t\t\tconst name = buf.slice(i, buf.indexOf('|', i));\r\n\t\t\ti = buf.indexOf('|', i) + 1;\r\n\r\n\t\t\tteam.push(buf.slice(i, buf.indexOf('|', i)) || name);\r\n\r\n\t\t\tfor (let k = 0; k < 9; k++) {\r\n\t\t\t\ti = buf.indexOf('|', i) + 1;\r\n\t\t\t}\r\n\r\n\t\t\ti = buf.indexOf(']', i) + 1;\r\n\r\n\t\t\tif (i < 1 || i <= lastI) break;\r\n\t\t\tlastI = i;\r\n\t\t}\r\n\r\n\t\treturn team;\r\n\t}\r\n\t/**\r\n\t * (You may wish to manually add two spaces to the end of every line so\r\n\t * linebreaks are preserved in Markdown; I assume mostly for Reddit.)\r\n\t */\r\n\texportSet(set: Teams.PokemonSet, dex: ModdedDex = Dex, newFormat?: boolean) {\r\n\t\tlet text = '';\r\n\r\n\t\t// core\r\n\t\tif (set.name && set.name !== set.species) {\r\n\t\t\ttext += `${set.name} (${set.species})`;\r\n\t\t} else {\r\n\t\t\ttext += `${set.species}`;\r\n\t\t}\r\n\t\tif (set.gender === 'M') text += ` (M)`;\r\n\t\tif (set.gender === 'F') text += ` (F)`;\r\n\t\tif (!newFormat && set.item) {\r\n\t\t\ttext += ` @ ${set.item}`;\r\n\t\t}\r\n\t\ttext += `\\n`;\r\n\t\tif ((set.item || set.ability || dex.gen >= 2) && newFormat) {\r\n\t\t\tif (set.ability || dex.gen >= 3) text += `[${set.ability || '(select ability)'}]`;\r\n\t\t\tif (set.item || dex.gen >= 2) text += ` @ ${set.item || \"(no item)\"}`;\r\n\t\t\ttext += `\\n`;\r\n\t\t} else if (set.ability && set.ability !== 'No Ability') {\r\n\t\t\ttext += `Ability: ${set.ability}\\n`;\r\n\t\t}\r\n\r\n\t\tif (newFormat) {\r\n\t\t\tif (set.moves) {\r\n\t\t\t\tfor (let move of set.moves) {\r\n\t\t\t\t\tif (move.startsWith('Hidden Power ')) {\r\n\t\t\t\t\t\tconst hpType = move.slice(13);\r\n\t\t\t\t\t\tmove = move.slice(0, 13);\r\n\t\t\t\t\t\tmove = `${move}[${hpType}]`;\r\n\t\t\t\t\t}\r\n\t\t\t\t\ttext += `- ${move || ''}\\n`;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tfor (let i = set.moves?.length || 0; i < 4; i++) {\r\n\t\t\t\ttext += `- \\n`;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// stats\r\n\t\tlet first = true;\r\n\t\tif (set.evs || set.nature) {\r\n\t\t\tconst nature = newFormat ? BattleNatures[set.nature as 'Serious'] : null;\r\n\t\t\tfor (const stat of Dex.statNames) {\r\n\t\t\t\tconst plusMinus = !newFormat ? '' : nature?.plus === stat ? '+' : nature?.minus === stat ? '-' : '';\r\n\t\t\t\tconst ev = set.evs?.[stat] || '';\r\n\t\t\t\tif (ev === '' && !plusMinus) continue;\r\n\t\t\t\ttext += first ? `EVs: ` : ` / `;\r\n\t\t\t\tfirst = false;\r\n\t\t\t\ttext += `${ev}${plusMinus} ${BattleStatNames[stat]}`;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (!first) {\r\n\t\t\tif (set.nature && newFormat) text += ` (${set.nature})`;\r\n\t\t\ttext += `\\n`;\r\n\t\t}\r\n\t\tif (set.nature && !newFormat) {\r\n\t\t\ttext += `${set.nature} Nature\\n`;\r\n\t\t} else if (['Hardy', 'Docile', 'Serious', 'Bashful', 'Quirky'].includes(set.nature!)) {\r\n\t\t\ttext += `${set.nature!} Nature\\n`;\r\n\t\t}\r\n\t\tfirst = true;\r\n\t\tif (set.ivs) {\r\n\t\t\tfor (const stat of Dex.statNames) {\r\n\t\t\t\tif (set.ivs[stat] === undefined || isNaN(set.ivs[stat]) || set.ivs[stat] === 31) continue;\r\n\t\t\t\tif (first) {\r\n\t\t\t\t\ttext += `IVs: `;\r\n\t\t\t\t\tfirst = false;\r\n\t\t\t\t} else {\r\n\t\t\t\t\ttext += ` / `;\r\n\t\t\t\t}\r\n\t\t\t\ttext += `${set.ivs[stat]} ${BattleStatNames[stat]}`;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (!first) {\r\n\t\t\ttext += `\\n`;\r\n\t\t}\r\n\r\n\t\t// details\r\n\t\tif (set.level && set.level !== 100) {\r\n\t\t\ttext += `Level: ${set.level}\\n`;\r\n\t\t}\r\n\t\tif (set.shiny) {\r\n\t\t\ttext += !newFormat ? `Shiny: Yes\\n` : `Shiny\\n`;\r\n\t\t}\r\n\t\tif (typeof set.happiness === 'number' && set.happiness !== 255 && !isNaN(set.happiness)) {\r\n\t\t\ttext += `Happiness: ${set.happiness}\\n`;\r\n\t\t}\r\n\t\tif (typeof set.dynamaxLevel === 'number' && set.dynamaxLevel !== 255 && !isNaN(set.dynamaxLevel)) {\r\n\t\t\ttext += `Dynamax Level: ${set.dynamaxLevel}\\n`;\r\n\t\t}\r\n\t\tif (set.gigantamax) {\r\n\t\t\ttext += !newFormat ? `Gigantamax: Yes\\n` : `Gigantamax\\n`;\r\n\t\t}\r\n\t\tif (set.teraType) {\r\n\t\t\ttext += `Tera Type: ${set.teraType}\\n`;\r\n\t\t}\r\n\t\tif (set.size) {\r\n\t\t\ttext += `Size: ${set.size}\\n`;\r\n\t\t}\r\n\r\n\t\tif (!newFormat) {\r\n\t\t\tfor (let move of set.moves || []) {\r\n\t\t\t\tif (move.startsWith('Hidden Power ')) {\r\n\t\t\t\t\tconst hpType = move.slice(13);\r\n\t\t\t\t\tmove = move.slice(0, 13);\r\n\t\t\t\t\tmove = !newFormat ? `${move}[${hpType}]` : `${move}${hpType}`;\r\n\t\t\t\t}\r\n\t\t\t\ttext += `- ${move}\\n`;\r\n\t\t\t}\r\n\t\t\tfor (let i = set.moves?.length || 0; i < 4; i++) {\r\n\t\t\t\ttext += `- \\n`;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\ttext += `\\n`;\r\n\t\treturn text;\r\n\t}\r\n\t// TODO: finish this impl\r\n\t// getFullSet(set: Teams.PokemonSet, dex: ModdedDex): Teams.FullPokemonSet {\r\n\t// \t//\r\n\t// }\r\n\texport(sets: Teams.PokemonSet[], dex?: ModdedDex, newFormat?: boolean) {\r\n\t\tlet text = '';\r\n\t\tfor (const set of sets) {\r\n\t\t\t// core\r\n\t\t\ttext += Teams.exportSet(set, dex, newFormat);\r\n\t\t}\r\n\t\treturn text;\r\n\t}\r\n\r\n\tparseExportedTeamLine(line: string, isFirstLine: boolean, set: Dex.PokemonSet) {\r\n\t\tif (isFirstLine || line.startsWith('[')) {\r\n\t\t\tlet item;\r\n\t\t\t[line, item] = line.split('@');\r\n\t\t\tline = line.trim();\r\n\t\t\titem = item?.trim();\r\n\t\t\tif (item) {\r\n\t\t\t\tset.item = item;\r\n\t\t\t\tif (toID(set.item) === 'noitem') set.item = '';\r\n\t\t\t}\r\n\t\t\tif (line.endsWith(' (M)')) {\r\n\t\t\t\tset.gender = 'M';\r\n\t\t\t\tline = line.slice(0, -4);\r\n\t\t\t}\r\n\t\t\tif (line.endsWith(' (F)')) {\r\n\t\t\t\tset.gender = 'F';\r\n\t\t\t\tline = line.slice(0, -4);\r\n\t\t\t}\r\n\t\t\tif (line.startsWith('[') && line.endsWith(']')) {\r\n\t\t\t\t// the ending `]` is necessary to establish this as ability\r\n\t\t\t\t// (rather than nickname starting with `[`)\r\n\t\t\t\tset.ability = line.slice(1, -1);\r\n\t\t\t\tif (toID(set.ability) === 'selectability') {\r\n\t\t\t\t\tset.ability = '';\r\n\t\t\t\t}\r\n\t\t\t} else if (line) {\r\n\t\t\t\tconst parenIndex = line.lastIndexOf(' (');\r\n\t\t\t\tif (line.endsWith(')') && parenIndex !== -1) {\r\n\t\t\t\t\tset.species = Dex.species.get(line.slice(parenIndex + 2, -1)).name;\r\n\t\t\t\t\tset.name = line.slice(0, parenIndex);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tset.species = Dex.species.get(line).name;\r\n\t\t\t\t\tset.name = '';\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else if (line.startsWith('Trait: ')) {\r\n\t\t\tset.ability = line.slice(7);\r\n\t\t} else if (line.startsWith('Ability: ')) {\r\n\t\t\tset.ability = line.slice(9);\r\n\t\t} else if (line.startsWith('Item: ')) {\r\n\t\t\tset.item = line.slice(6);\r\n\t\t} else if (line.startsWith('Nickname: ')) {\r\n\t\t\tset.name = line.slice(10);\r\n\t\t} else if (line.startsWith('Species: ')) {\r\n\t\t\tset.species = line.slice(9);\r\n\t\t} else if (line === 'Shiny: Yes' || line === 'Shiny') {\r\n\t\t\tset.shiny = true;\r\n\t\t} else if (line.startsWith('Level: ')) {\r\n\t\t\tset.level = +line.slice(7);\r\n\t\t} else if (line.startsWith('Happiness: ')) {\r\n\t\t\tset.happiness = +line.slice(11);\r\n\t\t} else if (line.startsWith('Pokeball: ')) {\r\n\t\t\tset.pokeball = line.slice(10);\r\n\t\t} else if (line.startsWith('Hidden Power: ')) {\r\n\t\t\tset.hpType = line.slice(14);\r\n\t\t} else if (line.startsWith('Dynamax Level: ')) {\r\n\t\t\tset.dynamaxLevel = +line.slice(15);\r\n\t\t} else if (line === 'Gigantamax: Yes' || line === 'Gigantamax') {\r\n\t\t\tset.gigantamax = true;\r\n\t\t} else if (line.startsWith('Tera Type: ')) {\r\n\t\t\tset.teraType = line.slice(11);\r\n\t\t} else if (line.startsWith('Size: ')) {\r\n\t\t\tset.size = line.slice(6);\r\n\t\t} else if (line.startsWith('EVs: ')) {\r\n\t\t\tconst evLines = line.slice(5).split('(')[0].split('/');\r\n\t\t\tset.evs = { hp: 0, atk: 0, def: 0, spa: 0, spd: 0, spe: 0 };\r\n\t\t\tlet plus = '', minus = '';\r\n\t\t\tfor (let evLine of evLines) {\r\n\t\t\t\tevLine = evLine.trim();\r\n\t\t\t\tconst spaceIndex = evLine.indexOf(' ');\r\n\t\t\t\tif (spaceIndex === -1) continue;\r\n\t\t\t\tconst statid = BattleStatIDs[evLine.slice(spaceIndex + 1)];\r\n\t\t\t\tif (!statid) continue;\r\n\t\t\t\tif (evLine.charAt(spaceIndex - 1) === '+') plus = statid;\r\n\t\t\t\tif (evLine.charAt(spaceIndex - 1) === '-') minus = statid;\r\n\t\t\t\tset.evs[statid] = parseInt(evLine.slice(0, spaceIndex), 10) || 0;\r\n\t\t\t}\r\n\t\t\tconst nature = this.getNatureFromPlusMinus(plus as StatNameExceptHP, minus as StatNameExceptHP);\r\n\t\t\tif (nature) set.nature = nature;\r\n\t\t} else if (line.startsWith('IVs: ')) {\r\n\t\t\tconst ivLines = line.slice(5).split(' / ');\r\n\t\t\tset.ivs = { hp: 31, atk: 31, def: 31, spa: 31, spd: 31, spe: 31 };\r\n\t\t\tfor (let ivLine of ivLines) {\r\n\t\t\t\tivLine = ivLine.trim();\r\n\t\t\t\tconst spaceIndex = ivLine.indexOf(' ');\r\n\t\t\t\tif (spaceIndex === -1) continue;\r\n\t\t\t\tconst statid = BattleStatIDs[ivLine.slice(spaceIndex + 1)];\r\n\t\t\t\tif (!statid) continue;\r\n\t\t\t\tlet statval = parseInt(ivLine.slice(0, spaceIndex), 10);\r\n\t\t\t\tif (isNaN(statval)) statval = 31;\r\n\t\t\t\tset.ivs[statid] = statval;\r\n\t\t\t}\r\n\t\t} else if (/^[A-Za-z]+ (N|n)ature/.exec(line)) {\r\n\t\t\tlet natureIndex = line.indexOf(' Nature');\r\n\t\t\tif (natureIndex === -1) natureIndex = line.indexOf(' nature');\r\n\t\t\tif (natureIndex === -1) return;\r\n\t\t\tline = line.slice(0, natureIndex);\r\n\t\t\tif (line !== 'undefined') set.nature = line as Dex.NatureName;\r\n\t\t} else if (line.startsWith('-') || line.startsWith('~') || line.startsWith('Move:')) {\r\n\t\t\tif (line.startsWith('Move:')) line = line.slice(4);\r\n\t\t\tline = line.slice(line.charAt(1) === ' ' ? 2 : 1);\r\n\t\t\tif (line.startsWith('Hidden Power [')) {\r\n\t\t\t\tlet hpType = line.slice(14, line.indexOf(']')) as Dex.TypeName;\r\n\t\t\t\tif (hpType.includes(']') || hpType.includes('[')) hpType = '' as any;\r\n\t\t\t\tline = 'Hidden Power ' + hpType;\r\n\t\t\t\tset.hpType = hpType;\r\n\t\t\t}\r\n\t\t\tif (line === 'Frustration' && set.happiness === undefined) {\r\n\t\t\t\tset.happiness = 0;\r\n\t\t\t}\r\n\t\t\tset.moves.push(line);\r\n\t\t}\r\n\t}\r\n\tgetNatureFromPlusMinus(\r\n\t\tplus: StatNameExceptHP | '' | null, minus: StatNameExceptHP | '' | null\r\n\t): Dex.NatureName | null {\r\n\t\tif (!plus || !minus) return null;\r\n\t\tfor (const i in BattleNatures) {\r\n\t\t\tif (BattleNatures[i as 'Serious'].plus === plus && BattleNatures[i as 'Serious'].minus === minus) {\r\n\t\t\t\treturn i as Dex.NatureName;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\timport(buffer: string): Dex.PokemonSet[] {\r\n\t\tconst lines = buffer.split(\"\\n\");\r\n\r\n\t\tconst sets: Dex.PokemonSet[] = [];\r\n\t\tlet curSet: Dex.PokemonSet | null = null;\r\n\r\n\t\twhile (lines.length && !lines[0]) lines.shift();\r\n\t\twhile (lines.length && !lines[lines.length - 1]) lines.pop();\r\n\r\n\t\tif (lines.length === 1 && lines[0].includes('|')) {\r\n\t\t\treturn Teams.unpack(lines[0]);\r\n\t\t}\r\n\t\tfor (let line of lines) {\r\n\t\t\tline = line.trim();\r\n\t\t\tif (line === '' || line === '---') {\r\n\t\t\t\tcurSet = null;\r\n\t\t\t} else if (line.startsWith('===')) {\r\n\t\t\t\t// team backup format; ignore\r\n\t\t\t} else if (line.includes('|')) {\r\n\t\t\t\t// packed format\r\n\t\t\t\treturn Teams.unpack(line);\r\n\t\t\t} else if (!curSet) {\r\n\t\t\t\tcurSet = {\r\n\t\t\t\t\tname: '', species: '', gender: '',\r\n\t\t\t\t\tmoves: [],\r\n\t\t\t\t};\r\n\t\t\t\tsets.push(curSet);\r\n\t\t\t\tthis.parseExportedTeamLine(line, true, curSet);\r\n\t\t\t} else {\r\n\t\t\t\tthis.parseExportedTeamLine(line, false, curSet);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn sets;\r\n\t}\r\n};\r\n","/**\r\n * Pokemon Showdown Dex Data\r\n * A collection of data and definitions for src/battle-dex.ts.\r\n * Larger data has their own files in data/, so this is just for small\r\n * miscellaneous data that doesn't need its own file.\r\n * Licensing note: PS's client has complicated licensing:\r\n * - The client as a whole is AGPLv3\r\n * - The battle replay/animation engine (battle-*.ts) by itself is MIT\r\n * @author Guangcong Luo <guangcongluo@gmail.com>\r\n * @license MIT\r\n */\r\nimport { Dex, toID } from \"./battle-dex\";\r\n/**\r\n * String that contains only lowercase alphanumeric characters.\r\n */\r\nexport type ID = string & { __isID: true };\r\nexport interface Nature {\r\n\tplus?: StatNameExceptHP;\r\n\tminus?: StatNameExceptHP;\r\n}\r\nexport const BattleNatures: { [k in NatureName]: Nature } = {\r\n\tAdamant: {\r\n\t\tplus: 'atk',\r\n\t\tminus: 'spa',\r\n\t},\r\n\tBashful: {},\r\n\tBold: { plus: 'def', minus: 'atk', },\r\n\tBrave: { plus: 'atk', minus: 'spe', },\r\n\tCalm: { plus: 'spd', minus: 'atk', },\r\n\tCareful: { plus: 'spd', minus: 'spa', },\r\n\tDocile: {},\r\n\tGentle: { plus: 'spd', minus: 'def', },\r\n\tHardy: {},\r\n\tHasty: { plus: 'spe', minus: 'def', },\r\n\tImpish: { plus: 'def', minus: 'spa', },\r\n\tJolly: { plus: 'spe', minus: 'spa', },\r\n\tLax: { plus: 'def', minus: 'spd', },\r\n\tLonely: { plus: 'atk', minus: 'def', },\r\n\tMild: { plus: 'spa', minus: 'def', },\r\n\tModest: { plus: 'spa', minus: 'atk', },\r\n\tNaive: { plus: 'spe', minus: 'spd', },\r\n\tNaughty: { plus: 'atk', minus: 'spd', },\r\n\tQuiet: { plus: 'spa', minus: 'spe', },\r\n\tQuirky: {},\r\n\tRash: { plus: 'spa', minus: 'spd', },\r\n\tRelaxed: { plus: 'def', minus: 'spe', },\r\n\tSassy: { plus: 'spd', minus: 'spe', },\r\n\tSerious: {},\r\n\tTimid: { plus: 'spe', minus: 'atk', },\r\n};\r\nexport const BattleStatIDs: { [k: string]: StatName | undefined } = {\r\n\tHP: 'hp',\r\n\thp: 'hp',\r\n\tAtk: 'atk',\r\n\tatk: 'atk',\r\n\tDef: 'def',\r\n\tdef: 'def',\r\n\tSpA: 'spa',\r\n\tSAtk: 'spa',\r\n\tSpAtk: 'spa',\r\n\tspa: 'spa',\r\n\tspc: 'spa',\r\n\tSpc: 'spa',\r\n\tSpD: 'spd',\r\n\tSDef: 'spd',\r\n\tSpDef: 'spd',\r\n\tspd: 'spd',\r\n\tSpe: 'spe',\r\n\tSpd: 'spe',\r\n\tspe: 'spe',\r\n};\r\n/** Stat short names */\r\nexport const BattleStatNames = {\r\n\thp: 'HP',\r\n\tatk: 'Atk',\r\n\tdef: 'Def',\r\n\tspa: 'SpA',\r\n\tspd: 'SpD',\r\n\tspe: 'Spe',\r\n} as const;\r\nexport const BattleBaseSpeciesChart = [\"unown\", \"burmy\", \"shellos\", \"gastrodon\", \"deerling\", \"sawsbuck\", \"vivillon\", \"flabebe\", \"floette\", \"florges\", \"furfrou\", \"minior\", \"alcremie\", \"tatsugiri\", \"pokestarufo\", \"pokestarbrycenman\", \"pokestarmt\", \"pokestarmt2\", \"pokestartransport\", \"pokestargiant\", \"pokestarhumanoid\", \"pokestarmonster\", \"pokestarf00\", \"pokestarf002\", \"pokestarspirit\", \"pokestarblackdoor\", \"pokestarwhitedoor\", \"pokestarblackbelt\",] as ID[];\r\n//region Visual Form Icons\r\nexport const BattlePokemonIconIndexes: { [id: string]: number } = {\r\n\t// alt forms\r\n\tegg: 1032 + 1,\r\n\tpikachubelle: 1032 + 2,\r\n\tpikachulibre: 1032 + 3,\r\n\tpikachuphd: 1032 + 4,\r\n\tpikachupopstar: 1032 + 5,\r\n\tpikachurockstar: 1032 + 6,\r\n\tpikachucosplay: 1032 + 7,\r\n\tunownexclamation: 1032 + 8,\r\n\tunownquestion: 1032 + 9,\r\n\tunownb: 1032 + 10,\r\n\tunownc: 1032 + 11,\r\n\tunownd: 1032 + 12,\r\n\tunowne: 1032 + 13,\r\n\tunownf: 1032 + 14,\r\n\tunowng: 1032 + 15,\r\n\tunownh: 1032 + 16,\r\n\tunowni: 1032 + 17,\r\n\tunownj: 1032 + 18,\r\n\tunownk: 1032 + 19,\r\n\tunownl: 1032 + 20,\r\n\tunownm: 1032 + 21,\r\n\tunownn: 1032 + 22,\r\n\tunowno: 1032 + 23,\r\n\tunownp: 1032 + 24,\r\n\tunownq: 1032 + 25,\r\n\tunownr: 1032 + 26,\r\n\tunowns: 1032 + 27,\r\n\tunownt: 1032 + 28,\r\n\tunownu: 1032 + 29,\r\n\tunownv: 1032 + 30,\r\n\tunownw: 1032 + 31,\r\n\tunownx: 1032 + 32,\r\n\tunowny: 1032 + 33,\r\n\tunownz: 1032 + 34,\r\n\tcastformrainy: 1032 + 35,\r\n\tcastformsnowy: 1032 + 36,\r\n\tcastformsunny: 1032 + 37,\r\n\tdeoxysattack: 1032 + 38,\r\n\tdeoxysdefense: 1032 + 39,\r\n\tdeoxysspeed: 1032 + 40,\r\n\tburmysandy: 1032 + 41,\r\n\tburmytrash: 1032 + 42,\r\n\twormadamsandy: 1032 + 43,\r\n\twormadamtrash: 1032 + 44,\r\n\tcherrimsunshine: 1032 + 45,\r\n\tshelloseast: 1032 + 46,\r\n\tgastrodoneast: 1032 + 47,\r\n\trotomfan: 1032 + 48,\r\n\trotomfrost: 1032 + 49,\r\n\trotomheat: 1032 + 50,\r\n\trotommow: 1032 + 51,\r\n\trotomwash: 1032 + 52,\r\n\tgiratinaorigin: 1032 + 53,\r\n\tshayminsky: 1032 + 54,\r\n\tunfezantf: 1032 + 55,\r\n\tbasculinbluestriped: 1032 + 56,\r\n\tdarmanitanzen: 1032 + 57,\r\n\tdeerlingautumn: 1032 + 58,\r\n\tdeerlingsummer: 1032 + 59,\r\n\tdeerlingwinter: 1032 + 60,\r\n\tsawsbuckautumn: 1032 + 61,\r\n\tsawsbucksummer: 1032 + 62,\r\n\tsawsbuckwinter: 1032 + 63,\r\n\tfrillishf: 1032 + 64,\r\n\tjellicentf: 1032 + 65,\r\n\ttornadustherian: 1032 + 66,\r\n\tthundurustherian: 1032 + 67,\r\n\tlandorustherian: 1032 + 68,\r\n\tkyuremblack: 1032 + 69,\r\n\tkyuremwhite: 1032 + 70,\r\n\tkeldeoresolute: 1032 + 71,\r\n\tmeloettapirouette: 1032 + 72,\r\n\tvivillonarchipelago: 1032 + 73,\r\n\tvivilloncontinental: 1032 + 74,\r\n\tvivillonelegant: 1032 + 75,\r\n\tvivillonfancy: 1032 + 76,\r\n\tvivillongarden: 1032 + 77,\r\n\tvivillonhighplains: 1032 + 78,\r\n\tvivillonicysnow: 1032 + 79,\r\n\tvivillonjungle: 1032 + 80,\r\n\tvivillonmarine: 1032 + 81,\r\n\tvivillonmodern: 1032 + 82,\r\n\tvivillonmonsoon: 1032 + 83,\r\n\tvivillonocean: 1032 + 84,\r\n\tvivillonpokeball: 1032 + 85,\r\n\tvivillonpolar: 1032 + 86,\r\n\tvivillonriver: 1032 + 87,\r\n\tvivillonsandstorm: 1032 + 88,\r\n\tvivillonsavanna: 1032 + 89,\r\n\tvivillonsun: 1032 + 90,\r\n\tvivillontundra: 1032 + 91,\r\n\tpyroarf: 1032 + 92,\r\n\tflabebeblue: 1032 + 93,\r\n\tflabebeorange: 1032 + 94,\r\n\tflabebewhite: 1032 + 95,\r\n\tflabebeyellow: 1032 + 96,\r\n\tfloetteblue: 1032 + 97,\r\n\tfloetteeternal: 1032 + 98,\r\n\tfloetteorange: 1032 + 99,\r\n\tfloettewhite: 1032 + 100,\r\n\tfloetteyellow: 1032 + 101,\r\n\tflorgesblue: 1032 + 102,\r\n\tflorgesorange: 1032 + 103,\r\n\tflorgeswhite: 1032 + 104,\r\n\tflorgesyellow: 1032 + 105,\r\n\tfurfroudandy: 1032 + 106,\r\n\tfurfroudebutante: 1032 + 107,\r\n\tfurfroudiamond: 1032 + 108,\r\n\tfurfrouheart: 1032 + 109,\r\n\tfurfroukabuki: 1032 + 110,\r\n\tfurfroulareine: 1032 + 111,\r\n\tfurfroumatron: 1032 + 112,\r\n\tfurfroupharaoh: 1032 + 113,\r\n\tfurfroustar: 1032 + 114,\r\n\tmeowsticf: 1032 + 115,\r\n\taegislashblade: 1032 + 116,\r\n\txerneasneutral: 1032 + 117,\r\n\thoopaunbound: 1032 + 118,\r\n\trattataalola: 1032 + 119,\r\n\traticatealola: 1032 + 120,\r\n\traichualola: 1032 + 121,\r\n\tsandshrewalola: 1032 + 122,\r\n\tsandslashalola: 1032 + 123,\r\n\tvulpixalola: 1032 + 124,\r\n\tninetalesalola: 1032 + 125,\r\n\tdiglettalola: 1032 + 126,\r\n\tdugtrioalola: 1032 + 127,\r\n\tmeowthalola: 1032 + 128,\r\n\tpersianalola: 1032 + 129,\r\n\tgeodudealola: 1032 + 130,\r\n\tgraveleralola: 1032 + 131,\r\n\tgolemalola: 1032 + 132,\r\n\tgrimeralola: 1032 + 133,\r\n\tmukalola: 1032 + 134,\r\n\texeggutoralola: 1032 + 135,\r\n\tmarowakalola: 1032 + 136,\r\n\tgreninjaash: 1032 + 137,\r\n\tzygarde10: 1032 + 138,\r\n\tzygardecomplete: 1032 + 139,\r\n\toricoriopompom: 1032 + 140,\r\n\toricoriopau: 1032 + 141,\r\n\toricoriosensu: 1032 + 142,\r\n\tlycanrocmidnight: 1032 + 143,\r\n\twishiwashischool: 1032 + 144,\r\n\tminiormeteor: 1032 + 145,\r\n\tminiororange: 1032 + 146,\r\n\tminioryellow: 1032 + 147,\r\n\tminiorgreen: 1032 + 148,\r\n\tminiorblue: 1032 + 149,\r\n\tminiorindigo: 1032 + 150,\r\n\tminiorviolet: 1032 + 151,\r\n\tmagearnaoriginal: 1032 + 152,\r\n\tpikachuoriginal: 1032 + 153,\r\n\tpikachuhoenn: 1032 + 154,\r\n\tpikachusinnoh: 1032 + 155,\r\n\tpikachuunova: 1032 + 156,\r\n\tpikachukalos: 1032 + 157,\r\n\tpikachualola: 1032 + 158,\r\n\tpikachupartner: 1032 + 159,\r\n\tlycanrocdusk: 1032 + 160,\r\n\tnecrozmaduskmane: 1032 + 161,\r\n\tnecrozmadawnwings: 1032 + 162,\r\n\tnecrozmaultra: 1032 + 163,\r\n\tpikachustarter: 1032 + 164,\r\n\teeveestarter: 1032 + 165,\r\n\tmeowthgalar: 1032 + 166,\r\n\tponytagalar: 1032 + 167,\r\n\trapidashgalar: 1032 + 168,\r\n\tfarfetchdgalar: 1032 + 169,\r\n\tweezinggalar: 1032 + 170,\r\n\tmrmimegalar: 1032 + 171,\r\n\tcorsolagalar: 1032 + 172,\r\n\tzigzagoongalar: 1032 + 173,\r\n\tlinoonegalar: 1032 + 174,\r\n\tdarumakagalar: 1032 + 175,\r\n\tdarmanitangalar: 1032 + 176,\r\n\tdarmanitangalarzen: 1032 + 177,\r\n\tyamaskgalar: 1032 + 178,\r\n\tstunfiskgalar: 1032 + 179,\r\n\tcramorantgulping: 1032 + 180,\r\n\tcramorantgorging: 1032 + 181,\r\n\ttoxtricitylowkey: 1032 + 182,\r\n\talcremierubycream: 1032 + 183,\r\n\talcremiematchacream: 1032 + 184,\r\n\talcremiemintcream: 1032 + 185,\r\n\talcremielemoncream: 1032 + 186,\r\n\talcremiesaltedcream: 1032 + 187,\r\n\talcremierubyswirl: 1032 + 188,\r\n\talcremiecaramelswirl: 1032 + 189,\r\n\talcremierainbowswirl: 1032 + 190,\r\n\teiscuenoice: 1032 + 191,\r\n\tindeedeef: 1032 + 192,\r\n\tmorpekohangry: 1032 + 193,\r\n\tzaciancrowned: 1032 + 194,\r\n\tzamazentacrowned: 1032 + 195,\r\n\tslowpokegalar: 1032 + 196,\r\n\tslowbrogalar: 1032 + 197,\r\n\tzarudedada: 1032 + 198,\r\n\tpikachuworld: 1032 + 199,\r\n\tarticunogalar: 1032 + 200,\r\n\tzapdosgalar: 1032 + 201,\r\n\tmoltresgalar: 1032 + 202,\r\n\tslowkinggalar: 1032 + 203,\r\n\tcalyrexice: 1032 + 204,\r\n\tcalyrexshadow: 1032 + 205,\r\n\tgrowlithehisui: 1032 + 206,\r\n\tarcaninehisui: 1032 + 207,\r\n\tvoltorbhisui: 1032 + 208,\r\n\telectrodehisui: 1032 + 209,\r\n\ttyphlosionhisui: 1032 + 210,\r\n\tqwilfishhisui: 1032 + 211,\r\n\tsneaselhisui: 1032 + 212,\r\n\tsamurotthisui: 1032 + 213,\r\n\tlilliganthisui: 1032 + 214,\r\n\tzoruahisui: 1032 + 215,\r\n\tzoroarkhisui: 1032 + 216,\r\n\tbraviaryhisui: 1032 + 217,\r\n\tsliggoohisui: 1032 + 218,\r\n\tgoodrahisui: 1032 + 219,\r\n\tavalugghisui: 1032 + 220,\r\n\tdecidueyehisui: 1032 + 221,\r\n\tbasculegionf: 1032 + 222,\r\n\tenamorustherian: 1032 + 223,\r\n\ttaurospaldeacombat: 1032 + 224,\r\n\ttaurospaldeablaze: 1032 + 225,\r\n\ttaurospaldeaaqua: 1032 + 226,\r\n\twooperpaldea: 1032 + 227,\r\n\toinkolognef: 1032 + 228,\r\n\tpalafinhero: 1032 + 229,\r\n\tmausholdfour: 1032 + 230,\r\n\ttatsugiridroopy: 1032 + 231,\r\n\ttatsugiristretchy: 1032 + 232,\r\n\tsquawkabillyblue: 1032 + 233,\r\n\tsquawkabillyyellow: 1032 + 234,\r\n\tsquawkabillywhite: 1032 + 235,\r\n\tgimmighoulroaming: 1032 + 236,\r\n\tdialgaorigin: 1032 + 237,\r\n\tpalkiaorigin: 1032 + 238,\r\n\tbasculinwhitestriped: 1032 + 239,\r\n\tursalunabloodmoon: 1032 + 240,\r\n\togerponwellspring: 1032 + 241,\r\n\togerponhearthflame: 1032 + 242,\r\n\togerponcornerstone: 1032 + 243,\r\n\tterapagosterastal: 1032 + 244,\r\n\tterapagosstellar: 1032 + 245,\r\n\tarceusbug: 1032 + 246,\r\n\tarceusdark: 1032 + 247,\r\n\tarceusdragon: 1032 + 248,\r\n\tarceuselectric: 1032 + 249,\r\n\tarceusfairy: 1032 + 250,\r\n\tarceusfighting: 1032 + 251,\r\n\tarceusfire: 1032 + 252,\r\n\tarceusflying: 1032 + 253,\r\n\tarceusghost: 1032 + 254,\r\n\tarceusgrass: 1032 + 255,\r\n\tarceusground: 1032 + 256,\r\n\tarceusice: 1032 + 257,\r\n\tarceuspoison: 1032 + 258,\r\n\tarceuspsychic: 1032 + 259,\r\n\tarceusrock: 1032 + 260,\r\n\tarceussteel: 1032 + 261,\r\n\tarceuswater: 1032 + 262,\r\n\tgenesectdouse: 1032 + 263,\r\n\tgenesectshock: 1032 + 264,\r\n\tgenesectburn: 1032 + 265,\r\n\tgenesectchill: 1032 + 266,\r\n\tsilvallybug: 1032 + 267,\r\n\tsilvallydark: 1032 + 268,\r\n\tsilvallydragon: 1032 + 269,\r\n\tsilvallyelectric: 1032 + 270,\r\n\tsilvallyfairy: 1032 + 271,\r\n\tsilvallyfighting: 1032 + 272,\r\n\tsilvallyfire: 1032 + 273,\r\n\tsilvallyflying: 1032 + 274,\r\n\tsilvallyghost: 1032 + 275,\r\n\tsilvallygrass: 1032 + 276,\r\n\tsilvallyground: 1032 + 277,\r\n\tsilvallyice: 1032 + 278,\r\n\tsilvallypoison: 1032 + 279,\r\n\tsilvallypsychic: 1032 + 280,\r\n\tsilvallyrock: 1032 + 281,\r\n\tsilvallysteel: 1032 + 282,\r\n\tsilvallywater: 1032 + 283,\r\n\t// alt forms with duplicate icons\r\n\tgreninjabond: 658,\r\n\tgumshoostotem: 735,\r\n\traticatealolatotem: 1032 + 120,\r\n\tmarowakalolatotem: 1032 + 136,\r\n\taraquanidtotem: 752,\r\n\tlurantistotem: 754,\r\n\tsalazzletotem: 758,\r\n\tvikavolttotem: 738,\r\n\ttogedemarutotem: 777,\r\n\tmimikyutotem: 778,\r\n\tmimikyubustedtotem: 778,\r\n\tribombeetotem: 743,\r\n\tkommoototem: 784,\r\n\tsinisteaantique: 854,\r\n\tpolteageistantique: 855,\r\n\tpoltchageistartisan: 1012,\r\n\tsinistchamasterpiece: 1013,\r\n\togerpontealtera: 1017,\r\n\togerponwellspringtera: 1032 + 241,\r\n\togerponhearthflametera: 1032 + 242,\r\n\togerponcornerstonetera: 1032 + 243,\r\n\ttoxtricitylowkeygmax: 1320 + 69,\r\n\t// Mega/G-Max\r\n\tvenusaurmega: 1320 + 0,\r\n\tcharizardmegax: 1320 + 1,\r\n\tcharizardmegay: 1320 + 2,\r\n\tblastoisemega: 1320 + 3,\r\n\tbeedrillmega: 1320 + 4,\r\n\tpidgeotmega: 1320 + 5,\r\n\talakazammega: 1320 + 6,\r\n\tslowbromega: 1320 + 7,\r\n\tgengarmega: 1320 + 8,\r\n\tkangaskhanmega: 1320 + 9,\r\n\tpinsirmega: 1320 + 10,\r\n\tgyaradosmega: 1320 + 11,\r\n\taerodactylmega: 1320 + 12,\r\n\tmewtwomegax: 1320 + 13,\r\n\tmewtwomegay: 1320 + 14,\r\n\tampharosmega: 1320 + 15,\r\n\tsteelixmega: 1320 + 16,\r\n\tscizormega: 1320 + 17,\r\n\theracrossmega: 1320 + 18,\r\n\thoundoommega: 1320 + 19,\r\n\ttyranitarmega: 1320 + 20,\r\n\tsceptilemega: 1320 + 21,\r\n\tblazikenmega: 1320 + 22,\r\n\tswampertmega: 1320 + 23,\r\n\tgardevoirmega: 1320 + 24,\r\n\tsableyemega: 1320 + 25,\r\n\tmawilemega: 1320 + 26,\r\n\taggronmega: 1320 + 27,\r\n\tmedichammega: 1320 + 28,\r\n\tmanectricmega: 1320 + 29,\r\n\tsharpedomega: 1320 + 30,\r\n\tcameruptmega: 1320 + 31,\r\n\taltariamega: 1320 + 32,\r\n\tbanettemega: 1320 + 33,\r\n\tabsolmega: 1320 + 34,\r\n\tglaliemega: 1320 + 35,\r\n\tsalamencemega: 1320 + 36,\r\n\tmetagrossmega: 1320 + 37,\r\n\tlatiasmega: 1320 + 38,\r\n\tlatiosmega: 1320 + 39,\r\n\tkyogreprimal: 1320 + 40,\r\n\tgroudonprimal: 1320 + 41,\r\n\trayquazamega: 1320 + 42,\r\n\tlopunnymega: 1320 + 43,\r\n\tgarchompmega: 1320 + 44,\r\n\tlucariomega: 1320 + 45,\r\n\tabomasnowmega: 1320 + 46,\r\n\tgallademega: 1320 + 47,\r\n\taudinomega: 1320 + 48,\r\n\tdianciemega: 1320 + 49,\r\n\tcharizardgmax: 1320 + 50,\r\n\tbutterfreegmax: 1320 + 51,\r\n\tpikachugmax: 1320 + 52,\r\n\tmeowthgmax: 1320 + 53,\r\n\tmachampgmax: 1320 + 54,\r\n\tgengargmax: 1320 + 55,\r\n\tkinglergmax: 1320 + 56,\r\n\tlaprasgmax: 1320 + 57,\r\n\teeveegmax: 1320 + 58,\r\n\tsnorlaxgmax: 1320 + 59,\r\n\tgarbodorgmax: 1320 + 60,\r\n\tmelmetalgmax: 1320 + 61,\r\n\tcorviknightgmax: 1320 + 62,\r\n\torbeetlegmax: 1320 + 63,\r\n\tdrednawgmax: 1320 + 64,\r\n\tcoalossalgmax: 1320 + 65,\r\n\tflapplegmax: 1320 + 66,\r\n\tappletungmax: 1320 + 67,\r\n\tsandacondagmax: 1320 + 68,\r\n\ttoxtricitygmax: 1320 + 69,\r\n\tcentiskorchgmax: 1320 + 70,\r\n\thatterenegmax: 1320 + 71,\r\n\tgrimmsnarlgmax: 1320 + 72,\r\n\talcremiegmax: 1320 + 73,\r\n\tcopperajahgmax: 1320 + 74,\r\n\tduraludongmax: 1320 + 75,\r\n\teternatuseternamax: 1320 + 76,\r\n\tvenusaurgmax: 1320 + 77,\r\n\tblastoisegmax: 1320 + 78,\r\n\trillaboomgmax: 1320 + 79,\r\n\tcinderacegmax: 1320 + 80,\r\n\tinteleongmax: 1320 + 81,\r\n\turshifugmax: 1320 + 82,\r\n\turshifurapidstrikegmax: 1320 + 83,\r\n\t// CAP\r\n\tsyclant: 1512 + 0,\r\n\trevenankh: 1512 + 1,\r\n\tpyroak: 1512 + 2,\r\n\tfidgit: 1512 + 3,\r\n\tstratagem: 1512 + 4,\r\n\targhonaut: 1512 + 5,\r\n\tkitsunoh: 1512 + 6,\r\n\tcyclohm: 1512 + 7,\r\n\tcolossoil: 1512 + 8,\r\n\tkrilowatt: 1512 + 9,\r\n\tvoodoom: 1512 + 10,\r\n\ttomohawk: 1512 + 11,\r\n\tnecturna: 1512 + 12,\r\n\tmollux: 1512 + 13,\r\n\taurumoth: 1512 + 14,\r\n\tmalaconda: 1512 + 15,\r\n\tcawmodore: 1512 + 16,\r\n\tvolkraken: 1512 + 17,\r\n\tplasmanta: 1512 + 18,\r\n\tnaviathan: 1512 + 19,\r\n\tcrucibelle: 1512 + 20,\r\n\tcrucibellemega: 1512 + 21,\r\n\tkerfluffle: 1512 + 22,\r\n\tpajantom: 1512 + 23,\r\n\tjumbao: 1512 + 24,\r\n\tcaribolt: 1512 + 25,\r\n\tsmokomodo: 1512 + 26,\r\n\tsnaelstrom: 1512 + 27,\r\n\tequilibra: 1512 + 28,\r\n\tastrolotl: 1512 + 29,\r\n\tmiasmaw: 1512 + 30,\r\n\tchromera: 1512 + 31,\r\n\tvenomicon: 1512 + 32,\r\n\tvenomiconepilogue: 1512 + 33,\r\n\tsaharaja: 1512 + 34,\r\n\themogoblin: 1512 + 35,\r\n\tsyclar: 1512 + 36,\r\n\tembirch: 1512 + 37,\r\n\tflarelm: 1512 + 38,\r\n\tbreezi: 1512 + 39,\r\n\tscratchet: 1512 + 40,\r\n\tnecturine: 1512 + 41,\r\n\tcupra: 1512 + 42,\r\n\targalis: 1512 + 43,\r\n\tbrattler: 1512 + 44,\r\n\tcawdet: 1512 + 45,\r\n\tvolkritter: 1512 + 46,\r\n\tsnugglow: 1512 + 47,\r\n\tfloatoy: 1512 + 48,\r\n\tcaimanoe: 1512 + 49,\r\n\tpluffle: 1512 + 50,\r\n\trebble: 1512 + 51,\r\n\ttactite: 1512 + 52,\r\n\tprivatyke: 1512 + 53,\r\n\tnohface: 1512 + 54,\r\n\tmonohm: 1512 + 55,\r\n\tduohm: 1512 + 56,\r\n\tprotowatt: 1512 + 57,\r\n\tvoodoll: 1512 + 58,\r\n\tmumbao: 1512 + 59,\r\n\tfawnifer: 1512 + 60,\r\n\telectrelk: 1512 + 61,\r\n\tsmogecko: 1512 + 62,\r\n\tsmoguana: 1512 + 63,\r\n\tswirlpool: 1512 + 64,\r\n\tcoribalis: 1512 + 65,\r\n\tjustyke: 1512 + 66,\r\n\tsolotl: 1512 + 67,\r\n\tmiasmite: 1512 + 68,\r\n\tdorsoil: 1512 + 69,\r\n\tsaharascal: 1512 + 70,\r\n\tababo: 1512 + 71,\r\n\tscattervein: 1512 + 72,\r\n\tcresceidon: 1512 + 73,\r\n\tchuggalong: 1512 + 74,\r\n\tshox: 1512 + 75,\r\n\tchuggon: 1512 + 76,\r\n\tdraggalong: 1512 + 77,\r\n\tramnarok: 1512 + 78,\r\n\tramnarokradiant: 1512 + 79,\r\n};\r\nexport const BattlePokemonIconIndexesLeft: { [id: string]: number } = {\r\n\tpikachubelle: 1404 + 0,\r\n\tpikachupopstar: 1404 + 1,\r\n\tclefairy: 1404 + 2,\r\n\tclefable: 1404 + 3,\r\n\tjigglypuff: 1404 + 4,\r\n\twigglytuff: 1404 + 5,\r\n\tdugtrioalola: 1404 + 6,\r\n\tpoliwhirl: 1404 + 7,\r\n\tpoliwrath: 1404 + 8,\r\n\tmukalola: 1404 + 9,\r\n\tkingler: 1404 + 10,\r\n\tcroconaw: 1404 + 11,\r\n\tcleffa: 1404 + 12,\r\n\tigglybuff: 1404 + 13,\r\n\tpolitoed: 1404 + 14,\r\n\tunownb: 1404 + 15,\r\n\tunownc: 1404 + 16,\r\n\tunownd: 1404 + 17,\r\n\tunowne: 1404 + 18,\r\n\tunownf: 1404 + 19,\r\n\tunowng: 1404 + 20,\r\n\tunownh: 1404 + 21,\r\n\tunownj: 1404 + 22,\r\n\tunownk: 1404 + 23,\r\n\tunownl: 1404 + 24,\r\n\tunownm: 1404 + 25,\r\n\tunownn: 1404 + 26,\r\n\tunownp: 1404 + 27,\r\n\tunownq: 1404 + 28,\r\n\tunownquestion: 1404 + 29,\r\n\tunownr: 1404 + 30,\r\n\tunowns: 1404 + 31,\r\n\tunownt: 1404 + 32,\r\n\tunownv: 1404 + 33,\r\n\tunownz: 1404 + 34,\r\n\tsneasel: 1404 + 35,\r\n\tteddiursa: 1404 + 36,\r\n\troselia: 1404 + 37,\r\n\tzangoose: 1404 + 38,\r\n\tseviper: 1404 + 39,\r\n\tcastformsnowy: 1404 + 40,\r\n\tabsolmega: 1404 + 41,\r\n\tabsol: 1404 + 42,\r\n\tregirock: 1404 + 43,\r\n\ttorterra: 1404 + 44,\r\n\tbudew: 1404 + 45,\r\n\troserade: 1404 + 46,\r\n\tmagmortar: 1404 + 47,\r\n\ttogekiss: 1404 + 48,\r\n\trotomwash: 1404 + 49,\r\n\tshayminsky: 1404 + 50,\r\n\temboar: 1404 + 51,\r\n\tpansear: 1404 + 52,\r\n\tsimisear: 1404 + 53,\r\n\tdrilbur: 1404 + 54,\r\n\texcadrill: 1404 + 55,\r\n\tsawk: 1404 + 56,\r\n\tlilligant: 1404 + 57,\r\n\tgarbodor: 1404 + 58,\r\n\tsolosis: 1404 + 59,\r\n\tvanilluxe: 1404 + 60,\r\n\tamoonguss: 1404 + 61,\r\n\tklink: 1404 + 62,\r\n\tklang: 1404 + 63,\r\n\tklinklang: 1404 + 64,\r\n\tlitwick: 1404 + 65,\r\n\tgolett: 1404 + 66,\r\n\tgolurk: 1404 + 67,\r\n\tkyuremblack: 1404 + 68,\r\n\tkyuremwhite: 1404 + 69,\r\n\tkyurem: 1404 + 70,\r\n\tkeldeoresolute: 1404 + 71,\r\n\tmeloetta: 1404 + 72,\r\n\tgreninja: 1404 + 73,\r\n\tgreninjabond: 1404 + 73,\r\n\tgreninjaash: 1404 + 74,\r\n\tfurfroudebutante: 1404 + 75,\r\n\tbarbaracle: 1404 + 76,\r\n\tclauncher: 1404 + 77,\r\n\tclawitzer: 1404 + 78,\r\n\tsylveon: 1404 + 79,\r\n\tklefki: 1404 + 80,\r\n\tzygarde: 1404 + 81,\r\n\tzygarde10: 1404 + 82,\r\n\tzygardecomplete: 1404 + 83,\r\n\tdartrix: 1404 + 84,\r\n\tsteenee: 1404 + 85,\r\n\ttsareena: 1404 + 86,\r\n\tcomfey: 1404 + 87,\r\n\tminiormeteor: 1404 + 88,\r\n\tminior: 1404 + 89,\r\n\tminiororange: 1404 + 90,\r\n\tminioryellow: 1404 + 91,\r\n\tminiorgreen: 1404 + 92,\r\n\tminiorblue: 1404 + 93,\r\n\tminiorviolet: 1404 + 94,\r\n\tminiorindigo: 1404 + 95,\r\n\tdhelmise: 1404 + 96,\r\n\tnecrozma: 1404 + 97,\r\n\tmarshadow: 1404 + 98,\r\n\tpikachuoriginal: 1404 + 99,\r\n\tpikachupartner: 1404 + 100,\r\n\tnecrozmaduskmane: 1404 + 101,\r\n\tnecrozmadawnwings: 1404 + 102,\r\n\tnecrozmaultra: 1404 + 103,\r\n\tstakataka: 1404 + 104,\r\n\tblacephalon: 1404 + 105,\r\n};\r\n//region Avatars\r\nexport const BattleAvatarNumbers: { [k: string]: string } = {\r\n\t1: 'lucas',\r\n\t2: 'dawn',\r\n\t3: 'youngster-gen4dp',\r\n\t4: 'lass-gen4dp',\r\n\t5: 'camper',\r\n\t6: 'picnicker',\r\n\t7: 'bugcatcher-gen4dp',\r\n\t8: 'aromalady',\r\n\t9: 'twins-gen4dp',\r\n\t10: 'hiker-gen4',\r\n\t11: 'battlegirl-gen4',\r\n\t12: 'fisherman-gen4',\r\n\t13: 'cyclist-gen4',\r\n\t14: 'cyclistf-gen4',\r\n\t15: 'blackbelt-gen4dp',\r\n\t16: 'artist-gen4',\r\n\t17: 'pokemonbreeder-gen4',\r\n\t18: 'pokemonbreederf-gen4',\r\n\t19: 'cowgirl',\r\n\t20: 'jogger',\r\n\t21: 'pokefan-gen4',\r\n\t22: 'pokefanf-gen4',\r\n\t23: 'pokekid',\r\n\t24: 'youngcouple-gen4dp',\r\n\t25: 'acetrainer-gen4dp',\r\n\t26: 'acetrainerf-gen4dp',\r\n\t27: 'waitress-gen4',\r\n\t28: 'veteran-gen4',\r\n\t29: 'ninjaboy',\r\n\t30: 'dragontamer',\r\n\t31: 'birdkeeper-gen4dp',\r\n\t32: 'doubleteam',\r\n\t33: 'richboy-gen4',\r\n\t34: 'lady-gen4',\r\n\t35: 'gentleman-gen4dp',\r\n\t36: 'madame-gen4dp',\r\n\t37: 'beauty-gen4dp',\r\n\t38: 'collector',\r\n\t39: 'policeman-gen4',\r\n\t40: 'pokemonranger-gen4',\r\n\t41: 'pokemonrangerf-gen4',\r\n\t42: 'scientist-gen4dp',\r\n\t43: 'swimmer-gen4dp',\r\n\t44: 'swimmerf-gen4dp',\r\n\t45: 'tuber',\r\n\t46: 'tuberf',\r\n\t47: 'sailor',\r\n\t48: 'sisandbro',\r\n\t49: 'ruinmaniac',\r\n\t50: 'psychic-gen4',\r\n\t51: 'psychicf-gen4',\r\n\t52: 'gambler',\r\n\t53: 'guitarist-gen4',\r\n\t54: 'acetrainersnow',\r\n\t55: 'acetrainersnowf',\r\n\t56: 'skier',\r\n\t57: 'skierf-gen4dp',\r\n\t58: 'roughneck-gen4',\r\n\t59: 'clown',\r\n\t60: 'worker-gen4',\r\n\t61: 'schoolkid-gen4dp',\r\n\t62: 'schoolkidf-gen4',\r\n\t63: 'roark',\r\n\t64: 'barry',\r\n\t65: 'byron',\r\n\t66: 'aaron',\r\n\t67: 'bertha',\r\n\t68: 'flint',\r\n\t69: 'lucian',\r\n\t70: 'cynthia-gen4',\r\n\t71: 'bellepa',\r\n\t72: 'rancher',\r\n\t73: 'mars',\r\n\t74: 'galacticgrunt',\r\n\t75: 'gardenia',\r\n\t76: 'crasherwake',\r\n\t77: 'maylene',\r\n\t78: 'fantina',\r\n\t79: 'candice',\r\n\t80: 'volkner',\r\n\t81: 'parasollady-gen4',\r\n\t82: 'waiter-gen4dp',\r\n\t83: 'interviewers',\r\n\t84: 'cameraman',\r\n\t85: 'reporter',\r\n\t86: 'idol',\r\n\t87: 'cyrus',\r\n\t88: 'jupiter',\r\n\t89: 'saturn',\r\n\t90: 'galacticgruntf',\r\n\t91: 'argenta',\r\n\t92: 'palmer',\r\n\t93: 'thorton',\r\n\t94: 'buck',\r\n\t95: 'darach-caitlin',\r\n\t96: 'marley',\r\n\t97: 'mira',\r\n\t98: 'cheryl',\r\n\t99: 'riley',\r\n\t100: 'dahlia',\r\n\t101: 'ethan',\r\n\t102: 'lyra',\r\n\t103: 'twins-gen4',\r\n\t104: 'lass-gen4',\r\n\t105: 'acetrainer-gen4',\r\n\t106: 'acetrainerf-gen4',\r\n\t107: 'juggler',\r\n\t108: 'sage',\r\n\t109: 'li',\r\n\t110: 'gentleman-gen4',\r\n\t111: 'teacher',\r\n\t112: 'beauty',\r\n\t113: 'birdkeeper',\r\n\t114: 'swimmer-gen4',\r\n\t115: 'swimmerf-gen4',\r\n\t116: 'kimonogirl',\r\n\t117: 'scientist-gen4',\r\n\t118: 'acetrainercouple',\r\n\t119: 'youngcouple',\r\n\t120: 'supernerd',\r\n\t121: 'medium',\r\n\t122: 'schoolkid-gen4',\r\n\t123: 'blackbelt-gen4',\r\n\t124: 'pokemaniac',\r\n\t125: 'firebreather',\r\n\t126: 'burglar',\r\n\t127: 'biker-gen4',\r\n\t128: 'skierf',\r\n\t129: 'boarder',\r\n\t130: 'rocketgrunt',\r\n\t131: 'rocketgruntf',\r\n\t132: 'archer',\r\n\t133: 'ariana',\r\n\t134: 'proton',\r\n\t135: 'petrel',\r\n\t136: 'eusine',\r\n\t137: 'lucas-gen4pt',\r\n\t138: 'dawn-gen4pt',\r\n\t139: 'madame-gen4',\r\n\t140: 'waiter-gen4',\r\n\t141: 'falkner',\r\n\t142: 'bugsy',\r\n\t143: 'whitney',\r\n\t144: 'morty',\r\n\t145: 'chuck',\r\n\t146: 'jasmine',\r\n\t147: 'pryce',\r\n\t148: 'clair',\r\n\t149: 'will',\r\n\t150: 'koga',\r\n\t151: 'bruno',\r\n\t152: 'karen',\r\n\t153: 'lance',\r\n\t154: 'brock',\r\n\t155: 'misty',\r\n\t156: 'ltsurge',\r\n\t157: 'erika',\r\n\t158: 'janine',\r\n\t159: 'sabrina',\r\n\t160: 'blaine',\r\n\t161: 'blue',\r\n\t162: 'red',\r\n\t163: 'red',\r\n\t164: 'silver',\r\n\t165: 'giovanni',\r\n\t166: 'unknownf',\r\n\t167: 'unknown',\r\n\t168: 'unknown',\r\n\t169: 'hilbert',\r\n\t170: 'hilda',\r\n\t171: 'youngster',\r\n\t172: 'lass',\r\n\t173: 'schoolkid',\r\n\t174: 'schoolkidf',\r\n\t175: 'smasher',\r\n\t176: 'linebacker',\r\n\t177: 'waiter',\r\n\t178: 'waitress',\r\n\t179: 'chili',\r\n\t180: 'cilan',\r\n\t181: 'cress',\r\n\t182: 'nurseryaide',\r\n\t183: 'preschoolerf',\r\n\t184: 'preschooler',\r\n\t185: 'twins',\r\n\t186: 'pokemonbreeder',\r\n\t187: 'pokemonbreederf',\r\n\t188: 'lenora',\r\n\t189: 'burgh',\r\n\t190: 'elesa',\r\n\t191: 'clay',\r\n\t192: 'skyla',\r\n\t193: 'pokemonranger',\r\n\t194: 'pokemonrangerf',\r\n\t195: 'worker',\r\n\t196: 'backpacker',\r\n\t197: 'backpackerf',\r\n\t198: 'fisherman',\r\n\t199: 'musician',\r\n\t200: 'dancer',\r\n\t201: 'harlequin',\r\n\t202: 'artist',\r\n\t203: 'baker',\r\n\t204: 'psychic',\r\n\t205: 'psychicf',\r\n\t206: 'cheren',\r\n\t207: 'bianca',\r\n\t208: 'plasmagrunt-gen5bw',\r\n\t209: 'n',\r\n\t210: 'richboy',\r\n\t211: 'lady',\r\n\t212: 'pilot',\r\n\t213: 'workerice',\r\n\t214: 'hoopster',\r\n\t215: 'scientistf',\r\n\t216: 'clerkf',\r\n\t217: 'acetrainerf',\r\n\t218: 'acetrainer',\r\n\t219: 'blackbelt',\r\n\t220: 'scientist',\r\n\t221: 'striker',\r\n\t222: 'brycen',\r\n\t223: 'iris',\r\n\t224: 'drayden',\r\n\t225: 'roughneck',\r\n\t226: 'janitor',\r\n\t227: 'pokefan',\r\n\t228: 'pokefanf',\r\n\t229: 'doctor',\r\n\t230: 'nurse',\r\n\t231: 'hooligans',\r\n\t232: 'battlegirl',\r\n\t233: 'parasollady',\r\n\t234: 'clerk',\r\n\t235: 'clerk-boss',\r\n\t236: 'backers',\r\n\t237: 'backersf',\r\n\t238: 'veteran',\r\n\t239: 'veteranf',\r\n\t240: 'biker',\r\n\t241: 'infielder',\r\n\t242: 'hiker',\r\n\t243: 'madame',\r\n\t244: 'gentleman',\r\n\t245: 'plasmagruntf-gen5bw',\r\n\t246: 'shauntal',\r\n\t247: 'marshal',\r\n\t248: 'grimsley',\r\n\t249: 'caitlin',\r\n\t250: 'ghetsis-gen5bw',\r\n\t251: 'depotagent',\r\n\t252: 'swimmer',\r\n\t253: 'swimmerf',\r\n\t254: 'policeman',\r\n\t255: 'maid',\r\n\t256: 'ingo',\r\n\t257: 'alder',\r\n\t258: 'cyclist',\r\n\t259: 'cyclistf',\r\n\t260: 'cynthia',\r\n\t261: 'emmet',\r\n\t262: 'hilbert-wonderlauncher',\r\n\t263: 'hilda-wonderlauncher',\r\n\t264: 'hugh',\r\n\t265: 'rosa',\r\n\t266: 'nate',\r\n\t267: 'colress',\r\n\t268: 'beauty-gen5bw2',\r\n\t269: 'ghetsis',\r\n\t270: 'plasmagrunt',\r\n\t271: 'plasmagruntf',\r\n\t272: 'iris-gen5bw2',\r\n\t273: 'brycenman',\r\n\t274: 'shadowtriad',\r\n\t275: 'rood',\r\n\t276: 'zinzolin',\r\n\t277: 'cheren-gen5bw2',\r\n\t278: 'marlon',\r\n\t279: 'roxie',\r\n\t280: 'roxanne',\r\n\t281: 'brawly',\r\n\t282: 'wattson',\r\n\t283: 'flannery',\r\n\t284: 'norman',\r\n\t285: 'winona',\r\n\t286: 'tate',\r\n\t287: 'liza',\r\n\t288: 'juan',\r\n\t289: 'guitarist',\r\n\t290: 'steven',\r\n\t291: 'wallace',\r\n\t292: 'bellelba',\r\n\t293: 'benga',\r\n\t294: 'ash',\r\n\t'#bw2elesa': 'elesa-gen5bw2',\r\n\t'#teamrocket': 'teamrocket',\r\n\t'#yellow': 'yellow',\r\n\t'#zinnia': 'zinnia',\r\n\t'#clemont': 'clemont',\r\n\t'#wally': 'wally',\r\n\tbreeder: 'pokemonbreeder',\r\n\tbreederf: 'pokemonbreederf',\r\n\t'hilbert-dueldisk': 'hilbert-wonderlauncher',\r\n\t'hilda-dueldisk': 'hilda-wonderlauncher',\r\n\t'nate-dueldisk': 'nate-wonderlauncher',\r\n\t'rosa-dueldisk': 'rosa-wonderlauncher',\r\n\t1001: '#1001',\r\n\t1002: '#1002',\r\n\t1003: '#1003',\r\n\t1005: '#1005',\r\n\t1010: '#1010',\r\n};\r\n//region mechanic name def\r\nexport type StatName = 'hp' | 'atk' | 'def' | 'spa' | 'spd' | 'spe';\r\nexport type NatureName = 'Adamant' | 'Bashful' | 'Bold' | 'Brave' | 'Calm' | 'Careful' | 'Docile' | 'Gentle' |\r\n\t'Hardy' | 'Hasty' | 'Impish' | 'Jolly' | 'Lax' | 'Lonely' | 'Mild' | 'Modest' | 'Naive' | 'Naughty' |\r\n\t'Quiet' | 'Quirky' | 'Rash' | 'Relaxed' | 'Sassy' | 'Serious' | 'Timid';\r\nexport type StatNameExceptHP = 'atk' | 'def' | 'spa' | 'spd' | 'spe';\r\nexport type TypeName = 'Normal' | 'Fighting' | 'Flying' | 'Poison' | 'Ground' | 'Rock' | 'Bug' | 'Ghost' | 'Steel' |\r\n\t'Fire' | 'Water' | 'Grass' | 'Electric' | 'Psychic' | 'Ice' | 'Dragon' | 'Dark' | 'Fairy' | 'Stellar' | '???';\r\nexport type StatusName = 'par' | 'psn' | 'frz' | 'slp' | 'brn';\r\nexport type BoostStatName = 'atk' | 'def' | 'spa' | 'spd' | 'spe' | 'evasion' | 'accuracy' | 'spc';\r\nexport type GenderName = 'M' | 'F' | 'N';\r\nexport interface Effect {\r\n\treadonly id: ID;\r\n\treadonly name: string;\r\n\treadonly gen: number;\r\n\treadonly effectType: 'Item' | 'Move' | 'Flag' | 'Ability' | 'Species' | 'PureEffect';\r\n\t// Do we have data on this item/move/ability/species? WARNING: Always false if the relevant data files aren't loaded.\r\n\treadonly exists: boolean;\r\n}\r\nexport class PureEffect implements Effect {\r\n\treadonly effectType = 'PureEffect';\r\n\treadonly id: ID;\r\n\treadonly name: string;\r\n\treadonly gen: number;\r\n\treadonly exists: boolean;\r\n\tconstructor(id: ID, name: string) {\r\n\t\tthis.id = id;\r\n\t\tthis.name = name;\r\n\t\tthis.gen = 0;\r\n\t\tthis.exists = false;\r\n\t}\r\n}\r\nexport class Item implements Effect {\r\n\t// effect\r\n\treadonly effectType = 'Item';\r\n\treadonly id: ID;\r\n\treadonly name: string;\r\n\treadonly gen: number;\r\n\treadonly exists: boolean;\r\n\treadonly num: number;\r\n\treadonly spritenum: number;\r\n\treadonly desc: string;\r\n\treadonly shortDesc: string;\r\n\treadonly megaStone: string;\r\n\treadonly megaEvolves: string;\r\n\treadonly zMove: string | true | null;\r\n\treadonly zMoveType: TypeName | '';\r\n\treadonly zMoveFrom: string;\r\n\treadonly zMoveUser: readonly string[] | null;\r\n\treadonly onPlate: TypeName;\r\n\treadonly onMemory: TypeName;\r\n\treadonly onDrive: TypeName;\r\n\treadonly fling: any;\r\n\treadonly naturalGift: { basePower: number, type: TypeName };\r\n\treadonly isPokeball: boolean;\r\n\treadonly itemUser?: readonly string[];\r\n\treadonly isFragile?: boolean;\r\n\treadonly isMildlyFragile?: boolean;\r\n\tconstructor(id: ID, name: string, data: any) {\r\n\t\tif (!data || typeof data !== 'object') data = {};\r\n\t\tif (data.name) name = data.name;\r\n\t\tthis.name = Dex.sanitizeName(name);\r\n\t\tthis.id = id;\r\n\t\tthis.gen = data.gen || 0;\r\n\t\tthis.exists = ('exists' in data ? !!data.exists : true);\r\n\t\tthis.num = data.num || 0;\r\n\t\tthis.spritenum = data.spritenum || 0;\r\n\t\tthis.desc = data.desc || data.shortDesc || '';\r\n\t\tthis.shortDesc = data.shortDesc || this.desc;\r\n\t\tthis.megaStone = data.megaStone || '';\r\n\t\tthis.megaEvolves = data.megaEvolves || '';\r\n\t\tthis.zMove = data.zMove || null;\r\n\t\tthis.zMoveType = data.zMoveType || '';\r\n\t\tthis.zMoveFrom = data.zMoveFrom || '';\r\n\t\tthis.zMoveUser = data.zMoveUser || null;\r\n\t\tthis.onPlate = data.onPlate || '';\r\n\t\tthis.onMemory = data.onMemory || '';\r\n\t\tthis.onDrive = data.onDrive || '';\r\n\t\tthis.fling = data.fling || null;\r\n\t\tthis.naturalGift = data.naturalGift || null;\r\n\t\tthis.isPokeball = !!data.isPokeball;\r\n\t\tthis.itemUser = data.itemUser;\r\n\t\tthis.isFragile = !!data.isFragile;\r\n\t\tthis.isMildlyFragile = !!data.isMildlyFragile;\r\n\t\tthis.isFragile = data.isFragile;\r\n\t\tthis.isMildlyFragile = data.isMildlyFragile;\r\n\t\tif (!this.gen) {\r\n\t\t\tif (this.num >= 577) { this.gen = 6; } \r\n\t\t\telse if (this.num >= 537) { this.gen = 5; } \r\n\t\t\telse if (this.num >= 377) { this.gen = 4; }\r\n\t\t\telse { this.gen = 3; }\r\n\t\t}\r\n\t}\r\n}\r\nexport interface MoveFlags {\r\n\tbinding?:1|0;\r\n\tbite?: 1 | 0;\r\n\tbullet?: 1 | 0;\r\n\tbomb?:1|0;\r\n\tcontact?: 1 | 0;\r\n\tdance?: 1 | 0;\r\n\tdrain?:1|0;\r\n\texplosive?:1|0;\r\n\theal?: 1 | 0;\r\n\tpowder?: 1 | 0;\r\n\tpulse?: 1 | 0;\r\n\tpunch?: 1 | 0;\r\n\tslicing?: 1 | 0;\r\n\tsound?: 1 | 0;\r\n\twind?: 1 | 0;\r\n\tairborne?: 1 | 0;\r\n\taura?: 1 | 0;\r\n\tbeam?: 1 | 0;\r\n\tbreath?: 1 | 0;\r\n\tclaw?: 1 | 0;\r\n\tcrush?: 1 | 0;\r\n\tkick?: 1 | 0;\r\n\tlaunch?: 1 | 0;\r\n\tlight?: 1 | 0;\r\n\tlunar?: 1 | 0;\r\n\tmagic?: 1 | 0;\r\n\tpierce?: 1 | 0;\r\n\tshadow?: 1 | 0;\r\n\tsolar?: 1 | 0;\r\n\tspin?: 1 | 0;\r\n\tsweep?: 1 | 0;\r\n\tthrow?: 1 | 0;\r\n\tweapon?: 1 | 0;\r\n\twing?: 1 | 0;\r\n\t/** The move has an animation when used on an ally. */\r\n\tallyanim?: 1 | 0;\r\n\t/** Ignores a target's substitute. */\r\n\tbypasssub?: 1 | 0;\r\n\t\t/** The user is unable to make a move between turns. */\r\n\tcharge?: 1 | 0;\r\n\t/** Thaws the user if executed successfully while the user is frozen. */\r\n\tdefrost?: 1 | 0;\r\n\t/** Can target a Pokemon positioned anywhere in a Triple Battle. */\r\n\tdistance?: 1 | 0;\r\n\t/** Prevented from being executed or selected during Gravity's effect. */\r\n\tgravity?: 1 | 0;\r\n\t/** Can be copied by Mirror Move. */\r\n\tmirror?: 1 | 0;\r\n\t/** Prevented from being executed or selected in a Sky Battle. */\r\n\tnonsky?: 1 | 0;\r\n\t/** Cannot be copied by Sketch */\r\n\tnosketch?: 1 | 0;\r\n\t/** Blocked by Detect, Protect, Spiky Shield, and if not a Status move, King's Shield. */\r\n\tprotect?: 1 | 0;\r\n\t\t/** If this move is successful, the user must recharge on the following turn and cannot make a move. */\r\n\trecharge?: 1 | 0;\r\n\t/** Bounced back to the original user by Magic Coat or the Magic Bounce Ability. */\r\n\treflectable?: 1 | 0;\r\n\t/** Can be stolen from the original user and instead used by another Pokemon using Snatch. */\r\n\tsnatch?: 1 | 0;\r\n}\r\n\r\nexport type MoveTarget = 'normal' | 'any' | 'adjacentAlly' | 'adjacentFoe' | 'adjacentAllyOrSelf' | // single-target\r\n\t'self' | 'randomNormal' | // single-target, automatic\r\n\t'allAdjacent' | 'allAdjacentFoes' | // spread\r\n\t'allySide' | 'foeSide' | 'all'; // side and field\r\nexport class Move implements Effect {\r\n\t// effect\r\n\treadonly effectType = 'Move';\r\n\treadonly id: ID;\r\n\treadonly name: string;\r\n\treadonly gen: number;\r\n\treadonly exists: boolean;\r\n\treadonly basePower: number;\r\n\treadonly accuracy: number | true;\r\n\treadonly pp: number;\r\n\treadonly type: TypeName;\r\n\treadonly category: 'Physical' | 'Special' | 'Status';\r\n\treadonly priority: number;\r\n\treadonly target: MoveTarget;\r\n\treadonly pressureTarget: MoveTarget;\r\n\treadonly flags: Readonly<MoveFlags>;\r\n\treadonly critRatio: number;\r\n\treadonly damage?: number | 'level' | false | null;\r\n\treadonly desc: string;\r\n\treadonly shortDesc: string;\r\n\treadonly isNonstandard: string | null;\r\n\treadonly isZ: ID;\r\n\treadonly zMove?: {\r\n\t\tbasePower?: number,\r\n\t\teffect?: string,\r\n\t\tboost?: { [stat in StatName]?: number },\r\n\t};\r\n\treadonly isMax: boolean | string;\r\n\treadonly maxMove: { basePower: number };\r\n\treadonly ohko: true | 'Ice' | null;\r\n\treadonly recoil: number[] | null;\r\n\treadonly heal: number[] | null;\r\n\treadonly multihit: number[] | number | null;\r\n\treadonly hasCrashDamage: boolean;\r\n\treadonly basePowerCallback: boolean;\r\n\treadonly noPPBoosts: boolean;\r\n\treadonly status: string;\r\n\treadonly secondaries: readonly any[] | null;\r\n\treadonly num: number;\r\n\tconstructor(id: ID, name: string, data: any) {\r\n\t\tif (!data || typeof data !== 'object') data = {};\r\n\t\tif (data.name) name = data.name;\r\n\t\tthis.name = Dex.sanitizeName(name);\r\n\t\tthis.id = id;\r\n\t\tthis.gen = data.gen || 0;\r\n\t\tthis.exists = ('exists' in data ? !!data.exists : true);\r\n\t\tthis.basePower = data.basePower || 0;\r\n\t\tthis.accuracy = data.accuracy || 0;\r\n\t\tthis.pp = data.pp || 1;\r\n\t\tthis.type = data.type || '???';\r\n\t\tthis.category = data.category || 'Physical';\r\n\t\tthis.priority = data.priority || 0;\r\n\t\tthis.target = data.target || 'normal';\r\n\t\tthis.pressureTarget = data.pressureTarget || this.target;\r\n\t\tthis.flags = data.flags || {};\r\n\t\tthis.critRatio = data.critRatio === 0 ? 0 : (data.critRatio || 1);\r\n\t\tthis.damage = data.damage;\r\n\t\t// TODO: move to text.js\r\n\t\tthis.desc = data.desc;\r\n\t\tthis.shortDesc = data.shortDesc;\r\n\t\tthis.isNonstandard = data.isNonstandard || null;\r\n\t\tthis.isZ = data.isZ || '';\r\n\t\tthis.zMove = data.zMove || {};\r\n\t\tthis.ohko = data.ohko || null;\r\n\t\tthis.recoil = data.recoil || null;\r\n\t\tthis.heal = data.heal || null;\r\n\t\tthis.multihit = data.multihit || null;\r\n\t\tthis.hasCrashDamage = data.hasCrashDamage || false;\r\n\t\tthis.basePowerCallback = !!data.basePowerCallback;\r\n\t\tthis.noPPBoosts = data.noPPBoosts || false;\r\n\t\tthis.status = data.status || '';\r\n\t\tthis.secondaries = data.secondaries || (data.secondary ? [data.secondary] : null);\r\n\t\tthis.isMax = data.isMax || false;\r\n\t\tthis.maxMove = data.maxMove || { basePower: 0 };\r\n\t\tif (this.category !== 'Status' && !this.maxMove?.basePower) {\r\n\t\t\tif (this.isZ || this.isMax) { this.maxMove = { basePower: 1 }; } \r\n\t\t\telse if (!this.basePower) { this.maxMove = { basePower: 100 }; } \r\n\t\t\telse if (['Fighting', 'Poison'].includes(this.type)) {\r\n\t\t\t\tif (this.basePower >= 150) { this.maxMove = { basePower: 100 }; } \r\n\t\t\t\telse if (this.basePower >= 110) { this.maxMove = { basePower: 95 }; } \r\n\t\t\t\telse if (this.basePower >= 75) { this.maxMove = { basePower: 90 }; } \r\n\t\t\t\telse if (this.basePower >= 65) { this.maxMove = { basePower: 85 }; } \r\n\t\t\t\telse if (this.basePower >= 55) { this.maxMove = { basePower: 80 }; } \r\n\t\t\t\telse if (this.basePower >= 45) { this.maxMove = { basePower: 75 }; } \r\n\t\t\t\telse { this.maxMove = { basePower: 70 }; }\r\n\t\t\t} else {\r\n\t\t\t\tif (this.basePower >= 150) { this.maxMove = { basePower: 150 }; } \r\n\t\t\t\telse if (this.basePower >= 110) { this.maxMove = { basePower: 140 }; } \r\n\t\t\t\telse if (this.basePower >= 75) { this.maxMove = { basePower: 130 }; } \r\n\t\t\t\telse if (this.basePower >= 65) { this.maxMove = { basePower: 120 }; } \r\n\t\t\t\telse if (this.basePower >= 55) { this.maxMove = { basePower: 110 }; } \r\n\t\t\t\telse if (this.basePower >= 45) { this.maxMove = { basePower: 100 }; } \r\n\t\t\t\telse { this.maxMove = { basePower: 90 }; }\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (this.category !== 'Status' && !this.isZ && !this.isMax) {\r\n\t\t\tlet basePower = this.basePower;\r\n\t\t\tthis.zMove = {};\r\n\t\t\tif (Array.isArray(this.multihit)) basePower *= 3;\r\n\t\t\tif (!basePower) { this.zMove.basePower = 100; } \r\n\t\t\telse if (basePower >= 140) { this.zMove.basePower = 200; } \r\n\t\t\telse if (basePower >= 130) { this.zMove.basePower = 195; } \r\n\t\t\telse if (basePower >= 120) { this.zMove.basePower = 190; } \r\n\t\t\telse if (basePower >= 110) { this.zMove.basePower = 185; } \r\n\t\t\telse if (basePower >= 100) { this.zMove.basePower = 180; } \r\n\t\t\telse if (basePower >= 90) { this.zMove.basePower = 175; } \r\n\t\t\telse if (basePower >= 80) { this.zMove.basePower = 160; } \r\n\t\t\telse if (basePower >= 70) { this.zMove.basePower = 140; } \r\n\t\t\telse if (basePower >= 60) { this.zMove.basePower = 120; } \r\n\t\t\telse { this.zMove.basePower = 100; }\r\n\t\t\tif (data.zMove) this.zMove.basePower = data.zMove.basePower;\r\n\t\t}\r\n\t\tthis.num = data.num || 0;\r\n\t\tif (!this.gen) {\r\n\t\t\tif (this.num >= 743) { this.gen = 8; } \r\n\t\t\telse if (this.num >= 622) { this.gen = 7; } \r\n\t\t\telse if (this.num >= 560) { this.gen = 6; } \r\n\t\t\telse if (this.num >= 468) { this.gen = 5; } \r\n\t\t\telse if (this.num >= 355) { this.gen = 4; } \r\n\t\t\telse if (this.num >= 252) { this.gen = 3; } \r\n\t\t\telse if (this.num >= 166) { this.gen = 2; }\r\n\t\t\telse if (this.num >= 1) { this.gen = 1; }\r\n\t\t}\r\n\t}\r\n}\r\nexport interface AbilityFlags {\r\n\t/** Can be suppressed by Mold Breaker and related effects */\r\n\tbreakable?: 1;\r\n\t/** Ability can't be suppressed by e.g. Gastro Acid or Neutralizing Gas */\r\n\tcantsuppress?: 1;\r\n\t/** Role Play fails if target has this Ability */\r\n\tfailroleplay?: 1;\r\n\t/** Skill Swap fails if either the user or target has this Ability */\r\n\tfailskillswap?: 1;\r\n\t/** Entrainment fails if user has this Ability */\r\n\tnoentrain?: 1;\r\n\t/** Receiver and Power of Alchemy will not activate if an ally faints with this Ability */\r\n\tnoreceiver?: 1;\r\n\t/** Trace cannot copy this Ability */\r\n\tnotrace?: 1;\r\n\t/** Disables the Ability if the user is Transformed */\r\n\tnotransform?: 1;\r\n}\r\nexport class Flag implements Effect {\r\n\treadonly effectType = 'Flag';\r\n\treadonly id: ID;\r\n\treadonly name: string;\r\n\treadonly gen: number;\r\n\treadonly exists: boolean;\r\n\treadonly desc: string;\r\n\treadonly shortDesc: string;\r\n\tconstructor(id: ID, name: string, data: any) {\r\n\t\tif (!data || typeof data !== 'string') data = {};\r\n\t\tif (data.name) name = data.name;\r\n\t\tthis.name = Dex.sanitizeName(name);\r\n\t\tthis.id = id;\r\n\t\tthis.gen = data.gen || 0;\r\n\t\tthis.exists = ('exists' in data ? !!data.exists : true);\r\n\t\tthis.desc = data.desc;\r\n\t\tthis.shortDesc = data.shortDesc;\r\n\t}}\r\nexport class Ability implements Effect {\r\n\t// effect\r\n\treadonly effectType = 'Ability';\r\n\treadonly id: ID;\r\n\treadonly name: string;\r\n\treadonly gen: number;\r\n\treadonly exists: boolean;\r\n\treadonly num: number;\r\n\treadonly shortDesc: string;\r\n\treadonly desc: string;\r\n\treadonly rating: number;\r\n\treadonly flags: AbilityFlags;\r\n\treadonly isNonstandard: boolean;\r\n\tconstructor(id: ID, name: string, data: any) {\r\n\t\tif (!data || typeof data !== 'object') data = {};\r\n\t\tif (data.name) name = data.name;\r\n\t\tthis.name = Dex.sanitizeName(name);\r\n\t\tthis.id = id;\r\n\t\tthis.gen = data.gen || 0;\r\n\t\tthis.exists = ('exists' in data ? !!data.exists : true);\r\n\t\tthis.num = data.num || 0;\r\n\t\tthis.shortDesc = data.shortDesc || data.desc || '';\r\n\t\tthis.desc = data.desc || data.shortDesc || '';\r\n\t\tthis.rating = data.rating || 1;\r\n\t\tthis.flags = data.flags || {};\r\n\t\tthis.isNonstandard = !!data.isNonstandard;\r\n\t\tif (!this.gen) {\r\n\t\t\tif (this.num >= 234) { this.gen = 8; } \r\n\t\t\telse if (this.num >= 192) { this.gen = 7; } \r\n\t\t\telse if (this.num >= 165) { this.gen = 6; } \r\n\t\t\telse if (this.num >= 124) { this.gen = 5; } \r\n\t\t\telse if (this.num >= 77) { this.gen = 4; } \r\n\t\t\telse if (this.num >= 1) { this.gen = 3; }\r\n\t\t}\r\n\t}\r\n}\r\nexport class Species implements Effect {\r\n\t// effect\r\n\treadonly effectType = 'Species';\r\n\treadonly id: ID;\r\n\treadonly name: string;\r\n\treadonly gen: number;\r\n\treadonly exists: boolean;\r\n\t// name\r\n\treadonly baseSpecies: string;\r\n\treadonly forme: string;\r\n\treadonly formeid: string;\r\n\treadonly spriteid: string;\r\n\treadonly baseForme: string;\r\n\t// basic data\r\n\treadonly num: number;\r\n\treadonly types: readonly TypeName[];\r\n\treadonly abilities: Readonly<{ 0: string, 1?: string, H?: string, S?: string, }>;\r\n\treadonly baseStats: Readonly<{ hp: number, atk: number, def: number, spa: number, spd: number, spe: number, }>;\r\n\treadonly bst: number;\r\n\treadonly weightkg: number;\r\n\t// flavor data\r\n\treadonly heightm: number;\r\n\treadonly gender: GenderName;\r\n\treadonly color: string;\r\n\treadonly genderRatio: Readonly<{ M: number, F: number }> | null;\r\n\treadonly eggGroups: readonly string[];\r\n\treadonly tags: readonly string[];\r\n\t// format data\r\n\treadonly otherFormes: readonly string[] | null;\r\n\treadonly cosmeticFormes: readonly string[] | null;\r\n\treadonly evos: readonly string[] | null;\r\n\treadonly prevo: string;\r\n\treadonly evoType: 'trade' | 'useItem' | 'levelMove' | 'levelExtra' | 'levelFriendship' | 'levelHold' | 'other' | '';\r\n\treadonly evoLevel: number;\r\n\treadonly evoMove: string;\r\n\treadonly evoItem: string;\r\n\treadonly evoCondition: string;\r\n\treadonly nfe: boolean;\r\n\treadonly requiredItems: readonly string[];\r\n\treadonly tier: string;\r\n\treadonly isTotem: boolean;\r\n\treadonly isMega: boolean;\r\n\treadonly isPrimal: boolean;\r\n\treadonly canGigantamax: boolean;\r\n\treadonly cannotDynamax: boolean;\r\n\treadonly requiredTeraType: TypeName;\r\n\treadonly battleOnly: string | string[] | undefined;\r\n\treadonly isNonstandard: string | null;\r\n\treadonly unreleasedHidden: boolean | 'Past';\r\n\treadonly changesFrom: string | undefined;\r\n\tconstructor(id: ID, name: string, data: any) {\r\n\t\tif (!data || typeof data !== 'object') data = {};\r\n\t\tif (data.name) name = data.name;\r\n\t\tthis.name = Dex.sanitizeName(name);\r\n\t\tthis.id = id;\r\n\t\tthis.gen = data.gen || 0;\r\n\t\tthis.exists = ('exists' in data ? !!data.exists : true);\r\n\t\tthis.baseSpecies = data.baseSpecies || name;\r\n\t\tthis.forme = data.forme || '';\r\n\t\tconst baseId = toID(this.baseSpecies);\r\n\t\tthis.formeid = (baseId === this.id ? '' : '-' + toID(this.forme));\r\n\t\tthis.spriteid = baseId + this.formeid;\r\n\t\tif (this.spriteid.endsWith('totem')) this.spriteid = this.spriteid.slice(0, -5);\r\n\t\tif (this.spriteid === 'greninja-bond') this.spriteid = 'greninja';\r\n\t\tif (this.spriteid === 'rockruff-dusk') this.spriteid = 'rockruff';\r\n\t\tif (this.spriteid.endsWith('-')) this.spriteid = this.spriteid.slice(0, -1);\r\n\t\tthis.baseForme = data.baseForme || '';\r\n\t\tthis.num = data.num || 0;\r\n\t\tthis.types = data.types || ['???'];\r\n\t\tthis.abilities = data.abilities || { 0: \"No Ability\" };\r\n\t\tthis.baseStats = data.baseStats || { hp: 0, atk: 0, def: 0, spa: 0, spd: 0, spe: 0 };\r\n\t\tthis.bst = this.baseStats.hp + this.baseStats.atk + this.baseStats.def + this.baseStats.spa + this.baseStats.spd + this.baseStats.spe;\r\n\t\tthis.weightkg = data.weightkg || 0;\r\n\t\tthis.heightm = data.heightm || 0;\r\n\t\tthis.gender = data.gender || '';\r\n\t\tthis.color = data.color || '';\r\n\t\tthis.genderRatio = data.genderRatio || null;\r\n\t\tthis.eggGroups = data.eggGroups || [];\r\n\t\tthis.tags = data.tags || [];\r\n\t\tthis.otherFormes = data.otherFormes || null;\r\n\t\tthis.cosmeticFormes = data.cosmeticFormes || null;\r\n\t\tthis.evos = data.evos || null;\r\n\t\tthis.prevo = data.prevo || '';\r\n\t\tthis.evoType = data.evoType || '';\r\n\t\tthis.evoLevel = data.evoLevel || 0;\r\n\t\tthis.evoMove = data.evoMove || '';\r\n\t\tthis.evoItem = data.evoItem || '';\r\n\t\tthis.evoCondition = data.evoCondition || '';\r\n\t\tthis.nfe = data.nfe || false;\r\n\t\tthis.requiredItems = data.requiredItems || (data.requiredItem ? [data.requiredItem] : []);\r\n\t\tthis.tier = data.tier || '';\r\n\t\tthis.isTotem = false;\r\n\t\tthis.isMega = !!(this.forme && ['-mega', '-megax', '-megay'].includes(this.formeid));\r\n\t\tthis.isPrimal = !!(this.forme && this.formeid === '-primal');\r\n\t\tthis.canGigantamax = !!data.canGigantamax;\r\n\t\tthis.cannotDynamax = !!data.cannotDynamax;\r\n\t\tthis.requiredTeraType = data.requiredTeraType || '';\r\n\t\tthis.battleOnly = data.battleOnly || (this.isMega ? this.baseSpecies : undefined);\r\n\t\tthis.isNonstandard = data.isNonstandard || null;\r\n\t\tthis.unreleasedHidden = data.unreleasedHidden || false;\r\n\t\tthis.changesFrom = data.changesFrom ||\r\n\t\t\t(this.battleOnly !== this.baseSpecies ? this.battleOnly : this.baseSpecies);\r\n\t\tif (!this.gen) {\r\n\t\t\tif (this.num >= 906 || this.formeid.startsWith('-paldea')) { this.gen = 9; } \r\n\t\t\telse if (this.num >= 810 || this.formeid.startsWith('-galar') || this.formeid.startsWith('-hisui')) { this.gen = 8; } \r\n\t\t\telse if (this.num >= 722 || this.formeid === '-alola' || this.formeid === '-starter') { this.gen = 7; } \r\n\t\t\telse if (this.isMega || this.isPrimal) {\r\n\t\t\t\tthis.gen = 6;\r\n\t\t\t\tthis.battleOnly = this.baseSpecies;\r\n\t\t\t} \r\n\t\t\telse if (this.formeid === '-totem' || this.formeid === '-alolatotem') {\r\n\t\t\t\tthis.gen = 7;\r\n\t\t\t\tthis.isTotem = true;\r\n\t\t\t} \r\n\t\t\telse if (this.num >= 650) { this.gen = 6; } \r\n\t\t\telse if (this.num >= 494) { this.gen = 5; } \r\n\t\t\telse if (this.num >= 387) { this.gen = 4; } \r\n\t\t\telse if (this.num >= 252) { this.gen = 3; } \r\n\t\t\telse if (this.num >= 152) { this.gen = 2; } \r\n\t\t\telse if (this.num >= 1) { this.gen = 1; }\r\n\t\t}\r\n\t}\r\n}\r\nexport interface Type extends Effect {\r\n\tdamageTaken?: Record<Dex.TypeName, Dex.WeaknessType>;\r\n\tHPivs?: Partial<Dex.StatsTable>;\r\n\tHPdvs?: Partial<Dex.StatsTable>;\r\n}\r\ndeclare const require: any;\r\ndeclare const global: any;\r\nif (typeof require === 'function') {\r\n\t// in Node\r\n\tglobal.BattleBaseSpeciesChart = BattleBaseSpeciesChart;\r\n\tglobal.BattleNatures = BattleNatures;\r\n\tglobal.PureEffect = PureEffect;\r\n\tglobal.Species = Species;\r\n\tglobal.Ability = Ability;\r\n\tglobal.Item = Item;\r\n\tglobal.Move = Move;\r\n}","/**\r\n * Battle log\r\n *\r\n * An exercise in minimalism! This is a dependency of the client, which\r\n * requires IE9+ and uses Preact, and the replay player, which requires\r\n * IE7+ and uses jQuery. Therefore, this has to be compatible with IE7+\r\n * and use the DOM directly!\r\n *\r\n * Special thanks to PPK for QuirksMode.org, one of the few resources\r\n * available for how to do web development in these conditions.\r\n *\r\n * @author Guangcong Luo <guangcongluo@gmail.com>\r\n * @license MIT\r\n */\r\n\r\nimport type { Battle } from './battle';\r\nimport type { BattleScene } from './battle-animations';\r\nimport { Dex, toID, toRoomid, toUserid, type ID } from './battle-dex';\r\nimport { Teams } from './battle-teams';\r\nimport { BattleTextParser, type Args, type KWArgs } from './battle-text-parser';\r\nimport { Net } from './client-connection'; // optional\r\nimport { Config } from './client-main';\r\n\r\n// Caja\r\ndeclare const html4: any;\r\ndeclare const html: any;\r\n\r\n// defined in battle-log-misc\r\ndeclare function MD5(input: string): string;\r\ndeclare function formatText(input: string, isTrusted?: boolean): string;\r\nexport { MD5, formatText };\r\n\r\nexport class BattleLog {\r\n\telem: HTMLDivElement;\r\n\tinnerElem: HTMLDivElement;\r\n\tscene: BattleScene | null = null;\r\n\tpreemptElem: HTMLDivElement = null!;\r\n\tatBottom = true;\r\n\tskippedLines = false;\r\n\tclassName: string;\r\n\tbattleParser: BattleTextParser | null = null;\r\n\tjoinLeave: {\r\n\t\tjoins: string[],\r\n\t\tleaves: string[],\r\n\t\telement: HTMLDivElement,\r\n\t} | null = null;\r\n\tlastRename: {\r\n\t\tfrom: string,\r\n\t\tto: string,\r\n\t\telement: HTMLDivElement,\r\n\t} | null = null;\r\n\t/**\r\n\t * * -1 = spectator: \"Red sent out Pikachu!\" \"Blue's Eevee used Tackle!\"\r\n\t * * 0 = player 1: \"Go! Pikachu!\" \"The opposing Eevee used Tackle!\"\r\n\t * * 1 = player 2: \"Red sent out Pikachu!\" \"Eevee used Tackle!\"\r\n\t */\r\n\tperspective: -1 | 0 | 1 = -1;\r\n\tgetHighlight: ((line: Args) => boolean) | null = null;\r\n\tconstructor(elem: HTMLDivElement, scene?: BattleScene | null, innerElem?: HTMLDivElement) {\r\n\t\tthis.elem = elem;\r\n\r\n\t\tif (!innerElem) {\r\n\t\t\telem.setAttribute('role', 'log');\r\n\t\t\telem.innerHTML = '';\r\n\t\t\tinnerElem = document.createElement('div');\r\n\t\t\tinnerElem.className = 'inner message-log';\r\n\t\t\telem.appendChild(innerElem);\r\n\t\t}\r\n\t\tthis.innerElem = innerElem;\r\n\r\n\t\tif (scene) {\r\n\t\t\tthis.scene = scene;\r\n\t\t\tconst preemptElem = document.createElement('div');\r\n\t\t\tpreemptElem.className = 'inner-preempt message-log';\r\n\t\t\telem.appendChild(preemptElem);\r\n\t\t\tthis.preemptElem = preemptElem;\r\n\t\t\tthis.battleParser = new BattleTextParser();\r\n\t\t}\r\n\r\n\t\tthis.className = elem.className;\r\n\t\telem.onscroll = this.onScroll;\r\n\t\telem.onclick = this.onClick;\r\n\t}\r\n\tonClick = (ev: Event) => {\r\n\t\tlet target = ev.target as HTMLElement | null;\r\n\t\twhile (target && target !== this.elem) {\r\n\t\t\tif (target.tagName === 'SUMMARY') {\r\n\t\t\t\tif (window.getSelection?.()?.type === 'Range') {\r\n\t\t\t\t\t// by default, selecting text will also expand/collapse details, which\r\n\t\t\t\t\t// is annoying. this prevents that.\r\n\t\t\t\t\tev.preventDefault();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetTimeout(this.updateScroll, 0);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\ttarget = target.parentElement;\r\n\t\t}\r\n\t};\r\n\tonScroll = () => {\r\n\t\tconst distanceFromBottom = this.elem.scrollHeight - this.elem.scrollTop - this.elem.clientHeight;\r\n\t\tthis.atBottom = (distanceFromBottom < 30);\r\n\t};\r\n\treset() {\r\n\t\tthis.innerElem.innerHTML = '';\r\n\t\tthis.atBottom = true;\r\n\t\tthis.skippedLines = false;\r\n\t}\r\n\tdestroy() {\r\n\t\tthis.elem.onscroll = null;\r\n\t\tthis.elem.innerHTML = '';\r\n\t}\r\n\taddSeekEarlierButton() {\r\n\t\tif (this.skippedLines) return;\r\n\t\tthis.skippedLines = true;\r\n\t\tconst el = document.createElement('div');\r\n\t\tel.className = 'chat';\r\n\t\tel.innerHTML = '<button class=\"button earlier-button\"><i class=\"fa fa-caret-up\" aria-hidden=\"true\"></i><br />Earlier messages</button>';\r\n\t\tconst button = el.getElementsByTagName('button')[0];\r\n\t\tbutton?.addEventListener?.('click', e => {\r\n\t\t\te.preventDefault();\r\n\t\t\tthis.scene?.battle.seekTurn(this.scene.battle.turn - 100);\r\n\t\t});\r\n\t\tthis.addNode(el);\r\n\t}\r\n\tadd(args: Args, kwArgs?: KWArgs, preempt?: boolean, showTimestamps?: 'minutes' | 'seconds') {\r\n\t\tif (kwArgs?.silent) return;\r\n\t\tconst battle = this.scene?.battle;\r\n\t\tif (battle?.seeking) {\r\n\t\t\tif (battle.stepQueue.length > 2000) {\r\n\t\t\t\t// adding elements gets slower and slower the more there are\r\n\t\t\t\t// (so showing 100 turns takes around 2 seconds, and 1000 turns takes around a minute)\r\n\t\t\t\t// capping at 100 turns makes everything _reasonably_ snappy\r\n\t\t\t\tif (\r\n\t\t\t\t\tbattle.seeking === Infinity ?\r\n\t\t\t\t\t\tbattle.currentStep < battle.stepQueue.length - 2000 :\r\n\t\t\t\t\t\tbattle.turn < battle.seeking - 100\r\n\t\t\t\t) {\r\n\t\t\t\t\tthis.addSeekEarlierButton();\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tlet divClass = 'chat';\r\n\t\tlet divHTML = '';\r\n\t\tlet noNotify: boolean | undefined;\r\n\t\tif (!['name', 'n'].includes(args[0])) this.lastRename = null;\r\n\t\tswitch (args[0]) {\r\n\t\tcase 'chat': case 'c': case 'c:':\r\n\t\t\tlet name;\r\n\t\t\tlet message;\r\n\t\t\tlet timestamp = 0;\r\n\t\t\tif (args[0] === 'c:') {\r\n\t\t\t\ttimestamp = parseInt(args[1]);\r\n\t\t\t\tname = args[2];\r\n\t\t\t\tmessage = args[3];\r\n\t\t\t} else {\r\n\t\t\t\tname = args[1];\r\n\t\t\t\tmessage = args[2];\r\n\t\t\t}\r\n\t\t\tlet rank = name.charAt(0);\r\n\t\t\tif (battle?.ignoreSpects && ' +'.includes(rank)) return;\r\n\t\t\tif (battle?.ignoreOpponent) {\r\n\t\t\t\tif (\r\n\t\t\t\t\t'\\u2605\\u2606'.includes(rank) &&\r\n\t\t\t\t\ttoUserid(name) !== (window.app?.user?.get('userid') || window.PS?.user?.userid)\r\n\t\t\t\t) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tconst ignoreList = window.app?.ignore || window.PS?.prefs?.ignore;\r\n\t\t\tif (ignoreList?.[toUserid(name)] && ' +^\\u2605\\u2606'.includes(rank)) return;\r\n\t\t\tlet timestampHtml = '';\r\n\t\t\tif (showTimestamps) {\r\n\t\t\t\tconst date = timestamp && !isNaN(timestamp) ? new Date(timestamp * 1000) : new Date();\r\n\t\t\t\tconst components = [date.getHours(), date.getMinutes()];\r\n\t\t\t\tif (showTimestamps === 'seconds') {\r\n\t\t\t\t\tcomponents.push(date.getSeconds());\r\n\t\t\t\t}\r\n\t\t\t\ttimestampHtml = `<small class=\"gray\">[${components.map(x => x < 10 ? `0${x}` : x).join(':')}] </small>`;\r\n\t\t\t}\r\n\t\t\tconst isHighlighted = window.app?.rooms?.[battle!.roomid].getHighlight(message) || this.getHighlight?.(args);\r\n\t\t\t[divClass, divHTML, noNotify] = this.parseChatMessage(message, name, timestampHtml, isHighlighted);\r\n\t\t\tif (!noNotify && isHighlighted) {\r\n\t\t\t\tconst notifyTitle = \"Mentioned by \" + name + \" in \" + (battle?.roomid || '');\r\n\t\t\t\twindow.app?.rooms[battle?.roomid || '']?.notifyOnce(notifyTitle, \"\\\"\" + message + \"\\\"\", 'highlight');\r\n\t\t\t}\r\n\t\t\tbreak;\r\n\r\n\t\tcase 'join': case 'j': case 'leave': case 'l': {\r\n\t\t\tconst user = BattleTextParser.parseNameParts(args[1]);\r\n\t\t\tif (battle?.ignoreSpects && ' +'.includes(user.group)) return;\r\n\t\t\tconst formattedUser = user.group + user.name;\r\n\t\t\tconst isJoin = (args[0].startsWith('j'));\r\n\t\t\tif (!this.joinLeave) {\r\n\t\t\t\tthis.joinLeave = {\r\n\t\t\t\t\tjoins: [],\r\n\t\t\t\t\tleaves: [],\r\n\t\t\t\t\telement: document.createElement('div'),\r\n\t\t\t\t};\r\n\t\t\t\tthis.joinLeave.element.className = 'chat';\r\n\t\t\t}\r\n\r\n\t\t\tif (isJoin && this.joinLeave.leaves.includes(formattedUser)) {\r\n\t\t\t\tthis.joinLeave.leaves.splice(this.joinLeave.leaves.indexOf(formattedUser), 1);\r\n\t\t\t} else {\r\n\t\t\t\tthis.joinLeave[isJoin ? \"joins\" : \"leaves\"].push(formattedUser);\r\n\t\t\t}\r\n\r\n\t\t\tlet buf = '';\r\n\t\t\tif (this.joinLeave.joins.length) {\r\n\t\t\t\tbuf += `${this.textList(this.joinLeave.joins)} joined`;\r\n\t\t\t}\r\n\t\t\tif (this.joinLeave.leaves.length) {\r\n\t\t\t\tif (this.joinLeave.joins.length) buf += `; `;\r\n\t\t\t\tbuf += `${this.textList(this.joinLeave.leaves)} left`;\r\n\t\t\t}\r\n\t\t\tthis.joinLeave.element.innerHTML = `<small>${BattleLog.escapeHTML(buf)}</small>`;\r\n\t\t\t(preempt ? this.preemptElem : this.innerElem).appendChild(this.joinLeave.element);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tcase 'name': case 'n': {\r\n\t\t\tconst user = BattleTextParser.parseNameParts(args[1]);\r\n\t\t\tif (toID(args[2]) === toID(user.name)) return;\r\n\t\t\tif (!this.lastRename || toID(this.lastRename.to) !== toID(user.name)) {\r\n\t\t\t\tthis.lastRename = {\r\n\t\t\t\t\tfrom: args[2],\r\n\t\t\t\t\tto: '',\r\n\t\t\t\t\telement: document.createElement('div'),\r\n\t\t\t\t};\r\n\t\t\t\tthis.lastRename.element.className = 'chat';\r\n\t\t\t}\r\n\t\t\tthis.lastRename.to = user.group + user.name;\r\n\t\t\tthis.lastRename.element.innerHTML = `<small>${BattleLog.escapeHTML(this.lastRename.to)} renamed from ${BattleLog.escapeHTML(this.lastRename.from)}.</small>`;\r\n\t\t\t(preempt ? this.preemptElem : this.innerElem).appendChild(this.lastRename.element);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tcase 'chatmsg': case '':\r\n\t\t\tdivHTML = BattleLog.escapeHTML(args[1]);\r\n\t\t\tbreak;\r\n\r\n\t\tcase 'chatmsg-raw': case 'raw': case 'html':\r\n\t\t\tdivHTML = BattleLog.sanitizeHTML(args[1]);\r\n\t\t\tbreak;\r\n\r\n\t\tcase 'uhtml': case 'uhtmlchange':\r\n\t\t\tthis.changeUhtml(args[1], args[2], args[0] === 'uhtml');\r\n\t\t\treturn ['', ''];\r\n\r\n\t\tcase 'error': case 'inactive': case 'inactiveoff':\r\n\t\t\tdivClass = 'chat message-error';\r\n\t\t\tdivHTML = BattleLog.escapeHTML(args[1]);\r\n\t\t\tbreak;\r\n\r\n\t\tcase 'bigerror':\r\n\t\t\tthis.message('<div class=\"broadcast-red\">' + BattleLog.escapeHTML(args[1]).replace(/\\|/g, '<br />') + '</div>');\r\n\t\t\treturn;\r\n\r\n\t\tcase 'pm':\r\n\t\t\tdivHTML = `<strong data-href=\"user-${BattleLog.escapeHTML(args[1])}\"> ${BattleLog.escapeHTML(args[1])}:</strong> <span class=\"message-pm\"><i style=\"cursor:pointer\" data-href=\"user-${BattleLog.escapeHTML(args[1], true)}\">(Private to ${BattleLog.escapeHTML(args[2])})</i> ${BattleLog.parseMessage(args[3])} </span>`;\r\n\t\t\tbreak;\r\n\r\n\t\tcase 'askreg':\r\n\t\t\tthis.addDiv('chat', '<div class=\"broadcast-blue\"><b>Register an account to protect your ladder rating!</b><br /><button name=\"register\" value=\"' + BattleLog.escapeHTML(args[1]) + '\"><b>Register</b></button></div>');\r\n\t\t\treturn;\r\n\r\n\t\tcase 'unlink': {\r\n\t\t\t// |unlink| is deprecated in favor of |hidelines|\r\n\t\t\tif (window.PS?.prefs?.nounlink || window.Dex?.prefs?.nounlink) return;\r\n\t\t\tconst user = toID(args[2]) || toID(args[1]);\r\n\t\t\tthis.unlinkChatFrom(user);\r\n\t\t\tif (args[2]) {\r\n\t\t\t\tconst lineCount = parseInt(args[3], 10);\r\n\t\t\t\tthis.hideChatFrom(user, true, lineCount);\r\n\t\t\t}\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tcase 'hidelines': {\r\n\t\t\tif (window.PS?.prefs?.nounlink || window.Dex?.prefs?.nounlink) return;\r\n\t\t\tconst user = toID(args[2]);\r\n\t\t\tthis.unlinkChatFrom(user);\r\n\t\t\tif (args[1] !== 'unlink') {\r\n\t\t\t\tconst lineCount = parseInt(args[3], 10);\r\n\t\t\t\tthis.hideChatFrom(user, args[1] === 'hide', lineCount);\r\n\t\t\t}\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tcase 'debug':\r\n\t\t\tdivClass = 'debug';\r\n\t\t\tdivHTML = '<div class=\"chat\"><small style=\"color:#999\">[DEBUG] ' + BattleLog.escapeHTML(args[1]) + '.</small></div>';\r\n\t\t\tbreak;\r\n\r\n\t\tcase 'notify':\r\n\t\t\tconst title = args[1];\r\n\t\t\tconst body = args[2];\r\n\t\t\tconst roomid = this.scene?.battle.roomid;\r\n\t\t\tif (!roomid) break;\r\n\t\t\twindow.app?.rooms[roomid].notifyOnce(title, body, 'highlight');\r\n\t\t\tbreak;\r\n\r\n\t\tcase 'showteam': {\r\n\t\t\tif (!battle) return;\r\n\t\t\tconst team = Teams.unpack(args[2]);\r\n\t\t\tif (!team.length) return;\r\n\t\t\tconst side = battle.getSide(args[1]);\r\n\t\t\tconst exportedTeam = team.map(set => {\r\n\t\t\t\tlet buf = Teams.export([set], battle.dex).replace(/\\n/g, '<br />');\r\n\t\t\t\tif (set.name && set.name !== set.species) {\r\n\t\t\t\t\tbuf = buf.replace(set.name, BattleLog.sanitizeHTML(\r\n\t\t\t\t\t\t`<span class=\"picon\" style=\"${Dex.getPokemonIcon(set.species)}\"></span><br />${set.name}`));\r\n\t\t\t\t} else {\r\n\t\t\t\t\tbuf = buf.replace(set.species,\r\n\t\t\t\t\t\t`<span class=\"picon\" style=\"${Dex.getPokemonIcon(set.species)}\"></span><br />${set.species}`);\r\n\t\t\t\t}\r\n\t\t\t\tif (set.item) {\r\n\t\t\t\t\tbuf = buf.replace(set.item, `${set.item} <span class=\"itemicon\" style=\"${Dex.getItemIcon(set.item)}\"></span>`);\r\n\t\t\t\t}\r\n\t\t\t\treturn buf;\r\n\t\t\t}).join('');\r\n\t\t\tdivHTML = `<div class=\"infobox\"><details class=\"details\"><summary>Open team sheet for ${side.name}</summary>${exportedTeam}</details></div>`;\r\n\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\tcase 'seed': case 'choice': case ':': case 'timer': case 't:':\r\n\t\tcase 'J': case 'L': case 'N': case 'spectator': case 'spectatorleave':\r\n\t\tcase 'initdone':\r\n\t\t\treturn;\r\n\r\n\t\tdefault:\r\n\t\t\tthis.addBattleMessage(args, kwArgs);\r\n\t\t\tthis.joinLeave = null;\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (divHTML) {\r\n\t\t\tthis.addDiv(divClass, divHTML, preempt);\r\n\t\t\tthis.joinLeave = null;\r\n\t\t}\r\n\t}\r\n\taddBattleMessage(args: Args, kwArgs?: KWArgs) {\r\n\t\tswitch (args[0]) {\r\n\t\tcase 'warning':\r\n\t\t\tthis.message('<strong>Warning:</strong> ' + BattleLog.escapeHTML(args[1]));\r\n\t\t\tthis.message(`Bug? Report it to <a href=\"http://www.smogon.com/forums/showthread.php?t=3453192\">the replay viewer's Smogon thread</a>`);\r\n\t\t\tif (this.scene) this.scene.wait(1000);\r\n\t\t\treturn;\r\n\r\n\t\tcase 'variation':\r\n\t\t\tthis.addDiv('', '<small>Variation: <em>' + BattleLog.escapeHTML(args[1]) + '</em></small>');\r\n\t\t\tbreak;\r\n\r\n\t\tcase 'rule':\r\n\t\t\tconst ruleArgs = args[1].split(': ');\r\n\t\t\tthis.addDiv('', '<small><em>' + BattleLog.escapeHTML(ruleArgs[0]) + (ruleArgs[1] ? ':' : '') + '</em> ' + BattleLog.escapeHTML(ruleArgs[1] || '') + '</small>');\r\n\t\t\tbreak;\r\n\r\n\t\tcase 'rated':\r\n\t\t\tthis.addDiv('rated', '<strong>' + (BattleLog.escapeHTML(args[1]) || 'Rated battle') + '</strong>');\r\n\t\t\tbreak;\r\n\r\n\t\tcase 'tier':\r\n\t\t\tthis.addDiv('', '<small>Format:</small> <br /><strong>' + BattleLog.escapeHTML(args[1]) + '</strong>');\r\n\t\t\tbreak;\r\n\r\n\t\tcase 'turn':\r\n\t\t\tconst h2elem = document.createElement('h2');\r\n\t\t\th2elem.className = 'battle-history';\r\n\t\t\tlet turnMessage;\r\n\t\t\tif (this.battleParser) {\r\n\t\t\t\tturnMessage = this.battleParser.parseArgs(args, {}).trim();\r\n\t\t\t\tif (!turnMessage.startsWith('==') || !turnMessage.endsWith('==')) {\r\n\t\t\t\t\tthrow new Error(\"Turn message must be a heading.\");\r\n\t\t\t\t}\r\n\t\t\t\tturnMessage = turnMessage.slice(2, -2).trim();\r\n\t\t\t\tthis.battleParser.curLineSection = 'break';\r\n\t\t\t} else {\r\n\t\t\t\tturnMessage = `Turn ${args[1]}`;\r\n\t\t\t}\r\n\t\t\th2elem.innerHTML = BattleLog.escapeHTML(turnMessage);\r\n\t\t\tthis.addSpacer();\r\n\t\t\tthis.addNode(h2elem);\r\n\t\t\tbreak;\r\n\r\n\t\tdefault:\r\n\t\t\tif (this.addAFDMessage(args, kwArgs)) return;\r\n\t\t\tconst line = this.battleParser?.parseArgs(args, kwArgs || {}, true) ?? null;\r\n\t\t\tif (line === null) {\r\n\t\t\t\tthis.addDiv('chat message-error', 'Unrecognized: |' + BattleLog.escapeHTML(args.join('|')));\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (line) this.messageFromLog(line);\r\n\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\taddAFDMessage(args: Args, kwArgs: KWArgs = {}) {\r\n\t\tif (!Dex.afdMode) return;\r\n\t\tif (!this.battleParser || !this.scene) return;\r\n\r\n\t\t// return true to skip the default message\r\n\t\tconst messageFromArgs = (args1: Args, kwArgs1: KWArgs = {}) => {\r\n\t\t\tthis.messageFromLog(this.battleParser!.parseArgs(args1, kwArgs1, true));\r\n\t\t};\r\n\r\n\t\t// Taunt and Chilly Reception messages (below) will appear in ALL AFD modes.\r\n\r\n\t\tif (args[0] === 'move') {\r\n\t\t\tif (kwArgs.from) return false;\r\n\r\n\t\t\tconst moveid = toID(args[2]);\r\n\t\t\tif (moveid === 'taunt') {\r\n\t\t\t\t// April Fool's 2013, expanded in 2025\r\n\t\t\t\tmessageFromArgs(args, kwArgs);\r\n\t\t\t\tconst quotes = [\r\n\t\t\t\t\t\"Yo mama so fat, she 4x resists Ice- and Fire-type attacks!\",\r\n\t\t\t\t\t\"Yo mama so ugly, Captivate raises her opponent's Special Attack!\",\r\n\t\t\t\t\t\"Yo mama so dumb, she lowers her Special Attack when she uses Nasty Plot!\",\r\n\t\t\t\t\t\"Yo mama so fat, she eats her Aguav Berry at 50% HP!\",\r\n\t\t\t\t\t\"Yo Mama so stupid, she tried to count clouds one through eight!\",\r\n\t\t\t\t\t\"Yo Mama so stupid, she thought Sticky Hold meant she needed to grab a stick!\",\r\n\t\t\t\t\t\"Yo Mama so old, her Paradox forme would be Great Grandma!\",\r\n\t\t\t\t\t\"Yo Mama so stupid, she can't learn anything from the move tutor!\",\r\n\t\t\t\t\t\"Yo Mama so rude, she got Kyogre and Groudon to team up against her!\",\r\n\t\t\t\t\t\"Yo Mama so fat, Focus Blast never misses her!\",\r\n\t\t\t\t\t\"Yo Mama so fat, the Darkest Day is when she's tanning!\",\r\n\t\t\t\t\t\"Yo Mama so stinky, her damaging moves have a 10% chance to make the opponent flinch!\",\r\n\t\t\t\t\t\"Yo Mama so old, she has the NPCs from Legends Arceus in her yearbook!\",\r\n\t\t\t\t\t\"Yo Mama so stupid, she's still trying to find Rhydon!\",\r\n\t\t\t\t\t\"Yo Mama so stupid, she asked if the Insect Plate comes with an appetizer!\",\r\n\t\t\t\t\t\"Yo Mama so bad, she got her Stunfisk paralyzed!\",\r\n\t\t\t\t\t\"Yo Mama so nasty, Black Sludge heals her 1/16th!\",\r\n\t\t\t\t\t\"Yo Mama so stupid, she gave her Bisharp Black Sludge!\",\r\n\t\t\t\t\t\"Yo Mama so stupid, she runs a suboptimal EV spread on her Tera Poison Calm Mind Chimecho, making it faint to a Choice Banded Dragonite Tera Normal Extreme Speed!\",\r\n\t\t\t\t\t\"Yo Mama so casual, she mains NatDex AG!\",\r\n\t\t\t\t\t\"Yo Mama so casual, she ladders with Red's team!\",\r\n\t\t\t\t\t\"Yo Mama so dumb, she scouts teams in Randbats!\",\r\n\t\t\t\t\t\"Yo Mama so lazy, she loafs around every turn!\",\r\n\t\t\t\t\t\"Yo Mama so fat, she changes type when holding a Dinner Plate!\",\r\n\t\t\t\t\t\"Yo Mama so slow, even Trick Room won't let her go first!\",\r\n\t\t\t\t\t\"Yo Mama so dumb, not even Gummis can raise her IQ!\",\r\n\t\t\t\t\t\"Show me your moves!\",\r\n\t\t\t\t\t\"Yo Mama so nasty, thinking about her gives a +2 Special Attack boost!\",\r\n\t\t\t\t\t\"Yo Mama so broke, her deck has no energy cards so she can save on electricity!\",\r\n\t\t\t\t\t\"Yo Mama so dumb, she tried using Twitch Plays Pokemon as a walkthrough guide!\",\r\n\t\t\t\t\t\"Yo Mama so dumb, Slowpoke finishes her sentences!\",\r\n\t\t\t\t\t\"Yo Mama so old, she babysat AZ!\",\r\n\t\t\t\t\t\"Yo Mama so stupid, not even Own Tempo could prevent her from being confused!\",\r\n\t\t\t\t\t\"Yo Mama so ugly, even Brock wanted nothing to do with her!\",\r\n\t\t\t\t\t\"Yo Mama so stupid, she drank antifreeze to cure her status condition!\",\r\n\t\t\t\t\t\"Yo Mama so trashy, they named a Wormadam forme after her!\",\r\n\t\t\t\t\t\"Yo Mama so broke, her Gholdengo is made out of checkers!\",\r\n\t\t\t\t\t\"Yo Mama so ugly, she killed Mimikyu when it saw her!\",\r\n\t\t\t\t\t\"Yo Mama so fat, she doesn't need a Wailord to meet the Regis!\",\r\n\t\t\t\t\t\"Unfortunate doesn't even begin to describe Yo Mama!\",\r\n\t\t\t\t\t\"Yo Mama so dumb, she brags about using a bot to get her opponent's teams!\",\r\n\t\t\t\t\t\"Yo Mama so fat, her Wishes cause integer overflows!\",\r\n\t\t\t\t\t\"Yo Mama so ugly, she makes Attract fail!\",\r\n\t\t\t\t\t\"Yo Mama so dumb, she makes Dondozo look aware!\",\r\n\t\t\t\t\t\"Yo Mama so smelly, she KOes Nosepass without making a single move!\",\r\n\t\t\t\t\t\"Yo mama so fat, she doesn't know what the item Leftovers is!\",\r\n\t\t\t\t\t\"Yo Mama so ugly, she gets OHKOed by Mirror Shot!\",\r\n\t\t\t\t\t\"Yo Mama so smelly, her VGC analysis pairs her with Slaking!\",\r\n\t\t\t\t\t\"Yo Mama so old, she has to be extracted in Cinnabar Lab!\",\r\n\t\t\t\t\t\"Yo Mama so fat, she sets Gravity on switch-in!\",\r\n\t\t\t\t\t\"Yo Mama so dumb, she's immune to this move!\",\r\n\t\t\t\t];\r\n\t\t\t\tconst battle = this.scene.battle;\r\n\t\t\t\t// make sure it's the same joke for both players (and spectators)\r\n\t\t\t\tconst quote = quotes[(\r\n\t\t\t\t\t(battle.p1.name.charCodeAt(2) || 0) + (battle.p2.name.charCodeAt(2) || 0) * 19 +\r\n\t\t\t\t\t(battle.p1.name.charCodeAt(3) || 0) * 61 + (battle.p2.name.charCodeAt(3) || 0) +\r\n\t\t\t\t\tbattle.turn + (args[1].charCodeAt(1) || 0) * 109 + (args[1].charCodeAt(2) || 0) * 113\r\n\t\t\t\t) % quotes.length];\r\n\t\t\t\tthis.messageFromLog(this.battleParser.fixLowercase(`${this.battleParser.pokemon(args[1])} said, \"${quote}\"`));\r\n\t\t\t\t// give time to read\r\n\t\t\t\tthis.scene.wait(3 * this.scene.battle.messageFadeTime / this.scene.acceleration);\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t} else if (args[0] === '-prepare') {\r\n\t\t\tconst moveid = toID(args[2]);\r\n\t\t\tif (moveid === 'chillyreception') {\r\n\t\t\t\t// April Fool's 2025\r\n\t\t\t\tconst dadJokes = [\r\n\t\t\t\t\t\"This should be a Fire-type move, because I'm spitting flames.\",\r\n\t\t\t\t\t\"Why didn't Vigoroth evolve? Because it was Slaking on its training!\",\r\n\t\t\t\t\t\"I'm going snowwhere fast!\",\r\n\t\t\t\t\t\"Don't Slack Off if you wanna beat me!\",\r\n\t\t\t\t\t\"Where do you buy toys for a Ground-type? Land-R-Us!\",\r\n\t\t\t\t\t\"I've got half a mind to just leave. The other half belongs to my Shellder.\",\r\n\t\t\t\t\t\"Why did the Slowking cross the road?\",\r\n\t\t\t\t\t\"What's the best Pokemon to get rid of bugs? Flygone!\",\r\n\t\t\t\t\t\"What's the best Pokemon to get rid of bugs? Heatmor. What, were you expecting a pun?\",\r\n\t\t\t\t\t\"I guess you could call Heatmor an Ant-heater.\",\r\n\t\t\t\t\t\"Why do they call it Enamor-us when you can only have one of them on a team?\",\r\n\t\t\t\t\t\"Cloyster? I hardly know 'er!\",\r\n\t\t\t\t\t\"Why do they call Shedinja invincible when I can still see it?\",\r\n\t\t\t\t\t\"Dondozo? I don't think I can, that seems really cumbersome.\",\r\n\t\t\t\t\t\"Appletun? No, there's only one of them.\",\r\n\t\t\t\t\t\"Drilbur? I hardly know 'er!\",\r\n\t\t\t\t\t\"Iron Crown? I hardly know 'er!\",\r\n\t\t\t\t\t\"Shellder? I hardly know 'er!\",\r\n\t\t\t\t\t\"Magnemite? I sure hope it will!\",\r\n\t\t\t\t\t\"Graveler? I hardly know 'er!\",\r\n\t\t\t\t\t\"Grimer? I hardly know 'er!\",\r\n\t\t\t\t\t\"Baxcalibur? I hardly know 'er!\",\r\n\t\t\t\t\t\"Why do they call it Kyurem when it doesn't heal anybody?\",\r\n\t\t\t\t\t\"Conkeldurr? I hardly know 'er!\",\r\n\t\t\t\t\t\"Weavile? No, I don't think we are.\",\r\n\t\t\t\t\t\"Dragapult? Doesn't seem very efficient, don't they usually have wheels?\",\r\n\t\t\t\t\t\"Dragonite? Sounds like it'd be hard with all that heavy armor.\",\r\n\t\t\t\t\t\"How do you play whack-a-mole with a Fighting-type? Hit 'm on top!\",\r\n\t\t\t\t\t\"I don't know who made Pokemon Go, but I'm trying to figure out how to make them Pokemon Go to the polls!\",\r\n\t\t\t\t\t\"Gholdengo? Yeah, it should gholden-go somewhere else.\",\r\n\t\t\t\t\t\"Some folks call me Charming, but I still feel like I take plenty of physical damage. What gives?\",\r\n\t\t\t\t\t\"I learned this move in South America, they called it a Chile Reception\",\r\n\t\t\t\t\t\"I had a Canadian Tyrogue. It evolved into a Hitmontreal.\",\r\n\t\t\t\t\t\"Why do Venusaur's roommates wear earplugs at night? Because Venus-snores!\",\r\n\t\t\t\t\t\"I bought stock in my Charmander before it evolved. Now I'm a Charmeleonaire!\",\r\n\t\t\t\t\t\"Charizard? I actually think char is pretty easy!\",\r\n\t\t\t\t\t\"Why doesn't Squirtle's mom buy it action figures? Because it likes to blast toys!\",\r\n\t\t\t\t\t\"Why does Caterpie like Margarine so much? Because it's butter-free!\",\r\n\t\t\t\t\t\"What did the Alolan Raichu say to the surfer? Nothing, it just waved!\",\r\n\t\t\t\t\t\"Clefable? What's Clef able to do?\",\r\n\t\t\t\t\t\"Why did the Nidorans start a revolution? Because they didn't Nidoking!\",\r\n\t\t\t\t\t\"Alolan Ninetales? More like Aurora Nine-veils!\",\r\n\t\t\t\t\t\"Wigglytuff? Doesn't look that tough to me.\",\r\n\t\t\t\t\t\"I dug up a weird vegetable yesterday. Well, it wasn't THAT weird, just a little Oddish!\",\r\n\t\t\t\t\t\"Why was the Vileplume so happy? Because it wasn't Gloom-y anymore!\",\r\n\t\t\t\t\t\"What do you call three guys named Doug? A Dugtrio!\",\r\n\t\t\t\t\t\"Why is it called Golduck when it's blue?\",\r\n\t\t\t\t\t\"What Rock-type is the best at soccer? Goal-em!\",\r\n\t\t\t\t\t\"Why is Galarian Slowbro so good at art? Because it's Quick on the Draw!\",\r\n\t\t\t\t\t\"Do you like my jokes? I've got a Magne-ton of them!\",\r\n\t\t\t\t\t\"Where do three-headed birds go for Carnival? Dodrio de Janeiro!\",\r\n\t\t\t\t\t\"What would Muk be called if it could rap? Slime Shady!\",\r\n\t\t\t\t\t\"Kingler? I hardly know 'er!\",\r\n\t\t\t\t\t\"Exeggutor? I hardly know 'er!\",\r\n\t\t\t\t\t\"Have you heard that Trainers who use Hypno are hip? No?\",\r\n\t\t\t\t\t\"What do ghosts build at Christmastime? Gengar-bread houses!\",\r\n\t\t\t\t\t\"What street does Voltorb live on? Elect Road!\",\r\n\t\t\t\t\t\"I told a Hitmonlee some of my jokes. He really got a kick out of them!\",\r\n\t\t\t\t\t\"What's a Hitmonchan's favorite holiday? Boxing Day!\",\r\n\t\t\t\t\t\"Did you know Galarian Weezing doesn't know how to drive? It always puts the car in Neutral before stepping on the Gas!\",\r\n\t\t\t\t\t\"How can you tell if a Poison-type has asthma? See if it's Weezing!\",\r\n\t\t\t\t\t\"What Pokmon loves to find you when you hide? Seaking!\",\r\n\t\t\t\t\t\"If we Psychic-types made a movie, it would have to Starmie!\",\r\n\t\t\t\t\t\"Scyther? I hardly know 'er!\",\r\n\t\t\t\t\t\"Pinsir? I hardly know 'er!\",\r\n\t\t\t\t\t\"What Pokmon does Aladdin ride? A Magikarpet!\",\r\n\t\t\t\t\t\"What do you get if you cut a Gyarados in half? Gyara-uno!\",\r\n\t\t\t\t\t\"What do you call a Lapras carrying a gun? The Glock Ness Monster!\",\r\n\t\t\t\t\t\"What's a Ditto's favorite food? Impasta!\",\r\n\t\t\t\t\t\"Flareon? They should turn the flare off!\",\r\n\t\t\t\t\t\"Where does a 1000-pound Snorlax sleep? Anywhere it wants!\",\r\n\t\t\t\t\t\"Zapdos? Zap those what?\",\r\n\t\t\t\t\t\"My Grass-type friend has been losing weight recently. It's nice to see them losing a few pounds, but I hate to see Me-gaining-'em!\",\r\n\t\t\t\t\t\"What does a Fire-type wear around its neck? A Tie-phlosion!\",\r\n\t\t\t\t\t\"Why do they call Ledian the Five Star Pokmon? I'd give it two stars at best!\",\r\n\t\t\t\t\t\"Ariados? That's impressive, most people can't even perform one aria.\",\r\n\t\t\t\t\t\"Crobat? It doesn't look like a crow at all!\",\r\n\t\t\t\t\t\"Why do web developers hire Xatu to predict their profits? Because it can see their Future Sites!\",\r\n\t\t\t\t\t\"What superhero lives under the sea and has Volt Absorb? The Green Lanturn!\",\r\n\t\t\t\t\t\"Why should you never play cards with the Cottonweed Pokmon? Because it always Jump-bluffs!\",\r\n\t\t\t\t\t\"What Pokmon comes after Espeon? T-peon!\",\r\n\t\t\t\t\t\"Why did the Kartana faint to Bullet Punch? Because Scizor beats paper!\",\r\n\t\t\t\t\t\"Sometimes I put lava in my gas tank. It really makes Magcargo!\",\r\n\t\t\t\t\t\"I wrote my Ice-type friend a letter. I hope it gets Delibird!\",\r\n\t\t\t\t\t\"What's a Mantine's favorite type of cheese? Mantaray Jack!\",\r\n\t\t\t\t\t\"What kind of bird is Skarmory? A Roost-er!\",\r\n\t\t\t\t\t\"My friend caught a Porygon. I also did, but he got jealous when I told him I caught a Porygon too!\",\r\n\t\t\t\t\t\"What do you name a Smeargle that can't use Sketch anymore? Drew!\",\r\n\t\t\t\t\t\"Why couldn't the smart Chansey evolve? Because ignorance is Blissey!\",\r\n\t\t\t\t\t\"The classic Suicune set has a Water move, Calm Mind, and Sleep Talk. That's only 3 moves, but I'm sure you can figure out the Rest!\",\r\n\t\t\t\t\t\"I went to one of Lugia's parties once. It was an Aero-blast!\",\r\n\t\t\t\t\t\"What do pseudo-Legendaries pave their roads with? Tyrani-tar!\",\r\n\t\t\t\t\t\"What's Ho-Oh's favorite food? Hot wings!\",\r\n\t\t\t\t\t\"How often does Celebi travel? From time to time!\",\r\n\t\t\t\t\t\"What's on a Grass-type's bathroom floor? Scep-tiles!\",\r\n\t\t\t\t\t\"What's Blaziken's favorite food? Fried chicken!\",\r\n\t\t\t\t\t\"Why doesn't Swampert go outside? Because it can't touch grass!\",\r\n\t\t\t\t\t\"How do I know my jokes are good? I told them to a Mightyena and it couldn't stop laughing!\",\r\n\t\t\t\t\t\"What kind of Pok Ball do you catch Dustox in? A mothball!\",\r\n\t\t\t\t\t\"Who are Shiftry's biggest fans? Its hands!\",\r\n\t\t\t\t\t\"Why was the evolving Surskit brought before a court? It was Masqu-arraigned!\",\r\n\t\t\t\t\t\"Gardevoir? What's a voir and why should I guard it?\",\r\n\t\t\t\t\t\"I moved in with a Breloom, but the apartment didn't have mushroom!\",\r\n\t\t\t\t\t\"What's a Hariyama's favorite Pokmon games? Ultra SuMo!\",\r\n\t\t\t\t\t\"I took my Delcatty to the vet because I thought it was going blind, but it had Normal-eyes!\",\r\n\t\t\t\t\t\"What's Sableye's zodiac sign? Gem-in-eye!\",\r\n\t\t\t\t\t\"What do you call a Medicham that's lost its pants? Yogi Bare!\",\r\n\t\t\t\t\t\"Why does Aggron plant trees after a disaster? That's part of its Aggro-culture!\",\r\n\t\t\t\t\t\"What happened when the Plusle and Minun fell in love? They multiplied!\",\r\n\t\t\t\t\t\"I once rode on a Wailord's back. It was a whale of a time!\",\r\n\t\t\t\t\t\"That Anger Point Camerupt sure has a temper. Crit it once and it'll blow its top!\",\r\n\t\t\t\t\t\"What season does Spoink like the best? Spring!\",\r\n\t\t\t\t\t\"I'd tell you a joke about Grumpig, but you wouldn't appreciate it. I'd be casting pearls before swine!\",\r\n\t\t\t\t\t\"It takes a human 5 minutes to walk a block, but for Spinda it takes half an hour. The difference is staggering!\",\r\n\t\t\t\t\t\"That cloud Pokmon acts innocent, but I know it has an Altaria motive!\",\r\n\t\t\t\t\t\"Zangoose? It doesn't look like a goose at all!\",\r\n\t\t\t\t\t\"What are Solrock's favorite music genres? Soul and rock!\",\r\n\t\t\t\t\t\"They hate on you when you're a Barboach, but everyone wants to be your friend when you pull up Whis-cash!\",\r\n\t\t\t\t\t\"What does a Lileep get from Dairy Queen? A Cra-Dilly Bar!\",\r\n\t\t\t\t\t\"I know a way you can see invisible Kecleons, but that's beyond the Scope of this joke!\",\r\n\t\t\t\t\t\"What does a Tropius wear over its shirt? A Har-vest!\",\r\n\t\t\t\t\t\"Why is it called Walrein if it's better in snow?\",\r\n\t\t\t\t\t\"I've always been a fan of ball-shaped Pokmon, but one in particular Sphealed the deal!\",\r\n\t\t\t\t\t\"I'd make a joke about Luvdisc, but it's already a joke!\",\r\n\t\t\t\t\t\"Why is the Iron Leg Pokmon always covered in dirt and slime? Because it's Meta-gross!\",\r\n\t\t\t\t\t\"Why is Regirock called the Rock Peak Pokmon when it's so mid?\",\r\n\t\t\t\t\t\"Why is Clear Body Regice such a bad liar? Because you can see right through it!\",\r\n\t\t\t\t\t\"Why was Registeel fired from the convenience store? Because it would always Steel from the Regi-ster!\",\r\n\t\t\t\t\t\"I'd make a joke about Latias, but that would be just plane silly!\",\r\n\t\t\t\t\t\"Did you know that Rayquaza has a certain smell that it takes wherever it goes? That's right, it's Draggin' A-scent!\",\r\n\t\t\t\t\t\"Did you hear about the Deoxys who took a DNA test? It got 100%!\",\r\n\t\t\t\t\t\"What would the tier leader of OU be called if he was a Jirachi? Flinchinator!\",\r\n\t\t\t\t\t\"I had a company that sold Infernapes, until I was told to cut out the monkey business!\",\r\n\t\t\t\t\t\"Kricketunes must be my biggest fans. Every time I tell a joke, they're all I hear!\",\r\n\t\t\t\t\t\"What kind of Pok Ball is best for Luxray? A Luxuray Ball!\",\r\n\t\t\t\t\t\"Where does Bastiodon make all its money? Wall Street!\",\r\n\t\t\t\t\t\"What kind of mystery novels does Wormadam like to read? Cloak and dagger!\",\r\n\t\t\t\t\t\"Remember when Pachirisu won the World Championships? That was nuts!\",\r\n\t\t\t\t\t\"Cherrim? I hardly know 'im!\",\r\n\t\t\t\t\t\"Mothim? I hardly know 'im!\",\r\n\t\t\t\t\t\"I used to buy Drifblim by the dozen, but we got hit with inflation and the price ballooned!\",\r\n\t\t\t\t\t\"I took directions from a Mismagius, but now I don't know witch way to go!\",\r\n\t\t\t\t\t\"Someone asked me if I liked Chingling. I said that I don't know, I've never chingled!\",\r\n\t\t\t\t\t\"What do you do with a Bronzong you're in love with? Give it a ring!\",\r\n\t\t\t\t\t\"People say they removed Chatot's sound-recording function because of profanity, but I think that's just mindless Chatter!\",\r\n\t\t\t\t\t\"I have 108 jokes about Spiritomb, but not a single soul wants to hear them!\",\r\n\t\t\t\t\t\"My Garchomp friend gained a lot of weight recently. He said it was pretty rough to look at the scales!\",\r\n\t\t\t\t\t\"Why does Carnivine get Levitate? Because it's a Venus flying trap!\",\r\n\t\t\t\t\t\"Why did Weavile drive a truck with six wheels? Because it had Triple Axles!\",\r\n\t\t\t\t\t\"I got yelled at by a Lickilicky once. Talk about a tongue-lashing!\",\r\n\t\t\t\t\t\"Why do they call Yanmega a dragonfly when it isn't Dragon/Flying?\",\r\n\t\t\t\t\t\"My local arcade had to kick out this Ground/Flying type. He kept getting the Gligh-score and he was really toxic about it!\",\r\n\t\t\t\t\t\"Why don't you ever see Mamoswines hiding in trees? Because they're really good at it!\",\r\n\t\t\t\t\t\"What happens when your Porygon-Z uses Signal Beam? Software bugs!\",\r\n\t\t\t\t\t\"What do you call a Gallade in a tuxedo? Sharply dressed!\",\r\n\t\t\t\t\t\"Why do they call Rotom-Heat an oven when you of in the cold food of out hot eat the food?\",\r\n\t\t\t\t\t\"Why does no one tell Rotom-Wash their secrets? They don't want it to air out their dirty laundry!\",\r\n\t\t\t\t\t\"I had a joke about Uxie, but I forgot it!\",\r\n\t\t\t\t\t\"I had a joke about Mesprit, but I don't think you're emotionally ready for it!\",\r\n\t\t\t\t\t\"I had a joke about Azelf, but I don't have the willpower to tell it!\",\r\n\t\t\t\t\t\"I had a joke about Dialga and time travel, but you didn't like it!\",\r\n\t\t\t\t\t\"I had a joke about Palkia, but there's no space for it here!\",\r\n\t\t\t\t\t\"Why couldn't Arceus go to Planet Fitness? Because it's a Judgment-free zone!\",\r\n\t\t\t\t\t\"I had a joke about the Azure Flute, but you wouldn't get it!\",\r\n\t\t\t\t\t\"Why does Victini always win? Beats me!\",\r\n\t\t\t\t\t\"Some people think Overgrow is viable on Serperior. On the Contrary!\",\r\n\t\t\t\t\t\"Once Samurott got a regional form, its usage really Spiked!\",\r\n\t\t\t\t\t\"Did you hear about the Watchog that won a battle? Yeah, me neither!\",\r\n\t\t\t\t\t\"I could tell a joke about Musharna, but I wouldn't dream of it!\",\r\n\t\t\t\t\t\"Why does Throh never win? Because it always throws!\",\r\n\t\t\t\t\t\"Cofagrigus is so cool! Don't you *cough* agree, Gus?\",\r\n\t\t\t\t\t\"I wouldn't use Zoroark in OUI have no Illusion that it's any good!\",\r\n\t\t\t\t\t\"Why is Reuniclus so good at marketing? It knows what cells!\",\r\n\t\t\t\t\t\"Why didn't the Ducklett evolve? It didn't Swanna!\",\r\n\t\t\t\t\t\"I fought a Beartic once. It was unbearable!\",\r\n\t\t\t\t\t\"Did you know it's a crime to make a Braviary sick? It's ill-eagle!\",\r\n\t\t\t\t\t\"I attract Volcaronas like a moth to a flame!\",\r\n\t\t\t\t\t\"I'd make a joke about Cobalion, but it's un-Justified!\",\r\n\t\t\t\t\t\"What did Zekrom do when it was unhappy with its working conditions? It went on Bolt Strike!\",\r\n\t\t\t\t\t\"Everyone plays Meloetta in exactly the same way. It's always the same old song and dance!\",\r\n\t\t\t\t\t\"What's a Chesnaught's favorite Nature? Naughty!\",\r\n\t\t\t\t\t\"Which part of Doublade is most dangerous? Da blade!\",\r\n\t\t\t\t\t\"I'd say I'm a Pyroar, but I'd be lion!\",\r\n\t\t\t\t\t\"Why does Talonflame laugh in the face of danger? Because it's a Brave Bird!\",\r\n\t\t\t\t\t\"I stole a Delphox's wand, but it got me in a stick-y situation!\",\r\n\t\t\t\t\t\"What are Aegislash's favorite Pokmon games? Sword and Shield!\",\r\n\t\t\t\t\t\"What do you call it when you do a favor for a Malamar and it wants one in return? Squid pro quo!\",\r\n\t\t\t\t\t\"I'm making an 8-bit game featuring Sylveon. It looks cute when it's Pixilated!\",\r\n\t\t\t\t\t\"Why did Tyrantrum get its license taken away? It kept getting in T-wrecks!\",\r\n\t\t\t\t\t\"Why does Goodra have such good fashion sense? Because it's always got the drip!\",\r\n\t\t\t\t\t\"What do you get when you cross a Kingambit with a Gourgeist? Supreme Overgourd!\",\r\n\t\t\t\t\t\"What do you call a dead Klefki? A skeleton key!\",\r\n\t\t\t\t\t\"I dated a Xerneas once, but we broke up. Now it's my X!\",\r\n\t\t\t\t\t\"I've never met an Yveltal. I don't know Y!\",\r\n\t\t\t\t\t\"Why does Zygarde-Complete work so hard? Because it always gives 100%!\",\r\n\t\t\t\t\t\"Why does Diancie have such good synergy with Ghost-types? Because diamonds are a ghoul's best friend!\",\r\n\t\t\t\t\t\"What's Hoopa's favorite video game? Portal!\",\r\n\t\t\t\t\t\"Why did Hoopa-Unbound get put into the Prison Bottle? Because it was armed and dangerous!\",\r\n\t\t\t\t\t\"What do you call a joke about Volcanion? A wisecrack-a-toa!\",\r\n\t\t\t\t\t\"Why does no one make friends with Incineroar? It's too Intimidating!\",\r\n\t\t\t\t\t\"Can a Toucannon win a Double Battle? No, but two can!\",\r\n\t\t\t\t\t\"What do you call your Lycanroc when it goes missing? A where-wolf!\",\r\n\t\t\t\t\t\"Why are Wishiwashi so smart? They swim in schools!\",\r\n\t\t\t\t\t\"What do you call it when Ribombee gets a free turn? A sticky situation!\",\r\n\t\t\t\t\t\"Why are Mudsdales so strong? They have horsepower!\",\r\n\t\t\t\t\t\"What's Araquanid's favorite candy? Bubble gum!\",\r\n\t\t\t\t\t\"I had a Salazzle girlfriend once, but I broke it off because she was too toxic!\",\r\n\t\t\t\t\t\"Why do they call it Comfey when every time someone sends it out it becomes the most stressful game of my life?\",\r\n\t\t\t\t\t\"Why did the Golisopod make an emergency exit from the job interview? It made a bad First Impression!\",\r\n\t\t\t\t\t\"I'm making a first-person shooting game starring Pyukumuku. It's called Duke Pyukem!\",\r\n\t\t\t\t\t\"Why should you never mimic a Mimikyu? Because you're risking your neck!\",\r\n\t\t\t\t\t\"Where in Alaska can you find Dhelmise? Anchorage!\",\r\n\t\t\t\t\t\"Did you know that Kommo-o's scales are falling off all across the globe? It's a problem on a worldwide scale!\",\r\n\t\t\t\t\t\"A Tapu Lele walks into a bar. The bartender gets nervous because there's no counter!\",\r\n\t\t\t\t\t\"Did you hear that Tapu Fini's terrain is gone? It'll be mist!\",\r\n\t\t\t\t\t\"Did you hear Lunala opened up a barber shop? It's called Totally Clips!\",\r\n\t\t\t\t\t\"If OU doesn't suspect test Solgaleo, I'm going to go on Sunsteel Strike!\",\r\n\t\t\t\t\t\"I heard they buffed Buzzwole in Pokmon Unite. I don't know why they needed to, it was already buff!\",\r\n\t\t\t\t\t\"I want to ask Pheromosa out, but it strikes me as unapp-roach-able!\",\r\n\t\t\t\t\t\"What do you call a Xurkitree that's only 3 feet tall? A short circuit!\",\r\n\t\t\t\t\t\"What does Celesteela order when it goes to a Chinese restaurant? One-ton soup!\",\r\n\t\t\t\t\t\"Why should you never invite a Kartana to poker night? Because it always knows when to fold!\",\r\n\t\t\t\t\t\"Why did the Guzzlord love doing difficult jobs? Because it was a glutton for punishment!\",\r\n\t\t\t\t\t\"What happened to the Necrozma that robbed a bank? It was in-prismed!\",\r\n\t\t\t\t\t\"Why does Ultra Necrozma weigh less that Dusk Mane or Dawn Wings form? Because it's more light!\",\r\n\t\t\t\t\t\"What attack does Stakataka learn at Level 1? Stakatackle!\",\r\n\t\t\t\t\t\"Why is Blacephalon's head spherical? Because it's clowning a-round!\",\r\n\t\t\t\t\t\"What is Inteleon's secret agent number? Bubble-O-7!\",\r\n\t\t\t\t\t\"I'll be here all Corvi-night, folks!\",\r\n\t\t\t\t\t\"What Bug/Psychic Pokmon can be found deep underground embedded in stone? Ore-beetle!\",\r\n\t\t\t\t\t\"Why should you never give a Drednaw the Infinity Gauntlet? Because it's a snapping turtle!\",\r\n\t\t\t\t\t\"A Flapple a day keeps the doctor away, as long as its attacks don't miss!\",\r\n\t\t\t\t\t\"Why are my jokes so popular on Galar's Route 8? Because Sandaconda don't want none unless you got puns, hun!\",\r\n\t\t\t\t\t\"My Cramorant was about to win a match, but then it choked!\",\r\n\t\t\t\t\t\"What's Toxtricity's favorite Tera type? Rock!\",\r\n\t\t\t\t\t\"Why does Centiskorch hate wearing Heavy-Duty Boots? By the time it's finished putting them all on, the battle's already over!\",\r\n\t\t\t\t\t\"I've heard a lot of gossip about Polteageist, but I don't want to spill the tea!\",\r\n\t\t\t\t\t\"Who hosts tea parties in Wonderland and bounces back hazard moves? The Mad Hatterene!\",\r\n\t\t\t\t\t\"What kind of fur do you get from Grimmsnarl? As fur away as possible!\",\r\n\t\t\t\t\t\"Of all the crimes Obstagoon's done, which one finally put it behind bars for good? Obstruction of justice!\",\r\n\t\t\t\t\t\"Where do Cursola keep their gravestones? At the Great Burial Reef!\",\r\n\t\t\t\t\t\"How does Sirfetch'd pass along all the insider info it knows about new Pokmon games? It leeks it!\",\r\n\t\t\t\t\t\"What did the Mr. Mime say to the Mr. Rime? Nothing, silly, mimes can't talk!\",\r\n\t\t\t\t\t\"I'd tell a joke about Runerigus, but the real joke is its evolution method!\",\r\n\t\t\t\t\t\"Plenty of Pokmon have ridiculous numbers of alternate forms, but Alcremie takes the cake!\",\r\n\t\t\t\t\t\"Can any Pokmon besides Tapu Lele set Psychic Terrain? Yes Indeedee!\",\r\n\t\t\t\t\t\"What's a Copperajah's favorite kind of music? Heavy Metal!\",\r\n\t\t\t\t\t\"Why did Dracovish get evicted from OU? It wouldn't pay the Fishious Rent!\",\r\n\t\t\t\t\t\"Have you seen Duraludon's Gigantamax form? It really towers over you!\",\r\n\t\t\t\t\t\"What's Dragapult's favorite game to play at a bar? Dragon Darts!\",\r\n\t\t\t\t\t\"I'd tell you a joke about Zamazenta, but I'm pressed for time!\",\r\n\t\t\t\t\t\"Why should you always run Zacian-Crowned? Because it has great STAB!\",\r\n\t\t\t\t\t\"Originally the Gen 8 designers weren't going to add a generational mechanic, but Eternatus convinced them to make Dynamax canon!\",\r\n\t\t\t\t\t\"What does Regieleki do to lose weight? Fast!\",\r\n\t\t\t\t\t\"What do you get when you cross a Regidrago and a Klefki? Lockjaw!\",\r\n\t\t\t\t\t\"I'd make a joke about Spectrier, but that would be beating a dead horse!\",\r\n\t\t\t\t\t\"Make sure to never insult Ursalunalast time I burned it, it swept my whole team!\",\r\n\t\t\t\t\t\"Don't go near Ursaluna-Bloodmoonit's a total lunatic!\",\r\n\t\t\t\t\t\"You'd think Basculegion would be uncomfortable traveling forward in time hundreds of years, but don't worryit's adaptable!\",\r\n\t\t\t\t\t\"You have to use Strong Style Barb Barrage 20 times to evolve Hisuian Qwilfish? That seems like Overqwil to me!\",\r\n\t\t\t\t\t\"Did you know that Meowscarada is really good at baking bread? Apparently it has a special Flour Trick!\",\r\n\t\t\t\t\t\"I've got a ton of Skeledirge jokes. A skele-ton!\",\r\n\t\t\t\t\t\"What do you do if you see a Quaquaval getting ready to kick you in the head? Duck!\",\r\n\t\t\t\t\t\"Lokix? No thanks, I don't like using weight-based moves!\",\r\n\t\t\t\t\t\"Why did the baker get a Fidough? He kneaded one!\",\r\n\t\t\t\t\t\"How do you know Dachsbun has a good pedigree? It's pure bread!\",\r\n\t\t\t\t\t\"Why did the Garganacl ragequit while losing a battle? Because it was salty!\",\r\n\t\t\t\t\t\"You're telling me Ceruledge has dark purple armor and blue flaming swords for hands? What an edgelord!\",\r\n\t\t\t\t\t\"You should try using Electromorphosis Belliboltits damage output is shocking!\",\r\n\t\t\t\t\t\"I tried using Klawf on a stall team, but it was Klawful!\",\r\n\t\t\t\t\t\"Rabsca told me its true body was inside the ball it's holding. I thought that was a load of crap!\",\r\n\t\t\t\t\t\"My Shellder once spent time with an Espathra. It came back with a new Ability just called Link because Espathra takes no skill!\",\r\n\t\t\t\t\t\"Why is Corviknight's natural predator so smart? Because she Thinks-a-ton!\",\r\n\t\t\t\t\t\"I asked a Finizen why it worked as a sidekick for Palafin. The Finizen said it was serving a greater porpoise!\",\r\n\t\t\t\t\t\"If you run in front of a Revavroom you get tired, but if you run behind it you get exhausted!\",\r\n\t\t\t\t\t\"Why couldn't the Cyclizar stand up? It was two-tired!\",\r\n\t\t\t\t\t\"Why does Houndstone press F? To pay its Last Respects!\",\r\n\t\t\t\t\t\"Those entry hazards are nice, why not put up Glim-more-a' them?\",\r\n\t\t\t\t\t\"Why did Dondozo get demonetized on YouTube? It wouldn't stop cursing!\",\r\n\t\t\t\t\t\"Have you heard the joke about Farigiraf's neck? It's a long one!\",\r\n\t\t\t\t\t\"What do you call a Dudunsparce that gets faster when it's hit with a Dark move? A Rattled-snake!\",\r\n\t\t\t\t\t\"What do you call a Dunsparce? No, really, I'm curious.\",\r\n\t\t\t\t\t\"Why do people love Donphan so much? Because it has Great Tusks!\",\r\n\t\t\t\t\t\"What do you get when you cross Kingambit and Ogerpon? The Supreme Ogrelord!\",\r\n\t\t\t\t\t\"What did ancient Magneton economists invest in? Sandy Stocks!\",\r\n\t\t\t\t\t\"I'm starting a band featuring Slither Wing. It's called Smash Moth!\",\r\n\t\t\t\t\t\"Why does the Paldean alphabet go L, M, N, Flutter Mane, Q, R? Because Flutter Mane is OP!\",\r\n\t\t\t\t\t\"What did Iron Bundle's mother say when it went out in the cold? Bundle up, and be sure to cover everything!\",\r\n\t\t\t\t\t\"Iron Hands is a fantastic Pokmon. Let's all give it a great big hand!\",\r\n\t\t\t\t\t\"What should you do if an Iron Treads uses Autotomize? Tread lightly!\",\r\n\t\t\t\t\t\"What Paradox Pokmon do you like to run? Personally, I run Thorns!\",\r\n\t\t\t\t\t\"What kind of computers does Wo-Chien like to use? Tablets!\",\r\n\t\t\t\t\t\"Man, that Chien-Pao OHKOing me Sword of Ruined my day!\",\r\n\t\t\t\t\t\"When I saw my special attacks doing 25% less damage than usual, I knew there was some-Ting wrong!\",\r\n\t\t\t\t\t\"What do you call a really old Salamence telling a really dull story? Boring Moon!\",\r\n\t\t\t\t\t\"I once visited Chi-Yu's home, but it had no walls!\",\r\n\t\t\t\t\t\"I don't know what the Iron Valiant set is until I look inside the box, but I can'tit's impossible to check!\",\r\n\t\t\t\t\t\"Why is Miraidon banned to AG? Because it's from the future, so it's not allowed to be present!\",\r\n\t\t\t\t\t\"I once met a Koraidon, so I turned around and said that the past is behind me!\",\r\n\t\t\t\t\t\"What's the opposite of Walking Wake? Sleepwalking!\",\r\n\t\t\t\t\t\"What does Sinistcha wear on St. Patrick's Day? A green tea-shirt!\",\r\n\t\t\t\t\t\"Why are the Loyal Three always male? Toxic masculinity!\",\r\n\t\t\t\t\t\"One of Ogerpon's forms got banned, but it was pretty controversial on the Internet. It started a Hearth-flame war!\",\r\n\t\t\t\t\t\"You don't like Archaludon? Too bad, build a bridge and get over it!\",\r\n\t\t\t\t\t\"What move can only be used by a Hydrapple that's been fermented in brine? Pickle Beam!\",\r\n\t\t\t\t\t\"Why is Raging Bolt so delusional? Because it's got its head in the clouds!\",\r\n\t\t\t\t\t\"Iron Boulder? Boulders aren't made of iron, silly!\",\r\n\t\t\t\t\t\"Iron Crown? But my crown isn't wrinkled!\",\r\n\t\t\t\t\t\"I hear Terapagos got banned from OU in less than a day. It must've had a Stellar performance!\",\r\n\t\t\t\t\t\"I'd make a joke about Pecharunt's poison, but it's too confusing!\",\r\n\t\t\t\t\t\"How many Pokmon fans does it take to change a lightbulb? None, they just complain about how much better the last lightbulb was!\",\r\n\t\t\t\t\t\"That's the last time I try to make a call in winter, I'm getting a Chilly Reception!\",\r\n\t\t\t\t\t\"Maybe I should tell spicier jokes and go for a Chili Reception instead!\",\r\n\t\t\t\t\t\"Did you hear the one about the Slowking who switched out?\",\r\n\t\t\t\t\t\"You've heard of stand-up comedy, but have you heard of switch-out comedy?\",\r\n\t\t\t\t\t\"You bought those fossils from Clay? Did you buy them on Clay-away?\",\r\n\t\t\t\t\t\"How do you get a Trainer onto a bus? Poke 'em on!\",\r\n\t\t\t\t\t\"U-Turn? No, YOU turn, I'm going straight!\",\r\n\t\t\t\t\t\"Does Gen 1 have a Pokmon missing? No!\",\r\n\t\t\t\t];\r\n\t\t\t\tconst battle = this.scene.battle;\r\n\t\t\t\t// make sure it's the same joke for both players (and spectators)\r\n\t\t\t\tconst joke = dadJokes[(\r\n\t\t\t\t\t(battle.p1.name.charCodeAt(2) || 0) + (battle.p2.name.charCodeAt(2) || 0) * 19 +\r\n\t\t\t\t\t(battle.p1.name.charCodeAt(3) || 0) * 61 + (battle.p2.name.charCodeAt(3) || 0) +\r\n\t\t\t\t\tbattle.turn + (args[1].charCodeAt(1) || 0) * 109 + (args[1].charCodeAt(2) || 0) * 113\r\n\t\t\t\t) % dadJokes.length];\r\n\t\t\t\tmessageFromArgs(args, kwArgs);\r\n\t\t\t\tthis.messageFromLog(`\"${joke}\"`);\r\n\t\t\t\t// give time to read\r\n\t\t\t\tthis.scene.wait(3 * this.scene.battle.messageFadeTime / this.scene.acceleration);\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// !!! EVERYTHING BELOW THIS LINE DOESN'T HAPPEN IN `/afd sprites` MODE\r\n\t\tif (Dex.afdMode !== true) return;\r\n\r\n\t\tif (args[0] === 'faint') {\r\n\t\t\t// April Fool's 2018 (DLC)\r\n\t\t\tif (!(Dex as any).afdFaint) {\r\n\t\t\t\tmessageFromArgs(args, kwArgs);\r\n\t\t\t\tthis.message('<div class=\"broadcast-red\" style=\"font-size:10pt\">Needed that one alive? Buy <strong>Max Revive DLC</strong>, yours for only $9.99!<br /> <a href=\"/trustworthy-dlc-link\">CLICK HERE!</a></div>');\r\n\t\t\t\t(Dex as any).afdFaint = true;\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t} else if (args[0] === '-crit') {\r\n\t\t\t// April Fool's 2018 (DLC)\r\n\t\t\tif (!(Dex as any).afdCrit) {\r\n\t\t\t\tmessageFromArgs(args, kwArgs);\r\n\t\t\t\tthis.message('<div class=\"broadcast-red\" style=\"font-size:10pt\">Crit mattered? Buy <strong>Crit Insurance DLC</strong>, yours for only $4.99!<br /> <a href=\"/trustworthy-dlc-link\">CLICK HERE!</a></div>');\r\n\t\t\t\t(Dex as any).afdCrit = true;\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t} else if (args[0] === 'move') {\r\n\t\t\tif (kwArgs.from) return false;\r\n\r\n\t\t\tconst moveid = toID(args[2]);\r\n\t\t\tif (moveid === 'earthquake') {\r\n\t\t\t\t// April Fool's 2013\r\n\t\t\t\tif (this.scene.animating && window.$) {\r\n\t\t\t\t\t$('body').css({\r\n\t\t\t\t\t\tposition: 'absolute',\r\n\t\t\t\t\t\tleft: 0,\r\n\t\t\t\t\t\tright: 0,\r\n\t\t\t\t\t\ttop: 0,\r\n\t\t\t\t\t\tbottom: 0,\r\n\t\t\t\t\t}).animate({\r\n\t\t\t\t\t\tleft: -30,\r\n\t\t\t\t\t\tright: 30,\r\n\t\t\t\t\t}, 75).animate({\r\n\t\t\t\t\t\tleft: 30,\r\n\t\t\t\t\t\tright: -30,\r\n\t\t\t\t\t}, 100).animate({\r\n\t\t\t\t\t\tleft: -30,\r\n\t\t\t\t\t\tright: 30,\r\n\t\t\t\t\t}, 100).animate({\r\n\t\t\t\t\t\tleft: 30,\r\n\t\t\t\t\t\tright: -30,\r\n\t\t\t\t\t}, 100).animate({\r\n\t\t\t\t\t\tleft: 0,\r\n\t\t\t\t\t\tright: 0,\r\n\t\t\t\t\t}, 100, () => {\r\n\t\t\t\t\t\t$('body').css({\r\n\t\t\t\t\t\t\tposition: 'static',\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\tmessageFromArgs(['move', args[1], 'Fissure']);\r\n\t\t\t\tthis.messageFromLog('Just kidding! It was **Earthquake**!');\r\n\t\t\t\treturn true;\r\n\t\t\t// } else if (move.id === 'metronome' || move.id === 'sleeptalk' || move.id === 'assist') {\r\n\t\t\t// \t// April Fool's 2014 - NOT UPDATED TO NEW BATTLE LOG\r\n\t\t\t// \tthis.message(pokemon.getName() + ' used <strong>' + move.name + '</strong>!');\r\n\t\t\t// \tlet buttons = [\"A\", \"B\", \"START\", \"SELECT\", \"UP\", \"DOWN\", \"LEFT\", \"RIGHT\", \"DEMOCRACY\", \"ANARCHY\"];\r\n\t\t\t// \tlet people = [\"Zarel\", \"The Immortal\", \"Diatom\", \"Nani Man\", \"shaymin\", \"apt-get\", \"sirDonovan\", \"Arcticblast\", \"Trickster\"];\r\n\t\t\t// \tlet button;\r\n\t\t\t// \tfor (let i = 0; i < 10; i++) {\r\n\t\t\t// \t\tlet name = people[Math.floor(Math.random() * people.length)];\r\n\t\t\t// \t\tif (!button) button = buttons[Math.floor(Math.random() * buttons.length)];\r\n\t\t\t// \t\tthis.scene.log('<div class=\"chat\"><strong style=\"' + BattleLog.hashColor(toUserid(name)) + '\" class=\"username\">' + BattleLog.escapeHTML(name) + ':</strong> <em>' + button + '</em></div>');\r\n\t\t\t// \t\tbutton = (name === 'Diatom' ? \"thanks diatom\" : null);\r\n\t\t\t// \t}\r\n\t\t\t} else if (moveid === 'stealthrock') {\r\n\t\t\t\t// April Fool's 2016\r\n\t\t\t\tconst srNames = [\r\n\t\t\t\t\t'Sneaky Pebbles', 'Sly Rubble', 'Subtle Sediment', 'Buried Bedrock', 'Camouflaged Cinnabar', 'Clandestine Cobblestones', 'Cloaked Clay', 'Concealed Ore', 'Covert Crags', 'Crafty Coal', 'Discreet Bricks', 'Disguised Debris', 'Espionage Pebbles', 'Furtive Fortress', 'Hush-Hush Hardware', 'Incognito Boulders', 'Invisible Quartz', 'Masked Minerals', 'Mischievous Masonry', 'Obscure Ornaments', 'Private Paragon', 'Secret Solitaire', 'Sheltered Sand', 'Surreptitious Sapphire', 'Undercover Ultramarine',\r\n\t\t\t\t];\r\n\t\t\t\tmessageFromArgs(['move', args[1], srNames[Math.floor(Math.random() * srNames.length)]]);\r\n\t\t\t\treturn true;\r\n\t\t\t} else if (moveid === 'extremespeed') {\r\n\t\t\t\t// April Fool's 2018\r\n\t\t\t\tmessageFromArgs(args, kwArgs);\r\n\t\t\t\tconst fastWords = ['H-Hayai', 'Masaka', 'Its fast'];\r\n\t\t\t\tthis.messageFromLog(`**${fastWords[Math.floor(Math.random() * fastWords.length)]}**`);\r\n\t\t\t\treturn true;\r\n\t\t\t} else if (moveid === 'aerialace') {\r\n\t\t\t\t// April Fool's 2018\r\n\t\t\t\tmessageFromArgs(['move', args[1], 'Tsubame Gaeshi']);\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\tmessageFromLog(line: string) {\r\n\t\tthis.message(...this.parseLogMessage(line));\r\n\t}\r\n\ttextList(list: string[]) {\r\n\t\tlet message = '';\r\n\t\tconst listNoDuplicates: string[] = [];\r\n\t\tfor (const user of list) {\r\n\t\t\tif (!listNoDuplicates.includes(user)) listNoDuplicates.push(user);\r\n\t\t}\r\n\t\tlist = listNoDuplicates;\r\n\r\n\t\tif (list.length === 1) return list[0];\r\n\t\tif (list.length === 2) return `${list[0]} and ${list[1]}`;\r\n\t\tfor (let i = 0; i < list.length - 1; i++) {\r\n\t\t\tif (i >= 5) {\r\n\t\t\t\treturn `${message}and ${list.length - 5} others`;\r\n\t\t\t}\r\n\t\t\tmessage += `${list[i]}, `;\r\n\t\t}\r\n\t\treturn `${message}and ${list[list.length - 1]}`;\r\n\t}\r\n\t/**\r\n\t * To avoid trolling with nicknames, we can't just run this through\r\n\t * parseMessage\r\n\t */\r\n\tparseLogMessage(message: string): [string, string] {\r\n\t\tconst messages = message.split('\\n').map(line => {\r\n\t\t\tline = BattleLog.escapeHTML(line);\r\n\t\t\tline = line.replace(/\\*\\*(.*)\\*\\*/, '<strong>$1</strong>');\r\n\t\t\tline = line.replace(/\\|\\|([^|]*)\\|\\|([^|]*)\\|\\|/, '<abbr title=\"$1\">$2</abbr>');\r\n\t\t\tif (line.startsWith('  ')) line = '<small>' + line.trim() + '</small>';\r\n\t\t\treturn line;\r\n\t\t});\r\n\t\treturn [\r\n\t\t\tmessages.join('<br />'),\r\n\t\t\tmessages.filter(line => !line.startsWith('<small>[')).join('<br />'),\r\n\t\t];\r\n\t}\r\n\tmessage(message: string, sceneMessage = message) {\r\n\t\tthis.scene?.message(sceneMessage);\r\n\t\tthis.addDiv('battle-history', message);\r\n\t}\r\n\taddNode(node: HTMLElement, preempt?: boolean) {\r\n\t\t(preempt ? this.preemptElem : this.innerElem).appendChild(node);\r\n\t\tif (this.atBottom) {\r\n\t\t\tthis.elem.scrollTop = this.elem.scrollHeight;\r\n\t\t}\r\n\t}\r\n\tupdateScroll = () => {\r\n\t\tif (this.atBottom) {\r\n\t\t\tthis.elem.scrollTop = this.elem.scrollHeight;\r\n\t\t}\r\n\t};\r\n\taddDiv(className: string, innerHTML: string, preempt?: boolean) {\r\n\t\tconst el = document.createElement('div');\r\n\t\tel.className = className;\r\n\t\tel.innerHTML = innerHTML;\r\n\t\tthis.addNode(el, preempt);\r\n\t}\r\n\tprependDiv(className: string, innerHTML: string, preempt?: boolean) {\r\n\t\tconst el = document.createElement('div');\r\n\t\tel.className = className;\r\n\t\tel.innerHTML = innerHTML;\r\n\t\tif (this.innerElem.childNodes.length) {\r\n\t\t\tthis.innerElem.insertBefore(el, this.innerElem.childNodes[0]);\r\n\t\t} else {\r\n\t\t\tthis.innerElem.appendChild(el);\r\n\t\t}\r\n\t\tthis.updateScroll();\r\n\t}\r\n\taddSpacer() {\r\n\t\tthis.addDiv('spacer battle-history', '<br />');\r\n\t}\r\n\tchangeUhtml(id: string, htmlSrc: string, forceAdd?: boolean) {\r\n\t\tid = toID(id);\r\n\t\tconst classContains = ' uhtml-' + id + ' ';\r\n\t\tlet elements = [] as HTMLDivElement[];\r\n\t\tfor (const node of this.innerElem.childNodes as any) {\r\n\t\t\tif (node.className && (' ' + node.className + ' ').includes(classContains)) {\r\n\t\t\t\telements.push(node);\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (this.preemptElem) {\r\n\t\t\tfor (const node of this.preemptElem.childNodes as any) {\r\n\t\t\t\tif (node.className && (' ' + node.className + ' ').includes(classContains)) {\r\n\t\t\t\t\telements.push(node);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (htmlSrc && elements.length && !forceAdd) {\r\n\t\t\tfor (const element of elements) {\r\n\t\t\t\telement.innerHTML = BattleLog.sanitizeHTML(htmlSrc);\r\n\t\t\t}\r\n\t\t\tthis.updateScroll();\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tfor (const element of elements) {\r\n\t\t\telement.parentElement!.removeChild(element);\r\n\t\t}\r\n\t\tif (!htmlSrc) return;\r\n\t\tif (forceAdd) {\r\n\t\t\tthis.addDiv('notice uhtml-' + id, BattleLog.sanitizeHTML(htmlSrc));\r\n\t\t} else {\r\n\t\t\tthis.prependDiv('notice uhtml-' + id, BattleLog.sanitizeHTML(htmlSrc));\r\n\t\t}\r\n\t}\r\n\thideChatFrom(userid: ID, showRevealButton = true, lineCount = 0) {\r\n\t\tconst classStart = 'chat chatmessage-' + userid + ' ';\r\n\t\tlet nodes: HTMLElement[] = [];\r\n\t\tfor (const node of this.innerElem.childNodes as any as HTMLElement[]) {\r\n\t\t\tif (node.className && (node.className + ' ').startsWith(classStart)) {\r\n\t\t\t\tnodes.push(node);\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (this.preemptElem) {\r\n\t\t\tfor (const node of this.preemptElem.childNodes as any as HTMLElement[]) {\r\n\t\t\t\tif (node.className && (node.className + ' ').startsWith(classStart)) {\r\n\t\t\t\t\tnodes.push(node);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (lineCount) nodes = nodes.slice(-lineCount);\r\n\r\n\t\tfor (const node of nodes) {\r\n\t\t\tnode.style.display = 'none';\r\n\t\t\tnode.className = 'revealed ' + node.className;\r\n\t\t}\r\n\t\tif (!nodes.length || !showRevealButton) return;\r\n\t\tconst button = document.createElement('button');\r\n\t\tbutton.name = 'toggleMessages';\r\n\t\tbutton.value = userid;\r\n\t\tbutton.className = 'subtle';\r\n\t\tbutton.innerHTML = `<small>(${nodes.length} line${nodes.length > 1 ? 's' : ''} from ${userid} hidden)</small>`;\r\n\t\tconst lastNode = nodes[nodes.length - 1];\r\n\t\tlastNode.appendChild(document.createTextNode(' '));\r\n\t\tlastNode.appendChild(button);\r\n\t}\r\n\r\n\tstatic unlinkNodeList(nodeList: ArrayLike<HTMLElement>, classStart: string) {\r\n\t\tfor (const node of nodeList as HTMLElement[]) {\r\n\t\t\tif (node.className && (node.className + ' ').startsWith(classStart)) {\r\n\t\t\t\tconst linkList = node.getElementsByTagName('a');\r\n\t\t\t\t// iterate in reverse because linkList will update as links are removed\r\n\t\t\t\tfor (let i = linkList.length - 1; i >= 0; i--) {\r\n\t\t\t\t\tconst linkNode = linkList[i];\r\n\t\t\t\t\tconst parent = linkNode.parentElement;\r\n\t\t\t\t\tif (!parent) continue;\r\n\t\t\t\t\tfor (const childNode of linkNode.childNodes as any) {\r\n\t\t\t\t\t\tparent.insertBefore(childNode, linkNode);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tparent.removeChild(linkNode);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tunlinkChatFrom(userid: ID) {\r\n\t\tconst classStart = 'chat chatmessage-' + userid + ' ';\r\n\t\tconst innerNodeList = this.innerElem.childNodes;\r\n\t\tBattleLog.unlinkNodeList(innerNodeList as NodeListOf<HTMLElement>, classStart);\r\n\r\n\t\tif (this.preemptElem) {\r\n\t\t\tconst preemptNodeList = this.preemptElem.childNodes;\r\n\t\t\tBattleLog.unlinkNodeList(preemptNodeList as NodeListOf<HTMLElement>, classStart);\r\n\t\t}\r\n\t}\r\n\r\n\tpreemptCatchup() {\r\n\t\tif (!this.preemptElem.firstChild) return;\r\n\t\tthis.innerElem.appendChild(this.preemptElem.firstChild);\r\n\t}\r\n\r\n\tstatic escapeFormat(formatid = '', fixGen6?: boolean): string {\r\n\t\tlet atIndex = formatid.indexOf('@@@');\r\n\t\tif (atIndex >= 0) {\r\n\t\t\treturn this.escapeHTML(this.formatName(formatid.slice(0, atIndex), fixGen6)) +\r\n\t\t\t\t'<br />Custom rules: ' + this.escapeHTML(formatid.slice(atIndex + 3));\r\n\t\t}\r\n\t\treturn this.escapeHTML(this.formatName(formatid, fixGen6));\r\n\t}\r\n\t/**\r\n\t * Do not store this output anywhere; it removes the generation number\r\n\t * for the current gen.\r\n\t */\r\n\tstatic formatName(formatid = '', fixGen6?: boolean): string {\r\n\t\tif (!formatid) return '';\r\n\r\n\t\tlet atIndex = formatid.indexOf('@@@');\r\n\t\tif (atIndex >= 0) {\r\n\t\t\treturn this.formatName(formatid.slice(0, atIndex), fixGen6) +\r\n\t\t\t\t' (Custom rules: ' + this.escapeHTML(formatid.slice(atIndex + 3)) + ')';\r\n\t\t}\r\n\t\tif (fixGen6 && !formatid.startsWith('gen')) {\r\n\t\t\tformatid = `gen6${formatid}`;\r\n\t\t}\r\n\t\tlet name = formatid;\r\n\t\tif (window.BattleFormats && BattleFormats[formatid]) {\r\n\t\t\tname = BattleFormats[formatid].name;\r\n\t\t}\r\n\t\tif (window.NonBattleGames && NonBattleGames[formatid]) {\r\n\t\t\tname = NonBattleGames[formatid];\r\n\t\t}\r\n\t\tif (name.startsWith('gen')) {\r\n\t\t\tname = name.replace(/^gen([0-9])/, '[Gen $1] ');\r\n\t\t}\r\n\t\tif (name.startsWith(`[Gen ${Dex.gen}] `)) {\r\n\t\t\tname = name.slice(`[Gen ${Dex.gen}] `.length);\r\n\t\t} else if (name.startsWith(`[Gen ${Dex.gen} `)) {\r\n\t\t\tname = '[' + name.slice(`[Gen ${Dex.gen} `.length);\r\n\t\t}\r\n\t\treturn name || `[Gen ${Dex.gen}]`;\r\n\t}\r\n\r\n\tstatic escapeHTML(str: string | number, jsEscapeToo?: boolean) {\r\n\t\tif (typeof str === 'number') str = `${str}`;\r\n\t\tif (typeof str !== 'string') return '';\r\n\t\tstr = str.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/\"/g, '&quot;');\r\n\t\tif (jsEscapeToo) str = str.replace(/\\\\/g, '\\\\\\\\').replace(/'/g, '\\\\\\'');\r\n\t\treturn str;\r\n\t}\r\n\t/**\r\n\t * Template string tag function for escaping HTML\r\n\t */\r\n\tstatic html(strings: TemplateStringsArray | string[], ...args: any) {\r\n\t\tlet buf = strings[0];\r\n\t\tlet i = 0;\r\n\t\twhile (i < args.length) {\r\n\t\t\tbuf += this.escapeHTML(args[i]);\r\n\t\t\tbuf += strings[++i];\r\n\t\t}\r\n\t\treturn buf;\r\n\t}\r\n\r\n\tstatic unescapeHTML(str: string) {\r\n\t\tstr = (str ? '' + str : '');\r\n\t\treturn str.replace(/&quot;/g, '\"').replace(/&gt;/g, '>').replace(/&lt;/g, '<').replace(/&amp;/g, '&');\r\n\t}\r\n\r\n\tstatic colorCache: { [userid: string]: string } = {};\r\n\r\n\t/** @deprecated */\r\n\tstatic hashColor(name: ID) {\r\n\t\treturn `color:${this.usernameColor(name)};`;\r\n\t}\r\n\r\n\tstatic usernameColor(name: ID) {\r\n\t\tif (this.colorCache[name]) return this.colorCache[name];\r\n\t\tlet hash;\r\n\t\tif (Config.customcolors[name]) {\r\n\t\t\thash = MD5(Config.customcolors[name]);\r\n\t\t} else {\r\n\t\t\thash = MD5(name);\r\n\t\t}\r\n\t\tlet H = parseInt(hash.substr(4, 4), 16) % 360; // 0 to 360\r\n\t\tlet S = parseInt(hash.substr(0, 4), 16) % 50 + 40; // 40 to 89\r\n\t\tlet L = Math.floor(parseInt(hash.substr(8, 4), 16) % 20 + 30); // 30 to 49\r\n\r\n\t\tlet { R, G, B } = this.HSLToRGB(H, S, L);\r\n\t\tlet lum = R * R * R * 0.2126 + G * G * G * 0.7152 + B * B * B * 0.0722; // 0.013 (dark blue) to 0.737 (yellow)\r\n\r\n\t\tlet HLmod = (lum - 0.2) * -150; // -80 (yellow) to 28 (dark blue)\r\n\t\tif (HLmod > 18) HLmod = (HLmod - 18) * 2.5;\r\n\t\telse if (HLmod < 0) HLmod /= 3;\r\n\t\telse HLmod = 0;\r\n\t\t// let mod = ';border-right: ' + Math.abs(HLmod) + 'px solid ' + (HLmod > 0 ? 'red' : '#0088FF');\r\n\t\tlet Hdist = Math.min(Math.abs(180 - H), Math.abs(240 - H));\r\n\t\tif (Hdist < 15) {\r\n\t\t\tHLmod += (15 - Hdist) / 3;\r\n\t\t}\r\n\r\n\t\tL += HLmod;\r\n\r\n\t\tlet { R: r, G: g, B: b } = this.HSLToRGB(H, S, L);\r\n\t\tconst toHex = (x: number) => {\r\n\t\t\tconst hex = Math.round(x * 255).toString(16);\r\n\t\t\treturn hex.length === 1 ? '0' + hex : hex;\r\n\t\t};\r\n\t\tthis.colorCache[name] = `#${toHex(r)}${toHex(g)}${toHex(b)}`;\r\n\t\treturn this.colorCache[name];\r\n\t}\r\n\r\n\tstatic HSLToRGB(H: number, S: number, L: number) {\r\n\t\tlet C = (100 - Math.abs(2 * L - 100)) * S / 100 / 100;\r\n\t\tlet X = C * (1 - Math.abs((H / 60) % 2 - 1));\r\n\t\tlet m = L / 100 - C / 2;\r\n\r\n\t\tlet R1;\r\n\t\tlet G1;\r\n\t\tlet B1;\r\n\t\tswitch (Math.floor(H / 60)) {\r\n\t\tcase 1: R1 = X; G1 = C; B1 = 0; break;\r\n\t\tcase 2: R1 = 0; G1 = C; B1 = X; break;\r\n\t\tcase 3: R1 = 0; G1 = X; B1 = C; break;\r\n\t\tcase 4: R1 = X; G1 = 0; B1 = C; break;\r\n\t\tcase 5: R1 = C; G1 = 0; B1 = X; break;\r\n\t\tcase 0: default: R1 = C; G1 = X; B1 = 0; break;\r\n\t\t}\r\n\t\tlet R = R1 + m;\r\n\t\tlet G = G1 + m;\r\n\t\tlet B = B1 + m;\r\n\t\treturn { R, G, B };\r\n\t}\r\n\r\n\tstatic prefs(name: string) {\r\n\t\t// @ts-expect-error optional, for old client\r\n\t\tif (window.Storage?.prefs) return Storage.prefs(name);\r\n\t\t// @ts-expect-error optional, for client rewrite\r\n\t\tif (window.PS) return PS.prefs[name];\r\n\t\t// may be neither, for e.g. Replays\r\n\t\treturn undefined;\r\n\t}\r\n\r\n\tparseChatMessage(\r\n\t\tmessage: string, name: string, timestamp: string, isHighlighted?: boolean\r\n\t): [string, string, boolean?] {\r\n\t\tlet showMe = !BattleLog.prefs('chatformatting')?.hideme;\r\n\t\tlet group = ' ';\r\n\t\tif (!/[A-Za-z0-9]/.test(name.charAt(0))) {\r\n\t\t\t// Backwards compatibility\r\n\t\t\tgroup = name.charAt(0);\r\n\t\t\tname = name.substr(1);\r\n\t\t}\r\n\t\tconst colorStyle = ` style=\"color:${BattleLog.usernameColor(toID(name))}\"`;\r\n\t\tconst clickableName = `<small class=\"groupsymbol\">${BattleLog.escapeHTML(group)}</small><span class=\"username\">${BattleLog.escapeHTML(name)}</span>`;\r\n\t\tconst isMine = (window.app?.user?.get('name') === name) || (window.PS?.user.name === name);\r\n\t\tconst hlClass = isHighlighted ? ' highlighted' : '';\r\n\t\tconst mineClass = isMine ? ' mine' : '';\r\n\r\n\t\tlet cmd = '';\r\n\t\tlet target = '';\r\n\t\tif (message.startsWith('/')) {\r\n\t\t\tif (message.charAt(1) === '/') {\r\n\t\t\t\tmessage = message.slice(1);\r\n\t\t\t} else {\r\n\t\t\t\tlet spaceIndex = message.indexOf(' ');\r\n\t\t\t\tcmd = (spaceIndex >= 0 ? message.slice(1, spaceIndex) : message.slice(1));\r\n\t\t\t\tif (spaceIndex >= 0) target = message.slice(spaceIndex + 1);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tswitch (cmd) {\r\n\t\tcase 'me':\r\n\t\tcase 'mee':\r\n\t\t\tlet parsedMessage = BattleLog.parseMessage(' ' + target);\r\n\t\t\tif (cmd === 'mee') parsedMessage = parsedMessage.slice(1);\r\n\t\t\tif (!showMe) {\r\n\t\t\t\treturn [\r\n\t\t\t\t\t'chat chatmessage-' + toID(name) + hlClass + mineClass,\r\n\t\t\t\t\t`${timestamp}<strong${colorStyle}>${clickableName}:</strong> <em>/me${parsedMessage}</em>`,\r\n\t\t\t\t];\r\n\t\t\t}\r\n\t\t\treturn [\r\n\t\t\t\t'chat chatmessage-' + toID(name) + hlClass + mineClass,\r\n\t\t\t\t`${timestamp}<em><i><strong${colorStyle}>&bull; ${clickableName}</strong>${parsedMessage}</i></em>`,\r\n\t\t\t];\r\n\t\tcase 'invite':\r\n\t\t\tlet roomid = toRoomid(target);\r\n\t\t\treturn [\r\n\t\t\t\t'chat',\r\n\t\t\t\t`${timestamp}<em>${clickableName} invited you to join the room \"${roomid}\"</em>` +\r\n\t\t\t\t`<div class=\"notice\"><button class=\"button\" name=\"joinRoom\" value=\"${roomid}\">Join ${roomid}</button></div>`,\r\n\t\t\t];\r\n\t\tcase 'announce':\r\n\t\t\treturn [\r\n\t\t\t\t'chat chatmessage-' + toID(name) + hlClass + mineClass,\r\n\t\t\t\t`${timestamp}<strong${colorStyle}>${clickableName}:</strong> <span class=\"message-announce\">${BattleLog.parseMessage(target)}</span>`,\r\n\t\t\t];\r\n\t\tcase 'log':\r\n\t\t\treturn [\r\n\t\t\t\t'chat chatmessage-' + toID(name) + hlClass + mineClass,\r\n\t\t\t\t`${timestamp}<span class=\"message-log\">${BattleLog.parseMessage(target)}</span>`,\r\n\t\t\t];\r\n\t\tcase 'data-pokemon':\r\n\t\tcase 'data-item':\r\n\t\tcase 'data-ability':\r\n\t\tcase 'data-move':\r\n\t\t\treturn ['chat message-error', '[outdated code no longer supported]'];\r\n\t\tcase 'text':\r\n\t\t\treturn ['chat', BattleLog.parseMessage(target)];\r\n\t\tcase 'error':\r\n\t\t\treturn ['chat message-error', formatText(target, true)];\r\n\t\tcase 'html':\r\n\t\t\tif (!name) {\r\n\t\t\t\treturn [\r\n\t\t\t\t\t'chat' + hlClass,\r\n\t\t\t\t\t`${timestamp}<em>${BattleLog.sanitizeHTML(target)}</em>`,\r\n\t\t\t\t];\r\n\t\t\t}\r\n\t\t\treturn [\r\n\t\t\t\t'chat chatmessage-' + toID(name) + hlClass + mineClass,\r\n\t\t\t\t`${timestamp}<strong${colorStyle}>${clickableName}:</strong> <em>${BattleLog.sanitizeHTML(target)}</em>`,\r\n\t\t\t];\r\n\t\tcase 'uhtml':\r\n\t\tcase 'uhtmlchange':\r\n\t\t\tlet parts = target.split(',');\r\n\t\t\tlet htmlSrc = parts.slice(1).join(',').trim();\r\n\t\t\tthis.changeUhtml(parts[0], htmlSrc, cmd === 'uhtml');\r\n\t\t\treturn ['', ''];\r\n\t\tcase 'raw':\r\n\t\t\treturn ['chat', BattleLog.sanitizeHTML(target), true];\r\n\t\tcase 'nonotify':\r\n\t\t\treturn ['chat', BattleLog.sanitizeHTML(target), true];\r\n\t\tdefault:\r\n\t\t\t// Not a command or unsupported. Parsed as a normal chat message.\r\n\t\t\tif (!name) {\r\n\t\t\t\treturn [\r\n\t\t\t\t\t'chat' + hlClass,\r\n\t\t\t\t\t`${timestamp}<em>${BattleLog.parseMessage(message)}</em>`,\r\n\t\t\t\t];\r\n\t\t\t}\r\n\t\t\treturn [\r\n\t\t\t\t'chat chatmessage-' + toID(name) + hlClass + mineClass,\r\n\t\t\t\t`${timestamp}<strong${colorStyle}>${clickableName}:</strong> <em>${BattleLog.parseMessage(message)}</em>`,\r\n\t\t\t];\r\n\t\t}\r\n\t}\r\n\r\n\tstatic parseMessage(str: string, isTrusted = false) {\r\n\t\t// Don't format console commands (>>).\r\n\t\tif (str.substr(0, 3) === '>> ' || str.substr(0, 4) === '>>> ') return this.escapeHTML(str);\r\n\t\t// Don't format console results (<<).\r\n\t\tif (str.substr(0, 3) === '<< ') return this.escapeHTML(str);\r\n\t\tstr = formatText(str, isTrusted);\r\n\r\n\t\tlet options = BattleLog.prefs('chatformatting') || {};\r\n\r\n\t\tif (options.hidelinks) {\r\n\t\t\tstr = str.replace(/<a[^>]*>/g, '<u>').replace(/<\\/a>/g, '</u>');\r\n\t\t}\r\n\t\tif (options.hidespoiler) {\r\n\t\t\tstr = str.replace(/<span class=\"spoiler\">/g, '<span class=\"spoiler-shown\">');\r\n\t\t}\r\n\t\tif (options.hidegreentext) {\r\n\t\t\tstr = str.replace(/<span class=\"greentext\">/g, '<span>');\r\n\t\t}\r\n\r\n\t\treturn str;\r\n\t}\r\n\r\n\tstatic interstice = (() => {\r\n\t\tconst whitelist = Config.whitelist || [];\r\n\t\tconst patterns = whitelist.map(entry => new RegExp(\r\n\t\t\t`^(https?:)?//([A-Za-z0-9-]*\\\\.)?${entry.replace(/\\./g, '\\\\.')}(/.*)?`, 'i'\r\n\t\t));\r\n\t\treturn {\r\n\t\t\tisWhitelisted(uri: string) {\r\n\t\t\t\tif (uri.startsWith('/') && uri[1] !== '/') {\r\n\t\t\t\t\t// domain-relative URIs are safe\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\t\t\t\tfor (const pattern of patterns) {\r\n\t\t\t\t\tif (pattern.test(uri)) return true;\r\n\t\t\t\t}\r\n\t\t\t\treturn false;\r\n\t\t\t},\r\n\t\t\tgetURI(uri: string) {\r\n\t\t\t\treturn `http://${Config.routes.root}/interstice?uri=${encodeURIComponent(uri)}`;\r\n\t\t\t},\r\n\t\t};\r\n\t})();\r\n\r\n\tstatic players: any[] = [];\r\n\tstatic ytLoading: Promise<void> | null = null;\r\n\tstatic tagPolicy: ((tagName: string, attribs: string[]) => any) | null = null;\r\n\tstatic initSanitizeHTML() {\r\n\t\tif (this.tagPolicy) return;\r\n\t\tif (!('html4' in window)) {\r\n\t\t\tthrow new Error('sanitizeHTML requires caja');\r\n\t\t}\r\n\r\n\t\t// By default, Caja will ban any HTML tags it doesn't recognize.\r\n\t\t// Additional HTML tags to allow:\r\n\t\tObject.assign(html4.ELEMENTS, {\r\n\t\t\tmarquee: 0,\r\n\t\t\tblink: 0,\r\n\t\t\tpsicon: html4.eflags['OPTIONAL_ENDTAG'] | html4.eflags['EMPTY'],\r\n\t\t\tusername: 0,\r\n\t\t\tspotify: 0,\r\n\t\t\tyoutube: 0,\r\n\t\t\tformatselect: 0,\r\n\t\t\tcopytext: 0,\r\n\t\t\ttwitch: 0,\r\n\t\t});\r\n\r\n\t\t// By default, Caja will ban any attributes it doesn't recognize.\r\n\t\t// Additional attributes to allow:\r\n\t\tObject.assign(html4.ATTRIBS, {\r\n\t\t\t// See https://developer.mozilla.org/en-US/docs/Web/HTML/Element/marquee\r\n\t\t\t'marquee::behavior': 0,\r\n\t\t\t'marquee::bgcolor': 0,\r\n\t\t\t'marquee::direction': 0,\r\n\t\t\t'marquee::height': 0,\r\n\t\t\t'marquee::hspace': 0,\r\n\t\t\t'marquee::loop': 0,\r\n\t\t\t'marquee::scrollamount': 0,\r\n\t\t\t'marquee::scrolldelay': 0,\r\n\t\t\t'marquee::truespeed': 0,\r\n\t\t\t'marquee::vspace': 0,\r\n\t\t\t'marquee::width': 0,\r\n\t\t\t'psicon::pokemon': 0,\r\n\t\t\t'psicon::item': 0,\r\n\t\t\t'psicon::type': 0,\r\n\t\t\t'selectformat::type': 0,\r\n\t\t\t'psicon::category': 0,\r\n\t\t\t'username::name': 0,\r\n\t\t\t'form::data-submitsend': 0,\r\n\t\t\t'formatselect::format': 0,\r\n\t\t\t'div::data-server': 0,\r\n\t\t\t'button::data-send': 0,\r\n\t\t\t'form::data-delimiter': 0,\r\n\t\t\t'button::data-delimiter': 0,\r\n\t\t\t'*::aria-label': 0,\r\n\t\t\t'*::aria-hidden': 0,\r\n\t\t});\r\n\r\n\t\t// Caja unfortunately doesn't document how `tagPolicy` works, so\r\n\t\t// here's how it goes:\r\n\r\n\t\t// Every opening tag and attributes is filtered through\r\n\t\t// `tagPolicy`, being replaced by the {tagName, attribs} returned.\r\n\t\t// Returning `undefined` means that the tag will be removed entirely.\r\n\r\n\t\t// We run Caja's built-in tag sanitization in the first line of our\r\n\t\t// custom tagPolicy, and its attribs sanitization midway through, with\r\n\t\t// `sanitizeAttribs`.\r\n\r\n\t\t// (n.b. tag contents etc can't be modified in this step.)\r\n\r\n\t\t/**\r\n\t\t * @param tagName Lowercase tag name\r\n\t\t * @param attribs attribs in the form of [key, value, key, value]\r\n\t\t * @return undefined to remove the tag\r\n\t\t */\r\n\t\tthis.tagPolicy = (tagName: string, attribs: string[]) => {\r\n\t\t\tif (html4.ELEMENTS[tagName] & html4.eflags['UNSAFE']) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tfunction getAttrib(key: string) {\r\n\t\t\t\tfor (let i = 0; i < attribs.length - 1; i += 2) {\r\n\t\t\t\t\tif (attribs[i] === key) {\r\n\t\t\t\t\t\treturn attribs[i + 1];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn undefined;\r\n\t\t\t}\r\n\t\t\tfunction setAttrib(key: string, value: string) {\r\n\t\t\t\tfor (let i = 0; i < attribs.length - 1; i += 2) {\r\n\t\t\t\t\tif (attribs[i] === key) {\r\n\t\t\t\t\t\tattribs[i + 1] = value;\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tattribs.push(key, value);\r\n\t\t\t}\r\n\t\t\tfunction deleteAttrib(key: string) {\r\n\t\t\t\tfor (let i = 0; i < attribs.length - 1; i += 2) {\r\n\t\t\t\t\tif (attribs[i] === key) {\r\n\t\t\t\t\t\tattribs.splice(i, 2);\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tlet dataUri = '';\r\n\t\t\tlet targetReplace = false;\r\n\t\t\t// if Caja CSS isn't loaded, we still trust <psicon> CSS\r\n\t\t\tlet unsanitizedStyle = '';\r\n\r\n\t\t\tif (tagName === 'a') {\r\n\t\t\t\tif (getAttrib('target') === 'replace') {\r\n\t\t\t\t\ttargetReplace = true;\r\n\t\t\t\t}\r\n\t\t\t} else if (tagName === 'img') {\r\n\t\t\t\tconst src = getAttrib('src') || '';\r\n\t\t\t\tif (src.startsWith('data:image/')) {\r\n\t\t\t\t\tdataUri = src;\r\n\t\t\t\t}\r\n\t\t\t\tif (src.startsWith('//')) {\r\n\t\t\t\t\tif (location.protocol !== 'http:' && location.protocol !== 'https:') {\r\n\t\t\t\t\t\t// in testclient with `file://`, fix src so it still works\r\n\t\t\t\t\t\tsetAttrib('src', 'https:' + src);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else if (tagName === 'twitch') {\r\n\t\t\t\t// <iframe src=\"https://player.twitch.tv/?channel=ninja&parent=www.example.com\" allowfullscreen=\"true\" height=\"378\" width=\"620\"></iframe>\r\n\t\t\t\tconst src = getAttrib('src') || \"\";\r\n\t\t\t\tconst channelId = /(https?:\\/\\/)?twitch.tv\\/([A-Za-z0-9]+)/i.exec(src)?.[2];\r\n\t\t\t\tconst height = parseInt(getAttrib('height') || \"\", 10) || 400;\r\n\t\t\t\tconst width = parseInt(getAttrib('width') || \"\", 10) || 340;\r\n\t\t\t\treturn {\r\n\t\t\t\t\ttagName: 'iframe',\r\n\t\t\t\t\tattribs: [\r\n\t\t\t\t\t\t'src', `https://player.twitch.tv/?channel=${channelId!}&parent=${location.hostname}&autoplay=false`,\r\n\t\t\t\t\t\t'allowfullscreen', 'true', 'height', `${height}`, 'width', `${width}`,\r\n\t\t\t\t\t],\r\n\t\t\t\t};\r\n\t\t\t} else if (tagName === 'username') {\r\n\t\t\t\t// <username> is a custom element that handles namecolors\r\n\t\t\t\ttagName = 'strong';\r\n\t\t\t\tconst color = this.usernameColor(toID(getAttrib('name')));\r\n\t\t\t\tunsanitizedStyle = `color:${color}`;\r\n\t\t\t} else if (tagName === 'spotify') {\r\n\t\t\t\t// <iframe src=\"https://open.spotify.com/embed/track/6aSYnCIwcLpnDXngGKAEzZ\" width=\"300\" height=\"380\" frameborder=\"0\" allowtransparency=\"true\" allow=\"encrypted-media\"></iframe>\r\n\t\t\t\tconst src = getAttrib('src') || '';\r\n\t\t\t\tconst songId = /(?:\\?v=|\\/track\\/)([A-Za-z0-9]+)/.exec(src)?.[1];\r\n\r\n\t\t\t\treturn {\r\n\t\t\t\t\ttagName: 'iframe',\r\n\t\t\t\t\tattribs: ['src', `https://open.spotify.com/embed/track/${songId!}`, 'width', '300', 'height', '380', 'frameborder', '0', 'allowtransparency', 'true', 'allow', 'encrypted-media'],\r\n\t\t\t\t};\r\n\t\t\t} else if (tagName === 'youtube') {\r\n\t\t\t\t// <iframe width=\"320\" height=\"180\" src=\"https://www.youtube.com/embed/dQw4w9WgXcQ\" frameborder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen></iframe>\r\n\r\n\t\t\t\tconst src = getAttrib('src') || '';\r\n\t\t\t\t// Google's ToS requires a minimum of 200x200\r\n\t\t\t\tlet width = getAttrib('width') || '0';\r\n\t\t\t\tlet height = getAttrib('height') || '0';\r\n\t\t\t\tif (Number(width) < 200) {\r\n\t\t\t\t\twidth = window.innerWidth >= 400 ? '400' : '320';\r\n\t\t\t\t}\r\n\t\t\t\tif (Number(height) < 200) {\r\n\t\t\t\t\theight = window.innerWidth >= 400 ? '225' : '200';\r\n\t\t\t\t}\r\n\t\t\t\tconst videoId = /(?:\\?v=|\\/embed\\/)([A-Za-z0-9_-]+)/.exec(src)?.[1];\r\n\t\t\t\tif (!videoId) return { tagName: 'img', attribs: ['alt', `invalid src for <youtube>`] };\r\n\r\n\t\t\t\tconst time = /(?:\\?|&)(?:t|start)=([0-9]+)/.exec(src)?.[1];\r\n\t\t\t\tthis.players.push(null);\r\n\t\t\t\tconst idx = this.players.length;\r\n\t\t\t\tthis.initYoutubePlayer(idx);\r\n\t\t\t\treturn {\r\n\t\t\t\t\ttagName: 'iframe',\r\n\t\t\t\t\tattribs: [\r\n\t\t\t\t\t\t'id', `youtube-iframe-${idx}`,\r\n\t\t\t\t\t\t'width', width, 'height', height,\r\n\t\t\t\t\t\t'src', `https://www.youtube.com/embed/${videoId}?enablejsapi=1&playsinline=1${time ? `&start=${time}` : ''}`,\r\n\t\t\t\t\t\t'frameborder', '0', 'allow', 'accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture', 'allowfullscreen', 'allowfullscreen',\r\n\t\t\t\t\t\t'time', `${time || 0}`,\r\n\t\t\t\t\t],\r\n\t\t\t\t};\r\n\t\t\t} else if (tagName === 'formatselect') {\r\n\t\t\t\treturn {\r\n\t\t\t\t\ttagName: 'button',\r\n\t\t\t\t\tattribs: [\r\n\t\t\t\t\t\t'type', 'selectformat',\r\n\t\t\t\t\t\t'class', \"select formatselect\",\r\n\t\t\t\t\t\t'value', getAttrib('format') || getAttrib('value') || '',\r\n\t\t\t\t\t\t'name', getAttrib('name') || '',\r\n\t\t\t\t\t],\r\n\t\t\t\t};\r\n\t\t\t} else if (tagName === 'copytext') {\r\n\t\t\t\treturn {\r\n\t\t\t\t\ttagName: 'button',\r\n\t\t\t\t\tattribs: [\r\n\t\t\t\t\t\t'type', getAttrib('type'),\r\n\t\t\t\t\t\t'class', getAttrib('class') || 'button',\r\n\t\t\t\t\t\t'value', getAttrib('value'),\r\n\t\t\t\t\t\t'name', 'copyText',\r\n\t\t\t\t\t],\r\n\t\t\t\t};\r\n\t\t\t} else if (tagName === 'psicon') {\r\n\t\t\t\t// <psicon> is a custom element which supports a set of mutually incompatible attributes:\r\n\t\t\t\t// <psicon pokemon> and <psicon item>\r\n\t\t\t\tlet iconType = null;\r\n\t\t\t\tlet iconValue = null;\r\n\t\t\t\tfor (let i = 0; i < attribs.length - 1; i += 2) {\r\n\t\t\t\t\tif (attribs[i] === 'pokemon' || attribs[i] === 'item' || attribs[i] === 'type' || attribs[i] === 'category') {\r\n\t\t\t\t\t\t[iconType, iconValue] = attribs.slice(i, i + 2);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\ttagName = 'span';\r\n\r\n\t\t\t\tif (iconType) {\r\n\t\t\t\t\tconst className = getAttrib('class');\r\n\r\n\t\t\t\t\tif (iconType === 'pokemon') {\r\n\t\t\t\t\t\tsetAttrib('class', 'picon' + (className ? ' ' + className : ''));\r\n\t\t\t\t\t\tunsanitizedStyle = Dex.getPokemonIcon(iconValue);\r\n\t\t\t\t\t} else if (iconType === 'item') {\r\n\t\t\t\t\t\tsetAttrib('class', 'itemicon' + (className ? ' ' + className : ''));\r\n\t\t\t\t\t\tunsanitizedStyle = Dex.getItemIcon(iconValue);\r\n\t\t\t\t\t} else if (iconType === 'type') {\r\n\t\t\t\t\t\ttagName = Dex.getTypeIcon(iconValue).slice(1, -3);\r\n\t\t\t\t\t} else if (iconType === 'category') {\r\n\t\t\t\t\t\ttagName = Dex.getCategoryIcon(iconValue).slice(1, -3);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tattribs = html.sanitizeAttribs(tagName, attribs, (urlData: any) => {\r\n\t\t\t\tif (urlData.scheme_ === 'geo' || urlData.scheme_ === 'sms' || urlData.scheme_ === 'tel') return null;\r\n\t\t\t\treturn urlData;\r\n\t\t\t});\r\n\t\t\tif (unsanitizedStyle) {\r\n\t\t\t\tconst style = getAttrib('style');\r\n\t\t\t\tsetAttrib('style', unsanitizedStyle + (style ? '; ' + style : ''));\r\n\t\t\t}\r\n\r\n\t\t\tif (dataUri && tagName === 'img') {\r\n\t\t\t\tsetAttrib('src', dataUri);\r\n\t\t\t}\r\n\t\t\tif (tagName === 'a' || (tagName === 'form' && !getAttrib('data-submitsend'))) {\r\n\t\t\t\tif (targetReplace) {\r\n\t\t\t\t\tsetAttrib('data-target', 'replace');\r\n\t\t\t\t\tdeleteAttrib('target');\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetAttrib('target', '_blank');\r\n\t\t\t\t}\r\n\t\t\t\tif (tagName === 'a') {\r\n\t\t\t\t\tsetAttrib('rel', 'noopener');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn { tagName, attribs };\r\n\t\t};\r\n\t}\r\n\tstatic localizeTime(full: string, date: string, time: string, timezone?: string) {\r\n\t\tlet parsedTime = new Date(date + 'T' + time + (timezone || 'Z').toUpperCase());\r\n\t\t// Very old (pre-ES5) web browsers may be incapable of parsing ISO 8601\r\n\t\t// dates. In such a case, gracefully continue without replacing the date\r\n\t\t// format.\r\n\t\tif (!parsedTime.getTime()) return full;\r\n\r\n\t\tlet formattedTime;\r\n\t\t// Try using Intl API if it exists\r\n\t\tif ((window as any).Intl?.DateTimeFormat) {\r\n\t\t\tformattedTime = new Intl.DateTimeFormat(undefined, {\r\n\t\t\t\tmonth: 'long', day: 'numeric', hour: 'numeric', minute: 'numeric',\r\n\t\t\t}).format(parsedTime);\r\n\t\t} else {\r\n\t\t\t// toLocaleString even exists in ECMAScript 1, so no need to check\r\n\t\t\t// if it exists.\r\n\t\t\tformattedTime = parsedTime.toLocaleString();\r\n\t\t}\r\n\t\treturn '<time>' + BattleLog.escapeHTML(formattedTime) + '</time>';\r\n\t}\r\n\tstatic sanitizeHTML(input: string) {\r\n\t\tif (typeof input !== 'string') return '';\r\n\r\n\t\tthis.initSanitizeHTML();\r\n\r\n\t\tinput = input.replace(/<username([^>]*)>([^<]*)<\\/username>/gi, (match, attrs, username) => {\r\n\t\t\tif (/\\bname\\s*=\\s*\"/.test(attrs)) return match;\r\n\t\t\tconst escapedUsername = username.replace(/\"/g, '&quot;').replace(/>/g, '&gt;');\r\n\t\t\treturn `<username${attrs} name=\"${escapedUsername}\">${username}</username>`;\r\n\t\t});\r\n\r\n\t\t// Our custom element support happens in `tagPolicy`, which is set\r\n\t\t// up in `initSanitizeHTML` above.\r\n\t\tconst sanitized = html.sanitizeWithPolicy(input, this.tagPolicy) as string;\r\n\r\n\t\t// <time> parsing requires ISO 8601 time. While more time formats are\r\n\t\t// supported by most JavaScript implementations, it isn't required, and\r\n\t\t// how to exactly enforce ignoring user agent timezone setting is not obvious.\r\n\t\t// As dates come from the server which isn't aware of client timezone, a\r\n\t\t// particular timezone is required.\r\n\t\t//\r\n\t\t// This regular expression is split into three groups.\r\n\t\t//\r\n\t\t// Group 1 - date\r\n\t\t// Group 2 - time (seconds and milliseconds are optional)\r\n\t\t// Group 3 - optional timezone\r\n\t\t//\r\n\t\t// Group 1 and group 2 are split to allow using space as a separator\r\n\t\t// instead of T. Stricly speaking ECMAScript 5 specification only\r\n\t\t// allows T, however it's more practical to also allow spaces.\r\n\t\treturn sanitized.replace(\r\n\t\t\t/<time>\\s*([+-]?\\d{4,}-\\d{2}-\\d{2})[T ](\\d{2}:\\d{2}(?::\\d{2}(?:\\.\\d{3})?)?)(Z|[+-]\\d{2}:\\d{2})?\\s*<\\/time>/ig,\r\n\t\t\tthis.localizeTime\r\n\t\t);\r\n\t}\r\n\r\n\tstatic initYoutubePlayer(idx: number) {\r\n\t\tconst id = `youtube-iframe-${idx}`;\r\n\t\tconst loadPlayer = () => {\r\n\t\t\tconst el = $(`#${id}`);\r\n\t\t\tif (!el.length) return;\r\n\t\t\tconst player = new window.YT.Player(id, {\r\n\t\t\t\tevents: {\r\n\t\t\t\t\tonStateChange: (event: any) => {\r\n\t\t\t\t\t\tif (event.data === window.YT.PlayerState.PLAYING) {\r\n\t\t\t\t\t\t\tfor (const curPlayer of BattleLog.players) {\r\n\t\t\t\t\t\t\t\tif (player === curPlayer) continue;\r\n\t\t\t\t\t\t\t\tcurPlayer?.pauseVideo?.();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t});\r\n\t\t\tconst time = Number(el.attr('time'));\r\n\t\t\tif (time) {\r\n\t\t\t\tplayer.seekTo(time);\r\n\t\t\t}\r\n\t\t\tthis.players[idx - 1] = player;\r\n\t\t};\r\n\t\t// wait for html element to be in DOM\r\n\t\tthis.ensureYoutube().then(() => {\r\n\t\t\tsetTimeout(() => loadPlayer(), 300);\r\n\t\t});\r\n\t}\r\n\r\n\tstatic ensureYoutube(): Promise<void> {\r\n\t\tif (this.ytLoading) return this.ytLoading;\r\n\r\n\t\tthis.ytLoading = new Promise(resolve => {\r\n\t\t\tconst el = document.createElement('script');\r\n\t\t\tel.type = 'text/javascript';\r\n\t\t\tel.async = true;\r\n\t\t\tel.src = 'https://youtube.com/iframe_api';\r\n\t\t\tel.onload = () => {\r\n\t\t\t\t// since the src loads more files remotely we'll just wait\r\n\t\t\t\t// until the player exists\r\n\t\t\t\tconst loopCheck = () => {\r\n\t\t\t\t\tif (!window.YT?.Player) {\r\n\t\t\t\t\t\tsetTimeout(() => loopCheck(), 300);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tresolve();\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t\tloopCheck();\r\n\t\t\t};\r\n\t\t\tdocument.body.appendChild(el);\r\n\t\t});\r\n\t\treturn this.ytLoading;\r\n\t}\r\n\r\n\t/*********************************************************\r\n\t * Replay files\r\n\t *********************************************************/\r\n\r\n\t// Replay files are .html files that display a replay for a battle.\r\n\r\n\t// The .html files mainly contain replay log data; the actual replay\r\n\t// player is downloaded online. Also included is a textual log and\r\n\t// some minimal CSS to make it look pretty, for offline viewing.\r\n\r\n\t// This strategy helps keep the replay file reasonably small; of\r\n\t// the 30 KB or so for a 50-turn battle, around 10 KB is the log\r\n\t// data, and around 20 KB is the textual log.\r\n\r\n\t// The actual replay player is downloaded from replay-embed.js,\r\n\t// which handles loading all the necessary resources for turning the log\r\n\t// data into a playable replay.\r\n\r\n\t// Battle log data is stored in and loaded from a\r\n\t// <script type=\"text/plain\" class=\"battle-log-data\"> tag.\r\n\r\n\t// replay-embed.js is loaded through a cache-buster that rotates daily.\r\n\t// This allows pretty much anything about the replay viewer to be\r\n\t// updated as desired.\r\n\r\n\tstatic createReplayFile(room: { battle: Battle, id?: string, fragment?: string }) {\r\n\t\tlet battle = room.battle;\r\n\t\tlet replayid = room.id;\r\n\t\tif (replayid) {\r\n\t\t\t// battle room\r\n\t\t\treplayid = replayid.slice(7);\r\n\t\t\tif (window.Config?.server.id !== 'showdown') {\r\n\t\t\t\tif (!window.Config?.server.registered) {\r\n\t\t\t\t\treplayid = 'unregisteredserver-' + replayid;\r\n\t\t\t\t} else {\r\n\t\t\t\t\treplayid = Config.server.id + '-' + replayid;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else if (room.fragment) {\r\n\t\t\t// replay panel\r\n\t\t\treplayid = room.fragment;\r\n\t\t} else {\r\n\t\t\treplayid = battle.id;\r\n\t\t}\r\n\t\t// TODO: do this synchronously so large battles aren't cut off\r\n\t\tbattle.seekTurn(Infinity);\r\n\t\tif (!battle.atQueueEnd) return null;\r\n\t\tlet buf = '<!DOCTYPE html>\\n';\r\n\t\tbuf += '<meta charset=\"utf-8\" />\\n';\r\n\t\tbuf += '<!-- version 1 -->\\n';\r\n\t\tbuf += `<title>${BattleLog.escapeHTML(battle.tier)} replay: ${BattleLog.escapeHTML(battle.p1.name)} vs. ${BattleLog.escapeHTML(battle.p2.name)}</title>\\n`;\r\n\t\t// This <style> exists so that replays are readable without an internet connection\r\n\t\tbuf += '<style>\\n';\r\n\t\tbuf += 'html,body {font-family:Verdana, sans-serif;font-size:10pt;margin:0;padding:0;}body{padding:12px 0;} .battle-log {font-family:Verdana, sans-serif;font-size:10pt;} .battle-log-inline {border:1px solid #AAAAAA;background:#EEF2F5;color:black;max-width:640px;margin:0 auto 80px;padding-bottom:5px;} .battle-log .inner {padding:4px 8px 0px 8px;} .battle-log .inner-preempt {padding:0 8px 4px 8px;} .battle-log .inner-after {margin-top:0.5em;} .battle-log h2 {margin:0.5em -8px;padding:4px 8px;border:1px solid #AAAAAA;background:#E0E7EA;border-left:0;border-right:0;font-family:Verdana, sans-serif;font-size:13pt;} .battle-log .chat {vertical-align:middle;padding:3px 0 3px 0;font-size:8pt;} .battle-log .chat strong {color:#40576A;} .battle-log .chat em {padding:1px 4px 1px 3px;color:#000000;font-style:normal;} .chat.mine {background:rgba(0,0,0,0.05);margin-left:-8px;margin-right:-8px;padding-left:8px;padding-right:8px;} .spoiler {color:#BBBBBB;background:#BBBBBB;padding:0px 3px;} .spoiler:hover, .spoiler:active, .spoiler-shown {color:#000000;background:#E2E2E2;padding:0px 3px;} .spoiler a {color:#BBBBBB;} .spoiler:hover a, .spoiler:active a, .spoiler-shown a {color:#2288CC;} .chat code, .chat .spoiler:hover code, .chat .spoiler:active code, .chat .spoiler-shown code {border:1px solid #C0C0C0;background:#EEEEEE;color:black;padding:0 2px;} .chat .spoiler code {border:1px solid #CCCCCC;background:#CCCCCC;color:#CCCCCC;} .battle-log .rated {padding:3px 4px;} .battle-log .rated strong {color:white;background:#89A;padding:1px 4px;border-radius:4px;} .spacer {margin-top:0.5em;} .message-announce {background:#6688AA;color:white;padding:1px 4px 2px;} .message-announce a, .broadcast-green a, .broadcast-blue a, .broadcast-red a {color:#DDEEFF;} .broadcast-green {background-color:#559955;color:white;padding:2px 4px;} .broadcast-blue {background-color:#6688AA;color:white;padding:2px 4px;} .infobox {border:1px solid #6688AA;padding:2px 4px;} .infobox-limited {max-height:200px;overflow:auto;overflow-x:hidden;} .broadcast-red {background-color:#AA5544;color:white;padding:2px 4px;} .message-learn-canlearn {font-weight:bold;color:#228822;text-decoration:underline;} .message-learn-cannotlearn {font-weight:bold;color:#CC2222;text-decoration:underline;} .message-effect-weak {font-weight:bold;color:#CC2222;} .message-effect-resist {font-weight:bold;color:#6688AA;} .message-effect-immune {font-weight:bold;color:#666666;} .message-learn-list {margin-top:0;margin-bottom:0;} .message-throttle-notice, .message-error {color:#992222;} .message-overflow, .chat small.message-overflow {font-size:0pt;} .message-overflow::before {font-size:9pt;content:\\'...\\';} .subtle {color:#3A4A66;}\\n';\r\n\t\tbuf += '</style>\\n';\r\n\t\tbuf += '<div class=\"wrapper replay-wrapper\" style=\"max-width:1180px;margin:0 auto\">\\n';\r\n\t\tbuf += '<input type=\"hidden\" name=\"replayid\" value=\"' + replayid + '\" />\\n';\r\n\t\tbuf += '<div class=\"battle\"></div><div class=\"battle-log\"></div><div class=\"replay-controls\"></div><div class=\"replay-controls-2\"></div>\\n';\r\n\t\tbuf += `<h1 style=\"font-weight:normal;text-align:center\"><strong>${BattleLog.escapeHTML(battle.tier)}</strong><br /><a href=\"http://${Config.routes.users}/${toID(battle.p1.name)}\" class=\"subtle\" target=\"_blank\">${BattleLog.escapeHTML(battle.p1.name)}</a> vs. <a href=\"http://${Config.routes.users}/${toID(battle.p2.name)}\" class=\"subtle\" target=\"_blank\">${BattleLog.escapeHTML(battle.p2.name)}</a></h1>\\n`;\r\n\t\tbuf += '<script type=\"text/plain\" class=\"battle-log-data\">' + battle.stepQueue.join('\\n').replace(/\\//g, '\\\\/') + '</script>\\n'; // lgtm [js/incomplete-sanitization]\r\n\t\tbuf += '</div>\\n';\r\n\t\tbuf += '<div class=\"battle-log battle-log-inline\"><div class=\"inner\">' + battle.scene.log.elem.innerHTML + '</div></div>\\n';\r\n\t\tbuf += '</div>\\n';\r\n\t\tbuf += '<script>\\n';\r\n\t\tbuf += `let daily = Math.floor(Date.now()/1000/60/60/24);document.write('<script src=\"https://${Config.routes.client}/js/replay-embed.js?version'+daily+'\"></'+'script>');\\n`;\r\n\t\tbuf += '</script>\\n';\r\n\t\treturn buf;\r\n\t}\r\n\r\n\tstatic createReplayFileHref(room: { battle: Battle, id?: string, fragment?: string }) {\r\n\t\t// unescape(encodeURIComponent()) is necessary because btoa doesn't support Unicode\r\n\t\tconst replayFile = BattleLog.createReplayFile(room);\r\n\t\tif (!replayFile) {\r\n\t\t\treturn 'javascript:alert(\"You will need to click Download again once the replay file is at the end.\");void 0';\r\n\t\t}\r\n\t\treturn 'data:text/plain;base64,' + encodeURIComponent(btoa(unescape(encodeURIComponent(replayFile))));\r\n\t}\r\n}\r\n\r\nif (window.Net) {\r\n\tNet(`/config/colors.json?${Math.random()}`).get().then(response => {\r\n\t\tconst data = JSON.parse(response);\r\n\t\tObject.assign(Config.customcolors, data);\r\n\t}).catch(() => {});\r\n}\r\n","/**\r\n * Pokemon Showdown Log Misc\r\n *\r\n * Some miscellaneous helper functions for battle-log.ts, namely:\r\n *\r\n * - an MD5 hasher\r\n *\r\n * - a parseText function (for converting chat text to HTML),\r\n *   cross-compiled from the server\r\n *\r\n * Licensing note: PS's client has complicated licensing:\r\n * - The client as a whole is AGPLv3\r\n * - The battle replay/animation engine (battle-*.ts) by itself is MIT\r\n *\r\n * @author Guangcong Luo <guangcongluo@gmail.com>\r\n * @license MIT\r\n */\r\n\r\n/* eslint-disable */\r\n\r\n// MD5 minified\r\nfunction MD5(f){function i(b,c){var d,e,f,g,h;f=b&2147483648;g=c&2147483648;d=b&1073741824;e=c&1073741824;h=(b&1073741823)+(c&1073741823);return d&e?h^2147483648^f^g:d|e?h&1073741824?h^3221225472^f^g:h^1073741824^f^g:h^f^g}function j(b,c,d,e,f,g,h){b=i(b,i(i(c&d|~c&e,f),h));return i(b<<g|b>>>32-g,c)}function k(b,c,d,e,f,g,h){b=i(b,i(i(c&e|d&~e,f),h));return i(b<<g|b>>>32-g,c)}function l(b,c,e,d,f,g,h){b=i(b,i(i(c^e^d,f),h));return i(b<<g|b>>>32-g,c)}function m(b,c,e,d,f,g,h){b=i(b,i(i(e^(c|~d),\r\nf),h));return i(b<<g|b>>>32-g,c)}function n(b){var c=\"\",e=\"\",d;for(d=0;d<=3;d++)e=b>>>d*8&255,e=\"0\"+e.toString(16),c+=e.substr(e.length-2,2);return c}var g=[],o,p,q,r,b,c,d,e,f=function(b){for(var b=b.replace(/\\r\\n/g,\"\\n\"),c=\"\",e=0;e<b.length;e++){var d=b.charCodeAt(e);d<128?c+=String.fromCharCode(d):(d>127&&d<2048?c+=String.fromCharCode(d>>6|192):(c+=String.fromCharCode(d>>12|224),c+=String.fromCharCode(d>>6&63|128)),c+=String.fromCharCode(d&63|128))}return c}(f),g=function(b){var c,d=b.length;c=\r\nd+8;for(var e=((c-c%64)/64+1)*16,f=Array(e-1),g=0,h=0;h<d;)c=(h-h%4)/4,g=h%4*8,f[c]|=b.charCodeAt(h)<<g,h++;f[(h-h%4)/4]|=128<<h%4*8;f[e-2]=d<<3;f[e-1]=d>>>29;return f}(f);b=1732584193;c=4023233417;d=2562383102;e=271733878;for(f=0;f<g.length;f+=16)o=b,p=c,q=d,r=e,b=j(b,c,d,e,g[f+0],7,3614090360),e=j(e,b,c,d,g[f+1],12,3905402710),d=j(d,e,b,c,g[f+2],17,606105819),c=j(c,d,e,b,g[f+3],22,3250441966),b=j(b,c,d,e,g[f+4],7,4118548399),e=j(e,b,c,d,g[f+5],12,1200080426),d=j(d,e,b,c,g[f+6],17,2821735955),c=\r\nj(c,d,e,b,g[f+7],22,4249261313),b=j(b,c,d,e,g[f+8],7,1770035416),e=j(e,b,c,d,g[f+9],12,2336552879),d=j(d,e,b,c,g[f+10],17,4294925233),c=j(c,d,e,b,g[f+11],22,2304563134),b=j(b,c,d,e,g[f+12],7,1804603682),e=j(e,b,c,d,g[f+13],12,4254626195),d=j(d,e,b,c,g[f+14],17,2792965006),c=j(c,d,e,b,g[f+15],22,1236535329),b=k(b,c,d,e,g[f+1],5,4129170786),e=k(e,b,c,d,g[f+6],9,3225465664),d=k(d,e,b,c,g[f+11],14,643717713),c=k(c,d,e,b,g[f+0],20,3921069994),b=k(b,c,d,e,g[f+5],5,3593408605),e=k(e,b,c,d,g[f+10],9,38016083),\r\nd=k(d,e,b,c,g[f+15],14,3634488961),c=k(c,d,e,b,g[f+4],20,3889429448),b=k(b,c,d,e,g[f+9],5,568446438),e=k(e,b,c,d,g[f+14],9,3275163606),d=k(d,e,b,c,g[f+3],14,4107603335),c=k(c,d,e,b,g[f+8],20,1163531501),b=k(b,c,d,e,g[f+13],5,2850285829),e=k(e,b,c,d,g[f+2],9,4243563512),d=k(d,e,b,c,g[f+7],14,1735328473),c=k(c,d,e,b,g[f+12],20,2368359562),b=l(b,c,d,e,g[f+5],4,4294588738),e=l(e,b,c,d,g[f+8],11,2272392833),d=l(d,e,b,c,g[f+11],16,1839030562),c=l(c,d,e,b,g[f+14],23,4259657740),b=l(b,c,d,e,g[f+1],4,2763975236),\r\ne=l(e,b,c,d,g[f+4],11,1272893353),d=l(d,e,b,c,g[f+7],16,4139469664),c=l(c,d,e,b,g[f+10],23,3200236656),b=l(b,c,d,e,g[f+13],4,681279174),e=l(e,b,c,d,g[f+0],11,3936430074),d=l(d,e,b,c,g[f+3],16,3572445317),c=l(c,d,e,b,g[f+6],23,76029189),b=l(b,c,d,e,g[f+9],4,3654602809),e=l(e,b,c,d,g[f+12],11,3873151461),d=l(d,e,b,c,g[f+15],16,530742520),c=l(c,d,e,b,g[f+2],23,3299628645),b=m(b,c,d,e,g[f+0],6,4096336452),e=m(e,b,c,d,g[f+7],10,1126891415),d=m(d,e,b,c,g[f+14],15,2878612391),c=m(c,d,e,b,g[f+5],21,4237533241),\r\nb=m(b,c,d,e,g[f+12],6,1700485571),e=m(e,b,c,d,g[f+3],10,2399980690),d=m(d,e,b,c,g[f+10],15,4293915773),c=m(c,d,e,b,g[f+1],21,2240044497),b=m(b,c,d,e,g[f+8],6,1873313359),e=m(e,b,c,d,g[f+15],10,4264355552),d=m(d,e,b,c,g[f+6],15,2734768916),c=m(c,d,e,b,g[f+13],21,1309151649),b=m(b,c,d,e,g[f+4],6,4149444226),e=m(e,b,c,d,g[f+11],10,3174756917),d=m(d,e,b,c,g[f+2],15,718787259),c=m(c,d,e,b,g[f+9],21,3951481745),b=i(b,o),c=i(c,p),d=i(d,q),e=i(e,r);return(n(b)+n(c)+n(d)+n(e)).toLowerCase()};\r\n/* eslint-enable */\r\n","exports.BattleText = {Default:{},gen9indigostarstorm:{}};","exports.BattleTextAFD = {\r\n\tdefault: {\r\n\t\t// April Fool's 2019\r\n\t\t// April Fool's 2025: tone down the most common text\r\n\t\t// (I think the jokes work best as a surprise, when most of the\r\n\t\t// text is the same as before.)\r\n\r\n\t\t// startBattle: \"[TRAINER] and [TRAINER] commence battle!\",\r\n\t\t// winBattle: \"**[TRAINER]** is victorious!\",\r\n\t\t// tieBattle: \"The feud between [TRAINER] and [TRAINER] remains unresolved!\",\r\n\r\n\t\t// pokemon: \"[NICKNAME]\",\r\n\t\t// opposingPokemon: \"a villainous [NICKNAME]\",\r\n\t\t// team: \"your faithful alliance\",\r\n\t\t// opposingTeam: \"the forces of evil\",\r\n\t\t// party: \"our blessed allies\",\r\n\t\t// opposingParty: \"the barbarous opposition\",\r\n\r\n\t\t// turn: \"== Phase [NUMBER] ==\",\r\n\t\t// switchIn: \"[TRAINER] would have us contend with [FULLNAME]!\",\r\n\t\t// switchInOwn: \"[FULLNAME]! Honor demands your presence!\",\r\n\t\t// switchOut: \"[TRAINER] has other plans for [NICKNAME]!\",\r\n\t\t// switchOutOwn: \"[NICKNAME], the time for retreat is upon us!\",\r\n\t\t// drag: \"[FULLNAME] was unprepared to join us!\",\r\n\t\t// faint: \"[POKEMON]'s service has concluded.\",\r\n\t\t// swap: \"[POKEMON] and [TARGET] switched places!\",\r\n\t\t// swapCenter: \"[POKEMON] moved to the center!\",\r\n\r\n\t\t// zEffect: \"  [POKEMON] isn't holding back anymore!\",\r\n\t\t// move: \"[POKEMON] unleashes **[MOVE]**!\",\r\n\t\t// abilityActivation: \"  [[POKEMON]'s [ABILITY]]\",\r\n\r\n\t\tmega: \"  [POKEMON]'s [ITEM] glows!\",\r\n\t\tmegaNoItem: \"  [POKEMON]'s lack of Mega Stone glows!\",\r\n\t\tmegaGen6: \"  [POKEMON]'s [ITEM] glows!\",\r\n\t\ttransformMega: \"[POKEMON] thinks it's a big deal!\",\r\n\t\tprimal: \"[POKEMON]'s reversion! It got nostalgic about the old days!\",\r\n\t\tzPower: \"  [POKEMON] is about to stop holding back!\",\r\n\t\tzBroken: \"  [POKEMON]'s shields are failing!\",\r\n\t\tterastallize: \"  [POKEMON] is cosplaying as [TYPE]-type!\",\r\n\r\n\t\t// in case the different default messages didn't make it obvious, the difference\r\n\t\t// is that the `cant` message REPLACES \"Pokemon used Move!\", while the `fail`\r\n\t\t// message happens AFTER \"Pokemon used Move!\"\r\n\t\tcant: \"[POKEMON] can't use [MOVE]!\",\r\n\t\tcantNoMove: \"[POKEMON] can't move!\",\r\n\t\tfail: \"  Things did not go as planned!\",\r\n\r\n\t\t// n.b. this is the default message for in-battle forme changes\r\n\t\t// for the move Transform and ability Imposter, see the entry for the move Transform\r\n\t\ttransform: \"[POKEMON] transformed!\",\r\n\t\ttypeChange: \"  [POKEMON] transformed into the [TYPE] type!\",\r\n\t\ttypeChangeFromEffect: \"  [POKEMON]'s [EFFECT] made it the [TYPE] type!\",\r\n\t\ttypeAdd: \"  [TYPE] type was added to [POKEMON]!\",\r\n\r\n\t\tstart: \"  ([EFFECT] started on [POKEMON]!)\",\r\n\t\tend: \"  [POKEMON] was freed from [EFFECT]!\",\r\n\t\tactivate: \"  ([EFFECT] activated!)\",\r\n\t\tstartTeamEffect: \"  ([EFFECT] started on [TEAM]!)\",\r\n\t\tendTeamEffect: \"  ([EFFECT] ended on [TEAM]!)\",\r\n\t\tstartFieldEffect: \"  ([EFFECT] started!)\",\r\n\t\tendFieldEffect: \"  ([EFFECT] ended!)\",\r\n\r\n\t\tchangeAbility: \"  [POKEMON] acquired [ABILITY]!\",\r\n\t\taddItem: \"  [POKEMON] obtained one [ITEM].\", // Trick, Switcheroo\r\n\t\ttakeItem: \"  [POKEMON] stole [SOURCE]'s [ITEM]!\", // Thief, Covet, Magician, Pickpocket\r\n\t\teatItem: \"  [POKEMON] ate its [ITEM]!\",\r\n\t\tuseGem: \"  The [ITEM] strengthened [POKEMON]'s power!\",\r\n\t\teatItemWeaken: \"  The [ITEM] weakened damage to [POKEMON]!\",\r\n\t\tremoveItem: \"  [POKEMON] lost its [ITEM]!\",\r\n\t\tactivateItem: \"  ([POKEMON] used its [ITEM]!)\",\r\n\t\tactivateWeaken: \"  The [ITEM] weakened the damage to [POKEMON]!\",\r\n\r\n\t\tdamage: \"  ([POKEMON] was hurt!)\",\r\n\t\tdamagePercentage: \"  ([POKEMON] lost [PERCENTAGE] of its health!)\",\r\n\t\tdamageFromPokemon: \"  [POKEMON] is hurt by [SOURCE]'s [ITEM]!\", // Jaboca/Rowap Berry\r\n\t\tdamageFromItem: \"  [POKEMON] is hurt by its [ITEM]!\", // Sticky Barb\r\n\t\tdamageFromPartialTrapping: \"  [POKEMON] is hurt by [MOVE]!\",\r\n\t\theal: \"  [POKEMON] restored its HP.\",\r\n\t\thealFromZEffect: \"  [POKEMON] restored its HP using its Z-Power!\",\r\n\t\thealFromEffect: \"  [POKEMON] restored HP using its [EFFECT]!\",\r\n\r\n\t\tboost: \"  [POKEMON]'s [STAT] increased!\",\r\n\t\tboost2: \"  [POKEMON]'s [STAT] increased twice!\",\r\n\t\tboost3: \"  [POKEMON]'s [STAT] increased a lot!\",\r\n\t\tboost0: \"  [POKEMON]'s [STAT] won't go any higher!\",\r\n\t\tboostFromItem: \"  The [ITEM] raised [POKEMON]'s [STAT]!\",\r\n\t\tboost2FromItem: \"  The [ITEM] raised [POKEMON]'s [STAT] twice!\",\r\n\t\tboost3FromItem: \"  The [ITEM] raised [POKEMON]'s [STAT] a lot!\",\r\n\t\tboostFromZEffect: \"  [POKEMON] boosted its [STAT] using its Z-Power!\",\r\n\t\tboost2FromZEffect: \"  [POKEMON] boosted its [STAT] twice using its Z-Power!\",\r\n\t\tboost3FromZEffect: \"  [POKEMON] boosted its [STAT] a lot using its Z-Power!\",\r\n\t\tboostMultipleFromZEffect: \"  [POKEMON] boosted its stats using its Z-Power!\",\r\n\r\n\t\tunboost: \"  [POKEMON]'s [STAT] was lowered!\",\r\n\t\tunboost2: \"  [POKEMON]'s [STAT] was lowered twice!\",\r\n\t\tunboost3: \"  [POKEMON]'s [STAT] was lowered a lot!\",\r\n\t\tunboost0: \"  [POKEMON]'s [STAT] won't go any lower!\",\r\n\t\tunboostFromItem: \"  The [ITEM] lowered [POKEMON]'s [STAT]!\",\r\n\t\tunboost2FromItem: \"  The [ITEM] lowered [POKEMON]'s [STAT] twice!\",\r\n\t\tunboost3FromItem: \"  The [ITEM] lowered [POKEMON]'s [STAT] a lot!\",\r\n\r\n\t\tswapBoost: \"  [POKEMON] switched stat changes with its target!\",\r\n\t\tswapOffensiveBoost: \"  [POKEMON] switched all changes to its Strength and Intelligence with its target!\",\r\n\t\tswapDefensiveBoost: \"  [POKEMON] switched all changes to its Armor and Resistance with its target!\",\r\n\t\tcopyBoost: \"  [POKEMON] copied [TARGET]'s stat changes!\",\r\n\t\tclearBoost: \"  [POKEMON]'s stat changes were removed!\",\r\n\t\tclearBoostFromZEffect: \"  [POKEMON] returned its decreased stats to normal using its Z-Power!\",\r\n\t\tinvertBoost: \"  [POKEMON]'s stat changes were inverted!\",\r\n\t\tclearAllBoost: \"  All stat changes were eliminated!\",\r\n\r\n\t\tsuperEffective: \"  It hit its enemy's weakness!\",\r\n\t\tsuperEffectiveSpread: \"  It hit [POKEMON]'s weakness!\",\r\n\t\tresisted: \"  It was resisted...\",\r\n\t\tresistedSpread: \"  [POKEMON] resisted the attack.\",\r\n\t\tcrit: \"  A lucky hit! Remember to buy crit insurance!\",\r\n\t\tcritSpread: \"  A lucky hit on [POKEMON]! How dare you!\",\r\n\t\timmune: \"  [POKEMON] is immune to such dastardly tricks!\",\r\n\t\timmuneNoPokemon: \"  The foe was immune!\", // old gens\r\n\t\timmuneOHKO: \"  [POKEMON] is unaffected!\",\r\n\t\tmiss: \"  [POKEMON] avoided the attack!\",\r\n\t\tmissNoPokemon: \"  [SOURCE]'s attack missed!\", // old gens\r\n\r\n\t\tcenter: \"  Automatic center!\",\r\n\t\tnoTarget: \"  But there was no target...\", // gen 5 and earlier\r\n\t\tohko: \"  It's a one-hit KO!\",\r\n\t\tcombine: \"  The two moves have become one! It's a combined move!\",\r\n\t\thitCount: \"  Hit [NUMBER] times!\",\r\n\t\thitCountSingular: \"  Hit 1 time!\",\r\n\t},\r\n\tdynamax: {\r\n\t\t// April Fool's 2020\r\n\t\tstart: \"  ([POKEMON]'s Tinymax!)\",\r\n\t\tend: \"  ([POKEMON] returned to normal!)\",\r\n\t\tblock: \"  The move was blocked by the power of Tinymax!\",\r\n\t\tfail: \"  [POKEMON] shook its head. It seems like it can't use this move...\",\r\n\t},\r\n\r\n\t// stats\r\n\thp: {\r\n\t\tstatName: \"Constitution\",\r\n\t\tstatShortName: \"HP\",\r\n\t},\r\n\tatk: {\r\n\t\tstatName: \"Strength\",\r\n\t\tstatShortName: \"Atk\",\r\n\t},\r\n\tdef: {\r\n\t\tstatName: \"Armor\",\r\n\t\tstatShortName: \"Def\",\r\n\t},\r\n\tspa: {\r\n\t\tstatName: \"Intelligence\",\r\n\t\tstatShortName: \"SpA\",\r\n\t},\r\n\tspd: {\r\n\t\tstatName: \"Resistance\",\r\n\t\tstatShortName: \"SpD\",\r\n\t},\r\n\tspe: {\r\n\t\tstatName: \"Agility\",\r\n\t\tstatShortName: \"Spe\",\r\n\t},\r\n\taccuracy: {\r\n\t\tstatName: \"accuracy\",\r\n\t},\r\n\tevasion: {\r\n\t\tstatName: \"evasiveness\",\r\n\t},\r\n\tspc: {\r\n\t\tstatName: \"Intelligence\",\r\n\t\tstatShortName: \"Spc\",\r\n\t},\r\n\tstats: {\r\n\t\tstatName: \"stats\",\r\n\t},\r\n\r\n\t// misc effects\r\n\tconfusion: {\r\n\t\tstart: \"  [POKEMON] became confused!\",\r\n\t\tstartFromFatigue: \"  [POKEMON] became confused due to fatigue!\",\r\n\t\tend: \"  [POKEMON] snapped out of its confusion!\",\r\n\t\tendFromItem: \"  [POKEMON]'s [ITEM] snapped it out of its confusion!\",\r\n\t\talreadyStarted: \"  [POKEMON] is already confused!\",\r\n\t\tactivate: \"  [POKEMON] is confused!\",\r\n\t\tdamage: \"It hurt itself in its confusion!\",\r\n\t},\r\n\tdrain: {\r\n\t\theal: \"  [SOURCE] will find its attacker's health restored!\",\r\n\t},\r\n\tflinch: {\r\n\t\tcant: \"[POKEMON] flinched and couldn't move!\",\r\n\t},\r\n\thealreplacement: {\r\n\t\tactivate: \"  [POKEMON] will restore its replacement's HP using its Z-Power!\",\r\n\t},\r\n\tnopp: {\r\n\t\tcant: \"[POKEMON] used [MOVE]!\\n  But there was no PP left for the move!\",\r\n\t},\r\n\trecharge: {\r\n\t\tcant: \"[POKEMON] must recharge!\",\r\n\t},\r\n\trecoil: {\r\n\t\tdamage: \"  [POKEMON] is damaged by the recoil!\",\r\n\t},\r\n\tunboost: {\r\n\t\tfail: \"  [POKEMON]'s stats were not lowered!\",\r\n\t\tfailSingular: \"  [POKEMON]'s [STAT] was not lowered!\",\r\n\t},\r\n\tstruggle: {\r\n\t\tactivate: \"  [POKEMON] has no moves left!\",\r\n\t},\r\n\ttrapped: {\r\n\t\tstart: \"  [POKEMON] can no longer escape!\",\r\n\t},\r\n};\r\n\r\nexports.BattleTextNotAFD = exports.BattleText;\r\n","/**\r\n * Text parser\r\n *\r\n * No dependencies\r\n * Optional dependency: BattleText\r\n *\r\n * @author Guangcong Luo <guangcongluo@gmail.com>\r\n * @license MIT\r\n */\r\n\r\nimport { Dex, toID, type ID } from \"./battle-dex\";\r\n\r\nexport type Args = [string, ...string[]];\r\nexport type KWArgs = { [kw: string]: string };\r\nexport type SideID = 'p1' | 'p2' | 'p3' | 'p4';\r\n\r\nexport class BattleTextParser {\r\n\t/** escaped for string.replace */\r\n\tp1 = \"Player 1\";\r\n\t/** escaped for string.replace */\r\n\tp2 = \"Player 2\";\r\n\t/** escaped for string.replace */\r\n\tp3 = \"Player 3\";\r\n\t/** escaped for string.replace */\r\n\tp4 = \"Player 4\";\r\n\tperspective: SideID;\r\n\tgen = 9;\r\n\tturn = 0;\r\n\tcurLineSection: 'break' | 'preMajor' | 'major' | 'postMajor' = 'break';\r\n\tlowercaseRegExp: RegExp | null | undefined = undefined;\r\n\r\n\tconstructor(perspective: SideID = 'p1') {\r\n\t\tthis.perspective = perspective;\r\n\t}\r\n\r\n\tstatic parseLine(line: string, noDefault: true): Args | null;\r\n\tstatic parseLine(line: string): Args;\r\n\tstatic parseLine(line: string, noDefault?: boolean): Args | null {\r\n\t\tif (!line.startsWith('|')) {\r\n\t\t\treturn ['', line];\r\n\t\t}\r\n\t\tif (line === '|') {\r\n\t\t\treturn ['done'];\r\n\t\t}\r\n\t\tconst index = line.indexOf('|', 1);\r\n\t\tconst cmd = line.slice(1, index);\r\n\t\tswitch (cmd) {\r\n\t\tcase 'chatmsg': case 'chatmsg-raw': case 'raw': case 'error': case 'html':\r\n\t\tcase 'inactive': case 'inactiveoff': case 'warning':\r\n\t\tcase 'fieldhtml': case 'controlshtml': case 'pagehtml': case 'bigerror':\r\n\t\tcase 'debug': case 'tier': case 'challstr': case 'popup': case '':\r\n\t\t\treturn [cmd, line.slice(index + 1)];\r\n\t\tcase 'c': case 'chat': case 'uhtml': case 'uhtmlchange': case 'queryresponse': case 'showteam':\r\n\t\t\t// three parts\r\n\t\t\tconst index2a = line.indexOf('|', index + 1);\r\n\t\t\treturn [cmd, line.slice(index + 1, index2a), line.slice(index2a + 1)];\r\n\t\tcase 'c:': case 'pm':\r\n\t\t\t// four parts\r\n\t\t\tconst index2b = line.indexOf('|', index + 1);\r\n\t\t\tconst index3b = line.indexOf('|', index2b + 1);\r\n\t\t\treturn [cmd, line.slice(index + 1, index2b), line.slice(index2b + 1, index3b), line.slice(index3b + 1)];\r\n\t\t}\r\n\t\tif (noDefault) return null;\r\n\t\treturn line.slice(1).split('|') as [string, ...string[]];\r\n\t}\r\n\r\n\tstatic parseBattleLine(line: string): { args: Args, kwArgs: KWArgs } {\r\n\t\tlet args = this.parseLine(line, true);\r\n\t\tif (args) return { args, kwArgs: {} };\r\n\r\n\t\targs = line.slice(1).split('|') as [string, ...string[]];\r\n\t\tconst kwArgs: KWArgs = {};\r\n\t\twhile (args.length > 1) {\r\n\t\t\tconst lastArg = args[args.length - 1];\r\n\t\t\tif (!lastArg.startsWith('[')) break;\r\n\t\t\tconst bracketPos = lastArg.indexOf(']');\r\n\t\t\tif (bracketPos <= 0) break;\r\n\t\t\t// default to '.' so it evaluates to boolean true\r\n\t\t\tkwArgs[lastArg.slice(1, bracketPos)] = lastArg.slice(bracketPos + 1).trim() || '.';\r\n\t\t\targs.pop();\r\n\t\t}\r\n\t\treturn BattleTextParser.upgradeArgs({ args, kwArgs });\r\n\t}\r\n\r\n\tstatic parseNameParts(text: string) {\r\n\t\tlet group = '';\r\n\t\t// names can't start with a symbol\r\n\t\tif (!/[A-Za-z0-9]/.test(text.charAt(0))) {\r\n\t\t\tgroup = text.charAt(0);\r\n\t\t\ttext = text.slice(1);\r\n\t\t}\r\n\r\n\t\tlet name = text;\r\n\t\tconst atIndex = text.indexOf('@');\r\n\t\tlet status = '';\r\n\t\tlet away = false;\r\n\t\tif (atIndex > 0) {\r\n\t\t\tname = text.slice(0, atIndex);\r\n\t\t\tstatus = text.slice(atIndex + 1);\r\n\t\t\tif (status.startsWith('!')) {\r\n\t\t\t\taway = true;\r\n\t\t\t\tstatus = status.slice(1);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn { group, name, away, status };\r\n\t}\r\n\r\n\t/**\r\n\t * Old replays may use syntax we no longer use, so this function upgrades\r\n\t * them to modern versions. Used to keep battle.ts itself cleaner. Not\r\n\t * guaranteed to mutate or not mutate its inputs.\r\n\t */\r\n\tstatic upgradeArgs({ args, kwArgs }: { args: Args, kwArgs: KWArgs }): { args: Args, kwArgs: KWArgs } {\r\n\t\tswitch (args[0]) {\r\n\t\tcase '-activate': {\r\n\t\t\tif (kwArgs.item || kwArgs.move || kwArgs.number || kwArgs.ability) return { args, kwArgs };\r\n\t\t\tlet [, pokemon, effect, arg3, arg4] = args;\r\n\t\t\tlet target = kwArgs.of;\r\n\t\t\tconst id = BattleTextParser.effectId(effect);\r\n\r\n\t\t\tif (kwArgs.block) return { args: ['-fail', pokemon], kwArgs };\r\n\r\n\t\t\tif (id === 'wonderguard') return { args: ['-immune', pokemon], kwArgs: { from: 'ability:Wonder Guard' } };\r\n\r\n\t\t\tif (id === 'beatup' && kwArgs.of) return { args, kwArgs: { name: kwArgs.of } };\r\n\r\n\t\t\tif ([\r\n\t\t\t\t'ingrain', 'quickguard', 'wideguard', 'craftyshield', 'matblock', 'protect', 'mist', 'safeguard',\r\n\t\t\t\t'electricterrain', 'mistyterrain', 'psychicterrain', 'telepathy', 'stickyhold', 'suctioncups', 'aromaveil',\r\n\t\t\t\t'flowerveil', 'sweetveil', 'disguise', 'safetygoggles', 'protectivepads',\r\n\t\t\t].includes(id)) {\r\n\t\t\t\tif (target) {\r\n\t\t\t\t\tkwArgs.of = pokemon;\r\n\t\t\t\t\treturn { args: ['-block', target, effect, arg3], kwArgs };\r\n\t\t\t\t}\r\n\t\t\t\treturn { args: ['-block', pokemon, effect, arg3], kwArgs };\r\n\t\t\t}\r\n\r\n\t\t\tif (id === 'charge') {\r\n\t\t\t\treturn { args: ['-singlemove', pokemon, effect], kwArgs: { of: target } };\r\n\t\t\t}\r\n\t\t\tif ([\r\n\t\t\t\t'bind', 'wrap', 'clamp', 'whirlpool', 'firespin', 'magmastorm', 'sandtomb', 'infestation', 'snaptrap', 'thundercage', 'trapped',\r\n\t\t\t].includes(id)) {\r\n\t\t\t\treturn { args: ['-start', pokemon, effect], kwArgs: { of: target } };\r\n\t\t\t}\r\n\r\n\t\t\tif (id === 'fairylock') {\r\n\t\t\t\treturn { args: ['-fieldactivate', effect], kwArgs: {} };\r\n\t\t\t}\r\n\r\n\t\t\tif (id === 'symbiosis' || id === 'poltergeist') {\r\n\t\t\t\tkwArgs.item = arg3;\r\n\t\t\t} else if (id === 'magnitude') {\r\n\t\t\t\tkwArgs.number = arg3;\r\n\t\t\t} else if (id === 'skillswap' || id === 'mummy' || id === 'lingeringaroma' || id === 'wanderingspirit') {\r\n\t\t\t\tkwArgs.ability = arg3;\r\n\t\t\t\tkwArgs.ability2 = arg4;\r\n\t\t\t} else if ([\r\n\t\t\t\t'eeriespell', 'gmaxdepletion', 'spite', 'grudge', 'forewarn', 'sketch', 'leppaberry', 'mysteryberry',\r\n\t\t\t].includes(id)) {\r\n\t\t\t\tkwArgs.move = arg3;\r\n\t\t\t\tkwArgs.number = arg4;\r\n\t\t\t}\r\n\t\t\targs = ['-activate', pokemon, effect, target || ''];\r\n\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\tcase '-fail': {\r\n\t\t\tif (kwArgs.from === 'ability: Flower Veil') {\r\n\t\t\t\treturn { args: ['-block', kwArgs.of, 'ability: Flower Veil'], kwArgs: { of: args[1] } };\r\n\t\t\t}\r\n\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\tcase '-start': {\r\n\t\t\tif (kwArgs.from === 'Protean' || kwArgs.from === 'Color Change') kwArgs.from = 'ability:' + kwArgs.from;\r\n\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\tcase 'move': {\r\n\t\t\tif (kwArgs.from === 'Magic Bounce') kwArgs.from = 'ability:Magic Bounce';\r\n\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\tcase 'cant': {\r\n\t\t\tlet [, pokemon, effect, move] = args;\r\n\t\t\tif (['ability: Damp', 'ability: Dazzling', 'ability: Queenly Majesty', 'ability: Armor Tail'].includes(effect)) {\r\n\t\t\t\targs[0] = '-block';\r\n\t\t\t\treturn { args: ['-block', pokemon, effect, move, kwArgs.of], kwArgs: {} };\r\n\t\t\t}\r\n\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\tcase '-heal': {\r\n\t\t\tconst id = BattleTextParser.effectId(kwArgs.from);\r\n\t\t\tif (['dryskin', 'eartheater', 'voltabsorb', 'waterabsorb'].includes(id)) kwArgs.of = '';\r\n\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\tcase '-restoreboost': {\r\n\t\t\targs[0] = '-clearnegativeboost';\r\n\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\tcase '-weather': {\r\n\t\t\tif (args[1] === 'Snow') args[1] = 'Snowscape';\r\n\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\tcase '-ability': {\r\n\t\t\tif (args[3] && (args[3].startsWith('p1') || args[3].startsWith('p2') || args[3] === 'boost')) {\r\n\t\t\t\targs[4] = args[3];\r\n\t\t\t\targs[3] = '';\r\n\t\t\t}\r\n\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\tcase '-nothing':\r\n\t\t\t// OLD: |-nothing\r\n\t\t\t// NEW: |-activate||move:Splash\r\n\t\t\treturn { args: ['-activate', '', 'move:Splash'], kwArgs };\r\n\t\t}\r\n\t\treturn { args, kwArgs };\r\n\t}\r\n\r\n\textractMessage(buf: string) {\r\n\t\tlet out = '';\r\n\t\tfor (const line of buf.split('\\n')) {\r\n\t\t\tconst { args, kwArgs } = BattleTextParser.parseBattleLine(line);\r\n\t\t\tout += this.parseArgs(args, kwArgs) || '';\r\n\t\t}\r\n\t\treturn out;\r\n\t}\r\n\r\n\tfixLowercase(input: string) {\r\n\t\tif (this.lowercaseRegExp === undefined) {\r\n\t\t\tconst prefixes = ['pokemon', 'opposingPokemon', 'team', 'opposingTeam', 'party', 'opposingParty'].map(templateId => {\r\n\t\t\t\tconst template = BattleText.default[templateId];\r\n\t\t\t\tif (template.startsWith(template.charAt(0).toUpperCase())) return '';\r\n\t\t\t\tconst bracketIndex = template.indexOf('[');\r\n\t\t\t\tif (bracketIndex >= 0) return template.slice(0, bracketIndex);\r\n\t\t\t\treturn template;\r\n\t\t\t}).filter(prefix => prefix);\r\n\t\t\tif (prefixes.length) {\r\n\t\t\t\tlet buf = `((?:^|\\n)(?:  |  \\\\(|\\\\[)?)(` +\r\n\t\t\t\t\tprefixes.map(BattleTextParser.escapeRegExp).join('|') +\r\n\t\t\t\t\t`)`;\r\n\t\t\t\tthis.lowercaseRegExp = new RegExp(buf, 'g');\r\n\t\t\t} else {\r\n\t\t\t\tthis.lowercaseRegExp = null;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (!this.lowercaseRegExp) return input;\r\n\t\treturn input.replace(this.lowercaseRegExp, (match, p1, p2) => (\r\n\t\t\tp1 + p2.charAt(0).toUpperCase() + p2.slice(1)\r\n\t\t));\r\n\t}\r\n\r\n\tstatic escapeRegExp(input: string) {\r\n\t\treturn input.replace(/[\\\\^$.*+?()[\\]{}|]/g, '\\\\$&');\r\n\t}\r\n\tstatic escapeReplace(input: string) {\r\n\t\treturn input.replace(/\\$/g, '$$$$');\r\n\t}\r\n\r\n\t/** Returns a pokemon name escaped for passing into the second argument of string.replace */\r\n\tpokemonName = (pokemon: string) => {\r\n\t\tif (!pokemon) return '';\r\n\t\tif (!pokemon.startsWith('p')) return `???pokemon:${pokemon}???`;\r\n\t\tif (pokemon.charAt(3) === ':') return BattleTextParser.escapeReplace(pokemon.slice(4).trim());\r\n\t\telse if (pokemon.charAt(2) === ':') return BattleTextParser.escapeReplace(pokemon.slice(3).trim());\r\n\t\treturn `???pokemon:${pokemon}???`;\r\n\t};\r\n\r\n\t/** Returns a string escaped for passing into the second argument of string.replace */\r\n\tpokemon(pokemon: string) {\r\n\t\tif (!pokemon) return '';\r\n\t\tlet side = pokemon.slice(0, 2);\r\n\t\tif (!['p1', 'p2', 'p3', 'p4'].includes(side)) return `???pokemon:${pokemon}???`;\r\n\t\tconst name = this.pokemonName(pokemon);\r\n\t\tconst isNear = side === this.perspective || side === BattleTextParser.allyID(side as SideID);\r\n\t\tconst template = BattleText.default[isNear ? 'pokemon' : 'opposingPokemon'];\r\n\t\treturn template.replace('[NICKNAME]', name).replace(/\\$/g, '$$$$');\r\n\t}\r\n\r\n\t/** Returns a string escaped for passing into the second argument of string.replace */\r\n\tpokemonFull(pokemon: string, details: string): [string, string] {\r\n\t\tconst nickname = this.pokemonName(pokemon);\r\n\r\n\t\tconst species = details.split(',')[0];\r\n\t\tif (nickname === species) return [pokemon.slice(0, 2), `**${species}**`];\r\n\t\treturn [pokemon.slice(0, 2), `${nickname} (**${species}**)`];\r\n\t}\r\n\r\n\ttrainer(side: string) {\r\n\t\tside = side.slice(0, 2);\r\n\t\tif (side === 'p1') return this.p1;\r\n\t\tif (side === 'p2') return this.p2;\r\n\t\tif (side === 'p3') return this.p3;\r\n\t\tif (side === 'p4') return this.p4;\r\n\t\treturn `???side:${side}???`;\r\n\t}\r\n\r\n\tstatic allyID(sideid: SideID): SideID | '' {\r\n\t\tif (sideid === 'p1') return 'p3';\r\n\t\tif (sideid === 'p2') return 'p4';\r\n\t\tif (sideid === 'p3') return 'p1';\r\n\t\tif (sideid === 'p4') return 'p2';\r\n\t\treturn '';\r\n\t}\r\n\r\n\tteam(side: string, isFar = false) {\r\n\t\tside = side.slice(0, 2);\r\n\t\tif (side === this.perspective || side === BattleTextParser.allyID(side as SideID)) {\r\n\t\t\treturn !isFar ? BattleText.default.team : BattleText.default.opposingTeam;\r\n\t\t}\r\n\t\treturn isFar ? BattleText.default.team : BattleText.default.opposingTeam;\r\n\t}\r\n\r\n\town(side: string) {\r\n\t\tside = side.slice(0, 2);\r\n\t\tif (side === this.perspective) {\r\n\t\t\treturn 'OWN';\r\n\t\t}\r\n\t\treturn '';\r\n\t}\r\n\r\n\tparty(side: string) {\r\n\t\tside = side.slice(0, 2);\r\n\t\tif (side === this.perspective || side === BattleTextParser.allyID(side as SideID)) {\r\n\t\t\treturn BattleText.default.party;\r\n\t\t}\r\n\t\treturn BattleText.default.opposingParty;\r\n\t}\r\n\r\n\tstatic effectId(effect?: string) {\r\n\t\tif (!effect) return '';\r\n\t\tif (effect.startsWith('item:') || effect.startsWith('move:')) {\r\n\t\t\teffect = effect.slice(5);\r\n\t\t} else if (effect.startsWith('ability:')) {\r\n\t\t\teffect = effect.slice(8);\r\n\t\t}\r\n\t\treturn toID(effect);\r\n\t}\r\n\r\n\teffect(effect?: string) {\r\n\t\tif (!effect) return '';\r\n\t\tif (effect.startsWith('item:') || effect.startsWith('move:')) {\r\n\t\t\teffect = effect.slice(5);\r\n\t\t} else if (effect.startsWith('ability:')) {\r\n\t\t\teffect = effect.slice(8);\r\n\t\t}\r\n\t\treturn effect.trim();\r\n\t}\r\n\r\n\ttemplate(type: string, ...namespaces: (string | undefined)[]) {\r\n\t\tfor (const namespace of namespaces) {\r\n\t\t\tif (!namespace) continue;\r\n\t\t\tif (namespace === 'OWN') {\r\n\t\t\t\treturn BattleText.default[type + 'Own'] + '\\n';\r\n\t\t\t}\r\n\t\t\tif (namespace === 'NODEFAULT') {\r\n\t\t\t\treturn '';\r\n\t\t\t}\r\n\t\t\tlet id = BattleTextParser.effectId(namespace);\r\n\t\t\tif (BattleText[id] && type in BattleText[id]) {\r\n\t\t\t\tif (BattleText[id][type].charAt(1) === '.') type = BattleText[id][type].slice(2) as ID;\r\n\t\t\t\tif (BattleText[id][type].startsWith('#')) id = BattleText[id][type].slice(1) as ID;\r\n\t\t\t\tif (!BattleText[id][type]) return '';\r\n\t\t\t\tlet template = BattleText[id][type];\r\n\t\t\t\tfor (let i = Dex.gen - 1; i >= this.gen; i--) {\r\n\t\t\t\t\tlet curTemplate = BattleText[id][`${type}Gen${i}`];\r\n\t\t\t\t\tif (curTemplate) template = curTemplate;\r\n\t\t\t\t}\r\n\t\t\t\treturn template + '\\n';\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (!BattleText.default[type]) return '';\r\n\t\tlet template = BattleText.default[type];\r\n\t\tfor (let i = Dex.gen - 1; i >= this.gen; i--) {\r\n\t\t\tlet curTemplate = BattleText.default[`${type}Gen${i}`];\r\n\t\t\tif (curTemplate) template = curTemplate;\r\n\t\t}\r\n\t\treturn template + '\\n';\r\n\t}\r\n\r\n\tmaybeAbility(effect: string | undefined, holder: string) {\r\n\t\tif (!effect) return '';\r\n\t\tif (!effect.startsWith('ability:')) return '';\r\n\t\treturn this.ability(effect.slice(8).trim(), holder);\r\n\t}\r\n\r\n\tability(name: string | undefined, holder: string) {\r\n\t\tif (!name) return '';\r\n\t\treturn BattleText.default.abilityActivation.replace('[POKEMON]', this.pokemon(holder)).replace('[ABILITY]', this.effect(name)) + '\\n';\r\n\t}\r\n\r\n\tstatic stat(stat: string) {\r\n\t\tconst entry = BattleText[stat || \"stats\"];\r\n\t\tif (!entry?.statName) return `???stat:${stat}???`;\r\n\t\treturn entry.statName;\r\n\t}\r\n\r\n\tlineSection(args: Args, kwArgs: KWArgs) {\r\n\t\tif (kwArgs.premajor) return 'preMajor';\r\n\t\tif (kwArgs.postmajor) return 'postMajor';\r\n\t\tif (kwArgs.major) return 'major';\r\n\r\n\t\tconst cmd = args[0];\r\n\t\tswitch (cmd) {\r\n\t\tcase 'done' : case 'turn':\r\n\t\t\treturn 'break';\r\n\t\tcase 'move' : case 'cant': case 'switch': case 'drag': case 'upkeep': case 'start':\r\n\t\tcase '-mega': case '-candynamax': case '-terastallize':\r\n\t\t\treturn 'major';\r\n\t\tcase 'switchout': case 'faint':\r\n\t\t\treturn 'preMajor';\r\n\t\tcase '-zpower':\r\n\t\t\treturn 'postMajor';\r\n\t\tcase '-damage': {\r\n\t\t\tconst id = BattleTextParser.effectId(kwArgs.from);\r\n\t\t\tif (id === 'confusion') return 'major';\r\n\t\t\treturn 'postMajor';\r\n\t\t}\r\n\t\tcase '-curestatus': {\r\n\t\t\tconst id = BattleTextParser.effectId(kwArgs.from);\r\n\t\t\tif (id === 'naturalcure') return 'preMajor';\r\n\t\t\treturn 'postMajor';\r\n\t\t}\r\n\t\tcase '-start': {\r\n\t\t\tconst id = BattleTextParser.effectId(kwArgs.from);\r\n\t\t\tif (id === 'protean') return 'preMajor';\r\n\t\t\treturn 'postMajor';\r\n\t\t}\r\n\t\tcase '-activate': {\r\n\t\t\tconst id = BattleTextParser.effectId(args[2]);\r\n\t\t\tif (id === 'confusion' || id === 'attract') return 'preMajor';\r\n\t\t\treturn 'postMajor';\r\n\t\t}\r\n\t\t}\r\n\t\treturn (cmd.startsWith('-') ? 'postMajor' : '');\r\n\t}\r\n\r\n\tsectionBreak(args: Args, kwArgs: KWArgs) {\r\n\t\tconst prevSection = this.curLineSection;\r\n\t\tconst curSection = this.lineSection(args, kwArgs);\r\n\t\tif (!curSection) return false;\r\n\t\tthis.curLineSection = curSection;\r\n\t\tswitch (curSection) {\r\n\t\tcase 'break':\r\n\t\t\tif (prevSection !== 'break') return true;\r\n\t\t\treturn false;\r\n\t\tcase 'preMajor':\r\n\t\tcase 'major':\r\n\t\t\tif (prevSection === 'postMajor' || prevSection === 'major') return true;\r\n\t\t\treturn false;\r\n\t\tcase 'postMajor':\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n\r\n\tparseArgs(args: Args, kwArgs: KWArgs, noSectionBreak?: boolean) {\r\n\t\tlet buf = !noSectionBreak && this.sectionBreak(args, kwArgs) ? '\\n' : '';\r\n\t\treturn buf + this.fixLowercase(this.parseArgsInner(args, kwArgs) || '');\r\n\t}\r\n\r\n\tparseArgsInner(args: Args, kwArgs: KWArgs) {\r\n\t\tlet cmd = args[0];\r\n\t\tswitch (cmd) {\r\n\t\tcase 'player': {\r\n\t\t\tconst [, side, name] = args;\r\n\t\t\tif (side === 'p1' && name) {\r\n\t\t\t\tthis.p1 = BattleTextParser.escapeReplace(name);\r\n\t\t\t} else if (side === 'p2' && name) {\r\n\t\t\t\tthis.p2 = BattleTextParser.escapeReplace(name);\r\n\t\t\t} else if (side === 'p3' && name) {\r\n\t\t\t\tthis.p3 = BattleTextParser.escapeReplace(name);\r\n\t\t\t} else if (side === 'p4' && name) {\r\n\t\t\t\tthis.p4 = BattleTextParser.escapeReplace(name);\r\n\t\t\t}\r\n\t\t\treturn '';\r\n\t\t}\r\n\r\n\t\tcase 'gen': {\r\n\t\t\tconst [, num] = args;\r\n\t\t\tthis.gen = parseInt(num, 10);\r\n\t\t\treturn '';\r\n\t\t}\r\n\r\n\t\tcase 'turn': {\r\n\t\t\tconst [, num] = args;\r\n\t\t\tthis.turn = Number.parseInt(num, 10);\r\n\t\t\treturn this.template('turn').replace('[NUMBER]', num) + '\\n';\r\n\t\t}\r\n\r\n\t\tcase 'start': {\r\n\t\t\treturn this.template('startBattle').replace('[TRAINER]', this.p1).replace('[TRAINER]', this.p2);\r\n\t\t}\r\n\r\n\t\tcase 'win': case 'tie': {\r\n\t\t\tconst [, name] = args;\r\n\t\t\tif (cmd === 'tie' || !name) {\r\n\t\t\t\treturn this.template('tieBattle').replace('[TRAINER]', this.p1).replace('[TRAINER]', this.p2);\r\n\t\t\t}\r\n\t\t\treturn this.template('winBattle').replace('[TRAINER]', name);\r\n\t\t}\r\n\r\n\t\tcase 'switch': {\r\n\t\t\tconst [, pokemon, details] = args;\r\n\t\t\tconst [side, fullname] = this.pokemonFull(pokemon, details);\r\n\t\t\tconst template = this.template('switchIn', this.own(side));\r\n\t\t\treturn template.replace('[TRAINER]', this.trainer(side)).replace('[FULLNAME]', fullname);\r\n\t\t}\r\n\r\n\t\tcase 'drag': {\r\n\t\t\tconst [, pokemon, details] = args;\r\n\t\t\tconst [side, fullname] = this.pokemonFull(pokemon, details);\r\n\t\t\tconst template = this.template('drag');\r\n\t\t\treturn template.replace('[TRAINER]', this.trainer(side)).replace('[FULLNAME]', fullname);\r\n\t\t}\r\n\r\n\t\tcase 'detailschange': case '-transform': case '-formechange': {\r\n\t\t\tconst [, pokemon, arg2, arg3] = args;\r\n\t\t\tlet newSpecies = '';\r\n\t\t\tswitch (cmd) {\r\n\t\t\tcase 'detailschange': newSpecies = arg2.split(',')[0].trim(); break;\r\n\t\t\tcase '-transform': newSpecies = arg3; break;\r\n\t\t\tcase '-formechange': newSpecies = arg2; break;\r\n\t\t\t}\r\n\t\t\tlet newSpeciesId = toID(newSpecies);\r\n\t\t\tlet id = '';\r\n\t\t\tlet templateName = 'transform';\r\n\t\t\tif (cmd !== '-transform') {\r\n\t\t\t\tswitch (newSpeciesId) {\r\n\t\t\t\tcase 'greninjaash': id = 'battlebond'; break;\r\n\t\t\t\tcase 'mimikyubusted': id = 'disguise'; break;\r\n\t\t\t\tcase 'zygardecomplete': id = 'powerconstruct'; break;\r\n\t\t\t\tcase 'necrozmaultra': id = 'ultranecroziumz'; break;\r\n\t\t\t\tcase 'darmanitanzen': id = 'zenmode'; break;\r\n\t\t\t\tcase 'darmanitan': id = 'zenmode'; templateName = 'transformEnd'; break;\r\n\t\t\t\tcase 'darmanitangalarzen': id = 'zenmode'; break;\r\n\t\t\t\tcase 'darmanitangalar': id = 'zenmode'; templateName = 'transformEnd'; break;\r\n\t\t\t\tcase 'aegislashblade': id = 'stancechange'; break;\r\n\t\t\t\tcase 'aegislash': id = 'stancechange'; templateName = 'transformEnd'; break;\r\n\t\t\t\tcase 'wishiwashischool': id = 'schooling'; break;\r\n\t\t\t\tcase 'wishiwashi': id = 'schooling'; templateName = 'transformEnd'; break;\r\n\t\t\t\tcase 'miniormeteor': id = 'shieldsdown'; break;\r\n\t\t\t\tcase 'minior': id = 'shieldsdown'; templateName = 'transformEnd'; break;\r\n\t\t\t\tcase 'eiscuenoice': id = 'iceface'; break;\r\n\t\t\t\tcase 'eiscue': id = 'iceface'; templateName = 'transformEnd'; break;\r\n\t\t\t\tcase 'terapagosterastal': id = 'terashift'; break;\r\n\t\t\t\t}\r\n\t\t\t} else if (newSpecies) {\r\n\t\t\t\tid = 'transform';\r\n\t\t\t}\r\n\t\t\tconst template = this.template(templateName, id, kwArgs.msg ? '' : 'NODEFAULT');\r\n\t\t\tconst line1 = this.maybeAbility(kwArgs.from, kwArgs.of || pokemon);\r\n\t\t\treturn line1 + template.replace('[POKEMON]', this.pokemon(pokemon)).replace('[SPECIES]', newSpecies);\r\n\t\t}\r\n\r\n\t\tcase 'switchout': {\r\n\t\t\tconst [, pokemon] = args;\r\n\t\t\tconst side = pokemon.slice(0, 2);\r\n\t\t\tconst template = this.template('switchOut', kwArgs.from, this.own(side));\r\n\t\t\treturn template.replace('[TRAINER]', this.trainer(side)).replace('[NICKNAME]', this.pokemonName(pokemon)).replace('[POKEMON]', this.pokemon(pokemon));\r\n\t\t}\r\n\r\n\t\tcase 'faint': {\r\n\t\t\tconst [, pokemon] = args;\r\n\t\t\tconst template = this.template('faint');\r\n\t\t\treturn template.replace('[POKEMON]', this.pokemon(pokemon));\r\n\t\t}\r\n\r\n\t\tcase 'swap': {\r\n\t\t\tconst [, pokemon, target] = args;\r\n\t\t\tif (!target || !isNaN(Number(target))) {\r\n\t\t\t\tconst template = this.template('swapCenter');\r\n\t\t\t\treturn template.replace('[POKEMON]', this.pokemon(pokemon));\r\n\t\t\t}\r\n\t\t\tconst template = this.template('swap');\r\n\t\t\treturn template.replace('[POKEMON]', this.pokemon(pokemon)).replace('[TARGET]', this.pokemon(target));\r\n\t\t}\r\n\r\n\t\tcase 'move': {\r\n\t\t\tconst [, pokemon, move] = args;\r\n\t\t\tlet line1 = this.maybeAbility(kwArgs.from, kwArgs.of || pokemon);\r\n\t\t\tif (kwArgs.zeffect) {\r\n\t\t\t\tline1 = this.template('zEffect').replace('[POKEMON]', this.pokemon(pokemon));\r\n\t\t\t}\r\n\t\t\tconst template = this.template('move', kwArgs.from);\r\n\t\t\treturn line1 + template.replace('[POKEMON]', this.pokemon(pokemon)).replace('[MOVE]', move);\r\n\t\t}\r\n\r\n\t\tcase 'cant': {\r\n\t\t\tlet [, pokemon, effect, move] = args;\r\n\t\t\tconst template = this.template('cant', effect, 'NODEFAULT') ||\r\n\t\t\t\tthis.template(move ? 'cant' : 'cantNoMove');\r\n\t\t\tconst line1 = this.maybeAbility(effect, kwArgs.of || pokemon);\r\n\t\t\treturn line1 + template.replace('[POKEMON]', this.pokemon(pokemon)).replace('[MOVE]', move);\r\n\t\t}\r\n\r\n\t\tcase '-candynamax': {\r\n\t\t\tlet [, side] = args;\r\n\t\t\tconst own = this.own(side);\r\n\t\t\tlet template = '';\r\n\t\t\tif (this.turn === 1) {\r\n\t\t\t\tif (own) template = this.template('canDynamax', own);\r\n\t\t\t} else {\r\n\t\t\t\ttemplate = this.template('canDynamax', own);\r\n\t\t\t}\r\n\t\t\treturn template.replace('[TRAINER]', this.trainer(side));\r\n\t\t}\r\n\r\n\t\tcase 'message': {\r\n\t\t\tlet [, message] = args;\r\n\t\t\treturn '' + message + '\\n';\r\n\t\t}\r\n\r\n\t\tcase '-start': {\r\n\t\t\tlet [, pokemon, effect, arg3] = args;\r\n\t\t\tconst line1 = this.maybeAbility(effect, pokemon) || this.maybeAbility(kwArgs.from, kwArgs.of || pokemon);\r\n\t\t\tlet id = BattleTextParser.effectId(effect);\r\n\t\t\tif (id === 'typechange') {\r\n\t\t\t\tconst template = this.template('typeChange', kwArgs.from);\r\n\t\t\t\treturn line1 + template.replace('[POKEMON]', this.pokemon(pokemon)).replace('[TYPE]', arg3)\r\n\t\t\t\t\t.replace('[SOURCE]', this.pokemon(kwArgs.of));\r\n\t\t\t}\r\n\t\t\tif (id === 'typeadd') {\r\n\t\t\t\tconst template = this.template('typeAdd', kwArgs.from);\r\n\t\t\t\treturn line1 + template.replace('[POKEMON]', this.pokemon(pokemon)).replace('[TYPE]', arg3);\r\n\t\t\t}\r\n\t\t\tif (id.startsWith('stockpile')) {\r\n\t\t\t\tconst num = id.slice(9);\r\n\t\t\t\tconst template = this.template('start', 'stockpile');\r\n\t\t\t\treturn line1 + template.replace('[POKEMON]', this.pokemon(pokemon)).replace('[NUMBER]', num);\r\n\t\t\t}\r\n\t\t\tif (id.startsWith('perish')) {\r\n\t\t\t\tconst num = id.slice(6);\r\n\t\t\t\tconst template = this.template('activate', 'perishsong');\r\n\t\t\t\treturn line1 + template.replace('[POKEMON]', this.pokemon(pokemon)).replace('[NUMBER]', num);\r\n\t\t\t}\r\n\t\t\tif (id.startsWith('protosynthesis') || id.startsWith('quarkdrive')) {\r\n\t\t\t\tconst stat = id.slice(-3);\r\n\t\t\t\tconst template = this.template('start', id.slice(0, id.length - 3));\r\n\t\t\t\treturn line1 + template.replace('[POKEMON]', this.pokemon(pokemon)).replace('[STAT]', BattleTextParser.stat(stat));\r\n\t\t\t}\r\n\t\t\tlet templateId = 'start';\r\n\t\t\tif (kwArgs.already) templateId = 'alreadyStarted';\r\n\t\t\tif (kwArgs.fatigue) templateId = 'startFromFatigue';\r\n\t\t\tif (kwArgs.zeffect) templateId = 'startFromZEffect';\r\n\t\t\tif (kwArgs.damage) templateId = 'activate';\r\n\t\t\tif (kwArgs.block) templateId = 'block';\r\n\t\t\tif (kwArgs.upkeep) templateId = 'upkeep';\r\n\t\t\tif (templateId === 'start' && kwArgs.from?.startsWith('item:')) {\r\n\t\t\t\ttemplateId += 'FromItem';\r\n\t\t\t}\r\n\t\t\tconst template = this.template(templateId, kwArgs.from, effect);\r\n\t\t\treturn line1 + template.replace('[POKEMON]', this.pokemon(pokemon)).replace('[EFFECT]', this.effect(effect))\r\n\t\t\t\t.replace('[MOVE]', arg3).replace('[SOURCE]', this.pokemon(kwArgs.of)).replace('[ITEM]', this.effect(kwArgs.from));\r\n\t\t}\r\n\r\n\t\tcase '-end': {\r\n\t\t\tlet [, pokemon, effect] = args;\r\n\t\t\tconst line1 = this.maybeAbility(effect, pokemon) || this.maybeAbility(kwArgs.from, kwArgs.of || pokemon);\r\n\t\t\tlet id = BattleTextParser.effectId(effect);\r\n\t\t\tif (id === 'doomdesire' || id === 'futuresight') {\r\n\t\t\t\tconst template = this.template('activate', effect);\r\n\t\t\t\treturn line1 + template.replace('[TARGET]', this.pokemon(pokemon));\r\n\t\t\t}\r\n\t\t\tlet templateId = 'end';\r\n\t\t\tlet template = '';\r\n\t\t\tif (kwArgs.from?.startsWith('item:')) {\r\n\t\t\t\ttemplate = this.template('endFromItem', effect);\r\n\t\t\t}\r\n\t\t\tif (!template) template = this.template(templateId, effect);\r\n\t\t\treturn line1 + template.replace('[POKEMON]', this.pokemon(pokemon)).replace('[EFFECT]', this.effect(effect))\r\n\t\t\t\t.replace('[SOURCE]', this.pokemon(kwArgs.of)).replace('[ITEM]', this.effect(kwArgs.from));\r\n\t\t}\r\n\r\n\t\tcase '-ability': {\r\n\t\t\tlet [, pokemon, ability, oldAbility] = args;\r\n\t\t\tlet line1 = '';\r\n\t\t\tif (oldAbility) line1 += this.ability(oldAbility, pokemon);\r\n\t\t\tline1 += this.ability(ability, pokemon);\r\n\t\t\tif (kwArgs.fail) {\r\n\t\t\t\tconst template = this.template('block', kwArgs.from);\r\n\t\t\t\treturn line1 + template;\r\n\t\t\t}\r\n\t\t\tif (kwArgs.from) {\r\n\t\t\t\tif (!oldAbility) line1 = this.maybeAbility(kwArgs.from, pokemon) + line1;\r\n\t\t\t\tconst template = this.template('changeAbility', kwArgs.from);\r\n\t\t\t\treturn line1 + template.replace('[POKEMON]', this.pokemon(pokemon)).replace('[ABILITY]', this.effect(ability))\r\n\t\t\t\t\t.replace('[SOURCE]', this.pokemon(kwArgs.of));\r\n\t\t\t}\r\n\t\t\tconst id = BattleTextParser.effectId(ability);\r\n\t\t\tif (id === 'unnerve') {\r\n\t\t\t\tconst template = this.template('start', ability);\r\n\t\t\t\treturn line1 + template.replace('[TEAM]', this.team(pokemon.slice(0, 2), true));\r\n\t\t\t}\r\n\t\t\tlet templateId = 'start';\r\n\t\t\tif (id === 'anticipation' || id === 'sturdy') templateId = 'activate';\r\n\t\t\tconst template = this.template(templateId, ability, 'NODEFAULT');\r\n\t\t\treturn line1 + template.replace('[POKEMON]', this.pokemon(pokemon));\r\n\t\t}\r\n\r\n\t\tcase '-endability': {\r\n\t\t\tlet [, pokemon, ability] = args;\r\n\t\t\tif (ability) return this.ability(ability, pokemon);\r\n\t\t\tconst line1 = this.maybeAbility(kwArgs.from, kwArgs.of || pokemon);\r\n\t\t\tconst template = this.template('start', 'Gastro Acid');\r\n\t\t\treturn line1 + template.replace('[POKEMON]', this.pokemon(pokemon));\r\n\t\t}\r\n\r\n\t\tcase '-item': {\r\n\t\t\tconst [, pokemon, item] = args;\r\n\t\t\tconst id = BattleTextParser.effectId(kwArgs.from);\r\n\t\t\tlet target = '';\r\n\t\t\tif (['magician', 'pickpocket'].includes(id)) {\r\n\t\t\t\t[target, kwArgs.of] = [kwArgs.of, ''];\r\n\t\t\t}\r\n\t\t\tconst line1 = this.maybeAbility(kwArgs.from, kwArgs.of || pokemon);\r\n\t\t\tif (['thief', 'covet', 'bestow', 'magician', 'pickpocket'].includes(id)) {\r\n\t\t\t\tconst template = this.template('takeItem', kwArgs.from);\r\n\t\t\t\treturn line1 + template.replace('[POKEMON]', this.pokemon(pokemon)).replace('[ITEM]', this.effect(item))\r\n\t\t\t\t\t.replace('[SOURCE]', this.pokemon(target || kwArgs.of));\r\n\t\t\t}\r\n\t\t\tif (id === 'frisk') {\r\n\t\t\t\tconst hasTarget = kwArgs.of && pokemon && kwArgs.of !== pokemon;\r\n\t\t\t\tconst template = this.template(hasTarget ? 'activate' : 'activateNoTarget', \"Frisk\");\r\n\t\t\t\treturn line1 + template.replace('[POKEMON]', this.pokemon(kwArgs.of)).replace('[ITEM]', this.effect(item))\r\n\t\t\t\t\t.replace('[TARGET]', this.pokemon(pokemon));\r\n\t\t\t}\r\n\t\t\tif (kwArgs.from) {\r\n\t\t\t\tconst template = this.template('addItem', kwArgs.from);\r\n\t\t\t\treturn line1 + template.replace('[POKEMON]', this.pokemon(pokemon)).replace('[ITEM]', this.effect(item));\r\n\t\t\t}\r\n\t\t\tconst template = this.template('start', item, 'NODEFAULT');\r\n\t\t\treturn line1 + template.replace('[POKEMON]', this.pokemon(pokemon));\r\n\t\t}\r\n\r\n\t\tcase '-enditem': {\r\n\t\t\tlet [, pokemon, item] = args;\r\n\t\t\tconst line1 = this.maybeAbility(kwArgs.from, kwArgs.of || pokemon);\r\n\t\t\tif (kwArgs.eat) {\r\n\t\t\t\tconst template = this.template('eatItem', kwArgs.from);\r\n\t\t\t\treturn line1 + template.replace('[POKEMON]', this.pokemon(pokemon)).replace('[ITEM]', this.effect(item));\r\n\t\t\t}\r\n\t\t\tconst id = BattleTextParser.effectId(kwArgs.from);\r\n\t\t\tif (id === 'gem') {\r\n\t\t\t\tconst template = this.template('useGem', item);\r\n\t\t\t\treturn line1 + template.replace('[POKEMON]', this.pokemon(pokemon)).replace('[ITEM]', this.effect(item))\r\n\t\t\t\t\t.replace('[MOVE]', kwArgs.move);\r\n\t\t\t}\r\n\t\t\tif (id === 'stealeat') {\r\n\t\t\t\tconst template = this.template('removeItem', \"Bug Bite\");\r\n\t\t\t\treturn line1 + template.replace('[SOURCE]', this.pokemon(kwArgs.of)).replace('[ITEM]', this.effect(item));\r\n\t\t\t}\r\n\t\t\tif (kwArgs.from) {\r\n\t\t\t\tconst template = this.template('removeItem', kwArgs.from);\r\n\t\t\t\treturn line1 + template.replace('[POKEMON]', this.pokemon(pokemon)).replace('[ITEM]', this.effect(item))\r\n\t\t\t\t\t.replace('[SOURCE]', this.pokemon(kwArgs.of));\r\n\t\t\t}\r\n\t\t\tif (kwArgs.weaken) {\r\n\t\t\t\tconst template = this.template('activateWeaken');\r\n\t\t\t\treturn line1 + template.replace('[POKEMON]', this.pokemon(pokemon)).replace('[ITEM]', this.effect(item));\r\n\t\t\t}\r\n\t\t\tlet template = this.template('end', item, 'NODEFAULT');\r\n\t\t\tif (!template) template = this.template('activateItem').replace('[ITEM]', this.effect(item));\r\n\t\t\treturn line1 + template.replace('[POKEMON]', this.pokemon(pokemon)).replace('[TARGET]', this.pokemon(kwArgs.of));\r\n\t\t}\r\n\r\n\t\tcase '-status': {\r\n\t\t\tconst [, pokemon, status] = args;\r\n\t\t\tconst line1 = this.maybeAbility(kwArgs.from, kwArgs.of || pokemon);\r\n\t\t\tif (kwArgs.from?.startsWith('item:')) {\r\n\t\t\t\tconst template = this.template('startFromItem', status);\r\n\t\t\t\treturn line1 + template.replace('[POKEMON]', this.pokemon(pokemon)).replace('[ITEM]', this.effect(kwArgs.from));\r\n\t\t\t}\r\n\t\t\tif (BattleTextParser.effectId(kwArgs.from) === 'rest') {\r\n\t\t\t\tconst template = this.template('startFromRest', status);\r\n\t\t\t\treturn line1 + template.replace('[POKEMON]', this.pokemon(pokemon));\r\n\t\t\t}\r\n\t\t\tconst template = this.template('start', status);\r\n\t\t\treturn line1 + template.replace('[POKEMON]', this.pokemon(pokemon));\r\n\t\t}\r\n\r\n\t\tcase '-curestatus': {\r\n\t\t\tconst [, pokemon, status] = args;\r\n\t\t\tif (BattleTextParser.effectId(kwArgs.from) === 'naturalcure') {\r\n\t\t\t\tconst template = this.template('activate', kwArgs.from);\r\n\t\t\t\treturn template.replace('[POKEMON]', this.pokemon(pokemon));\r\n\t\t\t}\r\n\t\t\tconst line1 = this.maybeAbility(kwArgs.from, kwArgs.of || pokemon);\r\n\t\t\tif (kwArgs.from?.startsWith('item:')) {\r\n\t\t\t\tconst template = this.template('endFromItem', status);\r\n\t\t\t\treturn line1 + template.replace('[POKEMON]', this.pokemon(pokemon)).replace('[ITEM]', this.effect(kwArgs.from));\r\n\t\t\t}\r\n\t\t\tif (kwArgs.thaw) {\r\n\t\t\t\tconst template = this.template('endFromMove', status);\r\n\t\t\t\treturn line1 + template.replace('[POKEMON]', this.pokemon(pokemon)).replace('[MOVE]', this.effect(kwArgs.from));\r\n\t\t\t}\r\n\t\t\tlet template = this.template('end', status, 'NODEFAULT');\r\n\t\t\tif (!template) template = this.template('end').replace('[EFFECT]', status);\r\n\t\t\treturn line1 + template.replace('[POKEMON]', this.pokemon(pokemon));\r\n\t\t}\r\n\r\n\t\tcase '-cureteam': {\r\n\t\t\treturn this.template('activate', kwArgs.from);\r\n\t\t}\r\n\r\n\t\tcase '-singleturn': case '-singlemove': {\r\n\t\t\tconst [, pokemon, effect] = args;\r\n\t\t\tconst line1 = this.maybeAbility(effect, kwArgs.of || pokemon) ||\r\n\t\t\t\tthis.maybeAbility(kwArgs.from, kwArgs.of || pokemon);\r\n\t\t\tlet id = BattleTextParser.effectId(effect);\r\n\t\t\tif (id === 'instruct') {\r\n\t\t\t\tconst template = this.template('activate', effect);\r\n\t\t\t\treturn line1 + template.replace('[POKEMON]', this.pokemon(kwArgs.of)).replace('[TARGET]', this.pokemon(pokemon));\r\n\t\t\t}\r\n\t\t\tlet template = this.template('start', effect, 'NODEFAULT');\r\n\t\t\tif (!template) template = this.template('start').replace('[EFFECT]', this.effect(effect));\r\n\t\t\treturn line1 + template.replace('[POKEMON]', this.pokemon(pokemon)).replace('[SOURCE]', this.pokemon(kwArgs.of))\r\n\t\t\t\t.replace('[TEAM]', this.team(pokemon.slice(0, 2)));\r\n\t\t}\r\n\r\n\t\tcase '-sidestart': {\r\n\t\t\tlet [, side, effect] = args;\r\n\t\t\tlet template = this.template('start', effect, 'NODEFAULT');\r\n\t\t\tif (!template) template = this.template('startTeamEffect').replace('[EFFECT]', this.effect(effect));\r\n\t\t\treturn template.replace('[TEAM]', this.team(side)).replace('[PARTY]', this.party(side));\r\n\t\t}\r\n\r\n\t\tcase '-sideend': {\r\n\t\t\tlet [, side, effect] = args;\r\n\t\t\tlet template = this.template('end', effect, 'NODEFAULT');\r\n\t\t\tif (!template) template = this.template('endTeamEffect').replace('[EFFECT]', this.effect(effect));\r\n\t\t\treturn template.replace('[TEAM]', this.team(side)).replace('[PARTY]', this.party(side));\r\n\t\t}\r\n\r\n\t\tcase '-weather': {\r\n\t\t\tconst [, weather] = args;\r\n\t\t\tif (!weather || weather === 'none') {\r\n\t\t\t\tconst template = this.template('end', kwArgs.from, 'NODEFAULT');\r\n\t\t\t\tif (!template) return this.template('endFieldEffect').replace('[EFFECT]', this.effect(weather));\r\n\t\t\t\treturn template;\r\n\t\t\t}\r\n\t\t\tif (kwArgs.upkeep) {\r\n\t\t\t\treturn this.template('upkeep', weather, 'NODEFAULT');\r\n\t\t\t}\r\n\t\t\tconst line1 = this.maybeAbility(kwArgs.from, kwArgs.of);\r\n\t\t\tlet template = this.template('start', weather, 'NODEFAULT');\r\n\t\t\tif (!template) template = this.template('startFieldEffect').replace('[EFFECT]', this.effect(weather));\r\n\t\t\treturn line1 + template;\r\n\t\t}\r\n\r\n\t\tcase '-fieldstart': case '-fieldactivate': {\r\n\t\t\tconst [, effect] = args;\r\n\t\t\tconst line1 = this.maybeAbility(kwArgs.from, kwArgs.of);\r\n\t\t\tif (BattleTextParser.effectId(kwArgs.from) === 'hadronengine') {\r\n\t\t\t\treturn line1 + this.template('start', 'hadronengine').replace('[POKEMON]', this.pokemon(kwArgs.of));\r\n\t\t\t}\r\n\t\t\tlet templateId = cmd.slice(6);\r\n\t\t\tif (BattleTextParser.effectId(effect) === 'perishsong') templateId = 'start';\r\n\t\t\tlet template = this.template(templateId, effect, 'NODEFAULT');\r\n\t\t\tif (!template) template = this.template('startFieldEffect').replace('[EFFECT]', this.effect(effect));\r\n\t\t\treturn line1 + template.replace('[POKEMON]', this.pokemon(kwArgs.of));\r\n\t\t}\r\n\r\n\t\tcase '-fieldend': {\r\n\t\t\tlet [, effect] = args;\r\n\t\t\tlet template = this.template('end', effect, 'NODEFAULT');\r\n\t\t\tif (!template) template = this.template('endFieldEffect').replace('[EFFECT]', this.effect(effect));\r\n\t\t\treturn template;\r\n\t\t}\r\n\r\n\t\tcase '-sethp': {\r\n\t\t\tlet effect = kwArgs.from;\r\n\t\t\treturn this.template('activate', effect);\r\n\t\t}\r\n\r\n\t\tcase '-message': {\r\n\t\t\tlet [, message] = args;\r\n\t\t\treturn '  ' + message + '\\n';\r\n\t\t}\r\n\r\n\t\tcase '-hint': {\r\n\t\t\tlet [, message] = args;\r\n\t\t\treturn '  (' + message + ')\\n';\r\n\t\t}\r\n\r\n\t\tcase '-activate': {\r\n\t\t\tlet [, pokemon, effect, target] = args;\r\n\t\t\tlet id = BattleTextParser.effectId(effect);\r\n\t\t\tif (id === 'celebrate') {\r\n\t\t\t\treturn this.template('activate', 'celebrate').replace('[TRAINER]', this.trainer(pokemon.slice(0, 2)));\r\n\t\t\t}\r\n\t\t\tif (!target &&\r\n\t\t\t\t['hyperdrill', 'hyperspacefury', 'hyperspacehole', 'phantomforce', 'shadowforce', 'feint'].includes(id)) {\r\n\t\t\t\t[pokemon, target] = [kwArgs.of, pokemon];\r\n\t\t\t\tif (!pokemon) pokemon = target;\r\n\t\t\t}\r\n\t\t\tif (!target) target = kwArgs.of || pokemon;\r\n\r\n\t\t\tlet line1 = this.maybeAbility(effect, pokemon);\r\n\r\n\t\t\tif (id === 'lockon' || id === 'mindreader') {\r\n\t\t\t\tconst template = this.template('start', effect);\r\n\t\t\t\treturn line1 + template.replace('[POKEMON]', this.pokemon(kwArgs.of)).replace('[SOURCE]', this.pokemon(pokemon));\r\n\t\t\t}\r\n\r\n\t\t\tif ((id === 'mummy' || id === 'lingeringaroma') && kwArgs.ability) {\r\n\t\t\t\tline1 += this.ability(kwArgs.ability, target);\r\n\t\t\t\tline1 += this.ability(id === 'mummy' ? 'Mummy' : 'Lingering Aroma', target);\r\n\t\t\t\tconst template = this.template('changeAbility', id);\r\n\t\t\t\treturn line1 + template.replace('[TARGET]', this.pokemon(target));\r\n\t\t\t}\r\n\r\n\t\t\tif (id === 'commander') {\r\n\t\t\t\t// Commander didn't have a message prior to v1.2.0 of SV\r\n\t\t\t\t// so this is for backwards compatibility\r\n\t\t\t\tif (target === pokemon) return line1;\r\n\t\t\t\tconst template = this.template('activate', id);\r\n\t\t\t\treturn line1 + template.replace('[POKEMON]', this.pokemon(pokemon)).replace(/\\[TARGET\\]/g, this.pokemon(target));\r\n\t\t\t}\r\n\r\n\t\t\tlet templateId = 'activate';\r\n\t\t\tif (id === 'forewarn' && pokemon === target) {\r\n\t\t\t\ttemplateId = 'activateNoTarget';\r\n\t\t\t}\r\n\t\t\tif ((id === 'protosynthesis' || id === 'quarkdrive') && kwArgs.fromitem) {\r\n\t\t\t\ttemplateId = 'activateFromItem';\r\n\t\t\t}\r\n\t\t\tif (id === 'orichalcumpulse' && kwArgs.source) {\r\n\t\t\t\ttemplateId = 'start';\r\n\t\t\t}\r\n\t\t\tlet template = this.template(templateId, effect, 'NODEFAULT');\r\n\t\t\tif (!template) {\r\n\t\t\t\tif (line1) return line1; // Abilities don't have a default template\r\n\t\t\t\ttemplate = this.template('activate');\r\n\t\t\t\treturn line1 + template.replace('[EFFECT]', this.effect(effect));\r\n\t\t\t}\r\n\r\n\t\t\tif (id === 'brickbreak') {\r\n\t\t\t\ttemplate = template.replace('[TEAM]', this.team(target.slice(0, 2)));\r\n\t\t\t}\r\n\t\t\tif (kwArgs.ability) {\r\n\t\t\t\tline1 += this.ability(kwArgs.ability, pokemon);\r\n\t\t\t}\r\n\t\t\tif (kwArgs.ability2) {\r\n\t\t\t\tline1 += this.ability(kwArgs.ability2, target);\r\n\t\t\t}\r\n\t\t\tif (kwArgs.move || kwArgs.number || kwArgs.item || kwArgs.name) {\r\n\t\t\t\ttemplate = template.replace('[MOVE]', kwArgs.move).replace('[NUMBER]', kwArgs.number)\r\n\t\t\t\t\t.replace('[ITEM]', kwArgs.item).replace('[NAME]', kwArgs.name);\r\n\t\t\t}\r\n\t\t\treturn line1 + template.replace('[POKEMON]', this.pokemon(pokemon)).replace('[TARGET]', this.pokemon(target))\r\n\t\t\t\t.replace('[SOURCE]', this.pokemon(kwArgs.of));\r\n\t\t}\r\n\r\n\t\tcase '-prepare': {\r\n\t\t\tconst [, pokemon, effect, target] = args;\r\n\t\t\tconst template = this.template('prepare', effect);\r\n\t\t\treturn template.replace('[POKEMON]', this.pokemon(pokemon)).replace('[TARGET]', this.pokemon(target));\r\n\t\t}\r\n\r\n\t\tcase '-damage': {\r\n\t\t\tlet [, pokemon, , percentage] = args;\r\n\t\t\tlet template = this.template('damage', kwArgs.from, 'NODEFAULT');\r\n\t\t\tconst line1 = this.maybeAbility(kwArgs.from, kwArgs.of || pokemon);\r\n\t\t\tconst id = BattleTextParser.effectId(kwArgs.from);\r\n\t\t\tif (template) {\r\n\t\t\t\treturn line1 + template.replace('[POKEMON]', this.pokemon(pokemon));\r\n\t\t\t}\r\n\r\n\t\t\tif (!kwArgs.from) {\r\n\t\t\t\ttemplate = this.template(percentage ? 'damagePercentage' : 'damage');\r\n\t\t\t\treturn line1 + template.replace('[POKEMON]', this.pokemon(pokemon)).replace('[PERCENTAGE]', percentage);\r\n\t\t\t}\r\n\t\t\tif (kwArgs.from.startsWith('item:')) {\r\n\t\t\t\ttemplate = this.template(kwArgs.of ? 'damageFromPokemon' : 'damageFromItem');\r\n\t\t\t\treturn line1 + template.replace('[POKEMON]', this.pokemon(pokemon)).replace('[ITEM]', this.effect(kwArgs.from))\r\n\t\t\t\t\t.replace('[SOURCE]', this.pokemon(kwArgs.of));\r\n\t\t\t}\r\n\t\t\tif (kwArgs.partiallytrapped || id === 'bind' || id === 'wrap') {\r\n\t\t\t\ttemplate = this.template('damageFromPartialTrapping');\r\n\t\t\t\treturn line1 + template.replace('[POKEMON]', this.pokemon(pokemon)).replace('[MOVE]', this.effect(kwArgs.from));\r\n\t\t\t}\r\n\r\n\t\t\ttemplate = this.template('damage');\r\n\t\t\treturn line1 + template.replace('[POKEMON]', this.pokemon(pokemon));\r\n\t\t}\r\n\r\n\t\tcase '-heal': {\r\n\t\t\tlet [, pokemon] = args;\r\n\t\t\tlet template = this.template('heal', kwArgs.from, 'NODEFAULT');\r\n\t\t\tconst line1 = this.maybeAbility(kwArgs.from, kwArgs.of || pokemon);\r\n\t\t\tif (template) {\r\n\t\t\t\treturn line1 + template.replace('[POKEMON]', this.pokemon(pokemon)).replace('[SOURCE]', this.pokemon(kwArgs.of))\r\n\t\t\t\t\t.replace('[NICKNAME]', kwArgs.wisher);\r\n\t\t\t}\r\n\r\n\t\t\tif (kwArgs.from && !kwArgs.from.startsWith('ability:')) {\r\n\t\t\t\ttemplate = this.template('healFromEffect');\r\n\t\t\t\treturn line1 + template.replace('[POKEMON]', this.pokemon(pokemon)).replace('[EFFECT]', this.effect(kwArgs.from));\r\n\t\t\t}\r\n\r\n\t\t\ttemplate = this.template('heal');\r\n\t\t\treturn line1 + template.replace('[POKEMON]', this.pokemon(pokemon));\r\n\t\t}\r\n\r\n\t\tcase '-boost': case '-unboost': {\r\n\t\t\tlet [, pokemon, stat, num] = args;\r\n\t\t\tif (stat === 'spa' && this.gen === 1) stat = 'spc';\r\n\t\t\tconst amount = parseInt(num, 10);\r\n\t\t\tconst line1 = this.maybeAbility(kwArgs.from, kwArgs.of || pokemon);\r\n\t\t\tlet templateId = cmd.slice(1);\r\n\t\t\tif (amount >= 3) templateId += '3';\r\n\t\t\telse if (amount >= 2) templateId += '2';\r\n\t\t\telse if (amount === 0) templateId += '0';\r\n\t\t\tif (amount && kwArgs.zeffect) {\r\n\t\t\t\ttemplateId += (kwArgs.multiple ? 'MultipleFromZEffect' : 'FromZEffect');\r\n\t\t\t} else if (amount && kwArgs.from?.startsWith('item:')) {\r\n\t\t\t\tconst template = this.template(templateId + 'FromItem', kwArgs.from);\r\n\t\t\t\treturn line1 + template.replace('[POKEMON]', this.pokemon(pokemon)).replace('[STAT]', BattleTextParser.stat(stat))\r\n\t\t\t\t\t.replace('[ITEM]', this.effect(kwArgs.from));\r\n\t\t\t}\r\n\t\t\tconst template = this.template(templateId, kwArgs.from);\r\n\t\t\treturn line1 + template.replace(/\\[POKEMON\\]/g, this.pokemon(pokemon)).replace('[STAT]', BattleTextParser.stat(stat));\r\n\t\t}\r\n\r\n\t\tcase '-setboost': {\r\n\t\t\tconst [, pokemon] = args;\r\n\t\t\tconst effect = kwArgs.from;\r\n\t\t\tconst line1 = this.maybeAbility(effect, kwArgs.of || pokemon);\r\n\t\t\tconst template = this.template('boost', effect);\r\n\t\t\treturn line1 + template.replace('[POKEMON]', this.pokemon(pokemon));\r\n\t\t}\r\n\r\n\t\tcase '-swapboost': {\r\n\t\t\tconst [, pokemon, target] = args;\r\n\t\t\tconst line1 = this.maybeAbility(kwArgs.from, kwArgs.of || pokemon);\r\n\t\t\tconst id = BattleTextParser.effectId(kwArgs.from);\r\n\t\t\tlet templateId = 'swapBoost';\r\n\t\t\tif (id === 'guardswap') templateId = 'swapDefensiveBoost';\r\n\t\t\tif (id === 'powerswap') templateId = 'swapOffensiveBoost';\r\n\t\t\tconst template = this.template(templateId, kwArgs.from);\r\n\t\t\treturn line1 + template.replace('[POKEMON]', this.pokemon(pokemon)).replace('[TARGET]', this.pokemon(target));\r\n\t\t}\r\n\r\n\t\tcase '-copyboost': {\r\n\t\t\tconst [, pokemon, target] = args;\r\n\t\t\tconst line1 = this.maybeAbility(kwArgs.from, kwArgs.of || pokemon);\r\n\t\t\tconst template = this.template('copyBoost', kwArgs.from);\r\n\t\t\treturn line1 + template.replace('[POKEMON]', this.pokemon(pokemon)).replace('[TARGET]', this.pokemon(target));\r\n\t\t}\r\n\r\n\t\tcase '-clearboost': case '-clearpositiveboost': case '-clearnegativeboost': {\r\n\t\t\tconst [, pokemon, source] = args;\r\n\t\t\tconst line1 = this.maybeAbility(kwArgs.from, kwArgs.of || pokemon);\r\n\t\t\tlet templateId = 'clearBoost';\r\n\t\t\tif (kwArgs.zeffect) templateId = 'clearBoostFromZEffect';\r\n\t\t\tconst template = this.template(templateId, kwArgs.from);\r\n\t\t\treturn line1 + template.replace('[POKEMON]', this.pokemon(pokemon)).replace('[SOURCE]', this.pokemon(source));\r\n\t\t}\r\n\r\n\t\tcase '-invertboost': {\r\n\t\t\tconst [, pokemon] = args;\r\n\t\t\tconst line1 = this.maybeAbility(kwArgs.from, kwArgs.of || pokemon);\r\n\t\t\tconst template = this.template('invertBoost', kwArgs.from);\r\n\t\t\treturn line1 + template.replace('[POKEMON]', this.pokemon(pokemon));\r\n\t\t}\r\n\r\n\t\tcase '-clearallboost': {\r\n\t\t\treturn this.template('clearAllBoost', kwArgs.from);\r\n\t\t}\r\n\r\n\t\tcase '-crit': case '-supereffective': case '-resisted': {\r\n\t\t\tconst [, pokemon] = args;\r\n\t\t\tlet templateId = cmd.slice(1);\r\n\t\t\tif (templateId === 'supereffective') templateId = 'superEffective';\r\n\t\t\tif (kwArgs.spread) templateId += 'Spread';\r\n\t\t\tconst template = this.template(templateId);\r\n\t\t\treturn template.replace('[POKEMON]', this.pokemon(pokemon));\r\n\t\t}\r\n\r\n\t\tcase '-block': {\r\n\t\t\tlet [, pokemon, effect, move, attacker] = args;\r\n\t\t\tconst line1 = this.maybeAbility(effect, kwArgs.of || pokemon);\r\n\t\t\tconst template = this.template('block', effect);\r\n\t\t\treturn line1 + template.replace('[POKEMON]', this.pokemon(pokemon))\r\n\t\t\t\t.replace('[SOURCE]', this.pokemon(attacker || kwArgs.of)).replace('[MOVE]', move);\r\n\t\t}\r\n\r\n\t\tcase '-fail': {\r\n\t\t\tlet [, pokemon, effect, stat] = args;\r\n\t\t\tlet id = BattleTextParser.effectId(effect);\r\n\t\t\tlet blocker = BattleTextParser.effectId(kwArgs.from);\r\n\t\t\tconst line1 = this.maybeAbility(kwArgs.from, kwArgs.of || pokemon);\r\n\t\t\tlet templateId = 'block';\r\n\t\t\tif (['desolateland', 'primordialsea'].includes(blocker) &&\r\n\t\t\t\t!['sunnyday', 'raindance', 'sandstorm', 'hail', 'snowscape', 'chillyreception'].includes(id)) {\r\n\t\t\t\ttemplateId = 'blockMove';\r\n\t\t\t} else if (blocker === 'uproar' && kwArgs.msg) {\r\n\t\t\t\ttemplateId = 'blockSelf';\r\n\t\t\t}\r\n\t\t\tlet template = this.template(templateId, kwArgs.from);\r\n\t\t\tif (template) {\r\n\t\t\t\treturn line1 + template.replace('[POKEMON]', this.pokemon(pokemon));\r\n\t\t\t}\r\n\r\n\t\t\tif (id === 'unboost') {\r\n\t\t\t\ttemplate = this.template(stat ? 'failSingular' : 'fail', 'unboost');\r\n\t\t\t\treturn line1 + template.replace('[POKEMON]', this.pokemon(pokemon)).replace('[STAT]', stat);\r\n\t\t\t}\r\n\r\n\t\t\ttemplateId = 'fail';\r\n\t\t\tif (['brn', 'frz', 'par', 'psn', 'slp', 'substitute', 'shedtail'].includes(id)) {\r\n\t\t\t\ttemplateId = 'alreadyStarted';\r\n\t\t\t}\r\n\t\t\tif (kwArgs.heavy) templateId = 'failTooHeavy';\r\n\t\t\tif (kwArgs.weak) templateId = 'fail';\r\n\t\t\tif (kwArgs.forme) templateId = 'failWrongForme';\r\n\t\t\ttemplate = this.template(templateId, id);\r\n\t\t\treturn line1 + template.replace('[POKEMON]', this.pokemon(pokemon));\r\n\t\t}\r\n\r\n\t\tcase '-immune': {\r\n\t\t\tconst [, pokemon] = args;\r\n\t\t\tconst line1 = this.maybeAbility(kwArgs.from, kwArgs.of || pokemon);\r\n\t\t\tlet template = this.template('block', kwArgs.from);\r\n\t\t\tif (!template) {\r\n\t\t\t\tconst templateId = kwArgs.ohko ? 'immuneOHKO' : 'immune';\r\n\t\t\t\ttemplate = this.template(pokemon ? templateId : 'immuneNoPokemon', kwArgs.from);\r\n\t\t\t}\r\n\t\t\treturn line1 + template.replace('[POKEMON]', this.pokemon(pokemon));\r\n\t\t}\r\n\r\n\t\tcase '-miss': {\r\n\t\t\tconst [, source, pokemon] = args;\r\n\t\t\tconst line1 = this.maybeAbility(kwArgs.from, kwArgs.of || pokemon);\r\n\t\t\tif (!pokemon) {\r\n\t\t\t\tconst template = this.template('missNoPokemon');\r\n\t\t\t\treturn line1 + template.replace('[SOURCE]', this.pokemon(source));\r\n\t\t\t}\r\n\t\t\tconst template = this.template('miss');\r\n\t\t\treturn line1 + template.replace('[POKEMON]', this.pokemon(pokemon));\r\n\t\t}\r\n\r\n\t\tcase '-center': case '-ohko': case '-combine': {\r\n\t\t\treturn this.template(cmd.slice(1));\r\n\t\t}\r\n\r\n\t\tcase '-notarget': {\r\n\t\t\treturn this.template('noTarget');\r\n\t\t}\r\n\r\n\t\tcase '-mega': case '-primal': {\r\n\t\t\tconst [, pokemon, species, item] = args;\r\n\t\t\tlet id = '';\r\n\t\t\tlet templateId = cmd.slice(1);\r\n\t\t\tif (species === 'Rayquaza') {\r\n\t\t\t\tid = 'dragonascent';\r\n\t\t\t\ttemplateId = 'megaNoItem';\r\n\t\t\t}\r\n\t\t\tif (!item && cmd === '-mega') templateId = 'megaNoItem';\r\n\t\t\tlet template = this.template(templateId, id);\r\n\t\t\tconst side = pokemon.slice(0, 2);\r\n\t\t\tconst pokemonName = this.pokemon(pokemon);\r\n\t\t\tif (cmd === '-mega') {\r\n\t\t\t\tconst template2 = this.template('transformMega');\r\n\t\t\t\ttemplate += template2.replace('[POKEMON]', pokemonName).replace('[SPECIES]', species);\r\n\t\t\t}\r\n\t\t\treturn template.replace('[POKEMON]', pokemonName).replace('[ITEM]', item).replace('[TRAINER]', this.trainer(side));\r\n\t\t}\r\n\r\n\t\tcase '-terastallize': {\r\n\t\t\tconst [, pokemon, type] = args;\r\n\t\t\tlet id = '';\r\n\t\t\tlet templateId = cmd.slice(1);\r\n\t\t\tlet template = this.template(templateId, id);\r\n\t\t\tconst pokemonName = this.pokemon(pokemon);\r\n\t\t\treturn template.replace('[POKEMON]', pokemonName).replace('[TYPE]', type);\r\n\t\t}\r\n\r\n\t\tcase '-zpower': {\r\n\t\t\tconst [, pokemon] = args;\r\n\t\t\tconst template = this.template('zPower');\r\n\t\t\treturn template.replace('[POKEMON]', this.pokemon(pokemon));\r\n\t\t}\r\n\r\n\t\tcase '-burst': {\r\n\t\t\tconst [, pokemon] = args;\r\n\t\t\tconst template = this.template('activate', \"Ultranecrozium Z\");\r\n\t\t\treturn template.replace('[POKEMON]', this.pokemon(pokemon));\r\n\t\t}\r\n\r\n\t\tcase '-zbroken': {\r\n\t\t\tconst [, pokemon] = args;\r\n\t\t\tconst template = this.template('zBroken');\r\n\t\t\treturn template.replace('[POKEMON]', this.pokemon(pokemon));\r\n\t\t}\r\n\r\n\t\tcase '-hitcount': {\r\n\t\t\tconst [, , num] = args;\r\n\t\t\tif (num === '1') {\r\n\t\t\t\treturn this.template('hitCountSingular');\r\n\t\t\t}\r\n\t\t\treturn this.template('hitCount').replace('[NUMBER]', num);\r\n\t\t}\r\n\r\n\t\tcase '-waiting': {\r\n\t\t\tconst [, pokemon, target] = args;\r\n\t\t\tconst template = this.template('activate', \"Water Pledge\");\r\n\t\t\treturn template.replace('[POKEMON]', this.pokemon(pokemon)).replace('[TARGET]', this.pokemon(target));\r\n\t\t}\r\n\r\n\t\tcase '-anim': {\r\n\t\t\treturn '';\r\n\t\t}\r\n\r\n\t\tdefault: {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\ndeclare const require: any;\r\ndeclare const global: any;\r\nif (typeof require === 'function') {\r\n\t// in Node\r\n\tglobal.BattleTextParser = BattleTextParser;\r\n}\r\n"]}