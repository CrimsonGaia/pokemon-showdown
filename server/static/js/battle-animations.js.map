{"version":3,"file":"battle-animations.js","names":["BattleScene","battle","$frame","$logFrame","_this","animating","acceleration","gen","mod","activeCount","numericId","$battle","$options","log","$terrain","$weather","$bgEffect","$bg","$sprite","$sprites","$spritesFront","$stat","$fx","$leftbar","$rightbar","$battleteambar","$turn","$messagebar","$delay","$hiddenMessage","$tooltips","tooltips","sideConditions","preloadDone","preloadNeeded","bgm","backdropImage","bgmNum","preloadCache","messagebarOpen","customControls","interruptionCount","curWeather","curTerrain","timeOffset","pokemonTimeOffset","minDelay","activeAnimations","$","addClass","BattleLog","_logAny$add","_logAny$addDiv","logAny","origAdd","add","bind","ret","apply","arguments","Promise","resolve","then","updateTeamBar","origAddDiv","addDiv","battleParser","pokemonName","pokemonId","ignoreNicks","ignoreOpponent","pokemon","getPokemon","speciesForme","startsWith","charAt","BattleTextParser","escapeReplace","slice","trim","id","parseInt","lastIndexOf","includes","Math","floor","random","BattleTooltips","listen","preloadEffects","_proto","prototype","reset","updateGen","elem","prepend","empty","append","Dex","resourcePrefix","perspective","mySide","sideid","resetSides","animationOff","find","remove","stopAnimation","css","opacity","height","finish","animationOn","fx","off","updateSidebars","_i2","_this$battle$sides2","sides","length","side","_i4","_side$pokemon2","sprite","updateWeather","resetTurn","resetSideConditions","pause","_this2","updateBgm","started","click","setMute","play","resume","muted","BattleSound","wait","time","addSprite","$el","isFrontSprite","showEffect","effect","start","end","transition","after","additionalCss","BattleEffects","$effect","url","children","last","animateEffect","scale","xscale","yscale","Object","assign","startpos","pos","endpos","posT","delay","animate","queue","endendpos","waitFor","backgroundEffect","bg","duration","undefined","background","display","loc","obj","x","y","z","left","top","width","w","h","hoffset","oldLoc","oldPos","transitionMap","startAnimations","finishAnimations","max","promise","preemptCatchup","message","_this3","addSpacer","messageFadeTime","hardcoreMode","$message","html","appendTo","maybeCloseMessagebar","args","kwArgs","sectionBreak","closeMessagebar","messageShownTime","runMoveAnim","moveid","participants","animEntry","BattleMoveAnims","targetsSelf","isSpecial","dex","moves","get","category","BattleOtherAnims","anim","map","p","runOtherAnim","runStatusAnim","BattleStatusAnims","runResidualAnim","residualAnim","runPrepareAnim","attacker","defender","moveAnim","prepareAnim","_this$battle$nearSide","prefs","nearSide","active","rated","setBgm","BattleBackdropsThree","BattleBackdropsFour","BattleBackdropsFive","BattleBackdrops","getDetailsText","_pokemon$side","name","isFar","fainted","statustext","hp","maxhp","getHPText","status","escapeHTML","getTeamBarHTML","isP1","teamSize","totalPokemon","i","getPokemonIcon","iconStyle","itemIconHTML","item","getItemIcon","getSidebarHTML","posStr","_this$battle$tier","_this$battle$tier2","noShow","isISLFormat","tier","toLowerCase","revealedPokemon","filter","ident","pokemonToShow","speciesOverage","speciesClause","Infinity","sidebarIcons","speciesTable","zoroarkRevealed","hasIllusion","species","getBaseSpecies","baseSpecies","_i6","sidebarIcon","actualIndex","indexOf","push","pokemonhtml","_sidebarIcons$_i","iconType","pokeIndex","poke","tooltipCode","n","teamPreviewCount","details","ratinghtml","rating","faded","badgehtml","badges","_i10","_side$badges$slice2","badgeData","_badgeData$split","split","type","format","_details2$split","threshold","hover","formatType","resolveAvatar","avatar","updateSidebar","gameType","updateLeftSidebar","updateRightSidebar","ally","side2","farSide","p1Side","p2Side","p1HTML","p2HTML","updateStatbars","_i12","_this$battle$sides4","_i14","_side$active2","updateStatbar","skipEmpty","_i16","_this$$sprites2","$spritesContainer","_i18","_this$battle$sides6","_side$missedPokemon","missedPokemon","destroy","PokemonSprite","leftof","isMissedPokemon","rebuildTooltips","tooltipBuf","p2b","tooltip","p2a","p1a","p1b","p2c","p1c","layout","teamPreview","newBGNum","siden","spriteIndex","viewpointSwitched","textBuf","buf","buf2","ludicoloCount","lombreCount","spriteData","getSpriteData","noScale","gender","fxPrefix","level","showJoinButtons","joinButtons","ended","p1","p2","hideJoinButtons","pseudoWeatherLeft","pWeather","sideConditionLeft","cond","isFoe","all","weatherLeft","weatherhtml","weather","weatherNameTable","sunnyday","desolateland","raindance","primordialsea","sandstorm","hail","snowscape","deltastream","turbulentwinds","weatherMinTimeLeft","weatherTimeLeft","nullifyWeather","abilityActive","_i20","_this$battle$pseudoWe2","pseudoWeather","sideConditionsLeft","upkeepWeather","isIntense","instant","_this4","terrain","terrainTurns","_i22","_this$battle$pseudoWe4","pseudoWeatherData","toID","_i24","_this$battle$sides8","terrainNameTable","electricterrain","grassyterrain","mistyterrain","psychicterrain","toxicterrain","terrainhtml","attr","turn","incrementTurn","$prevTurn","$newTurn","updateAcceleration","turnsSinceMoved","min","addPokemonSprite","addSideCondition","auroraveil","Sprite","behind","reflect","safeguard","lightscreen","mist","rock1","rock2","rock3","rock4","surge1","greenmetal1","surge2","greenmetal2","surge3","spikeArray","levels","spike1","caltrop","spike2","spike3","tspikeArray","tspikeLevels","tspike1","poisoncaltrop","tspike2","web","removeSideCondition","_i26","_this$sideConditions$2","typeAnim","types","result","encodeURIComponent","join","resultAnim","abilityActivateAnim","damageAnim","damage","$statbar","updateHPText","$hp","hpWidth","hpcolor","getHPColor","callback","healAnim","removeClass","removeEffect","addEffect","animSummon","slot","animUnsummon","animDragIn","animDragOut","resetStatbar","startHidden","updatePrevhp","updateHp","updateStatbarIfExists","animTransform","useSpeciesAnim","isPermanent","clearEffects","removeTransform","animFaint","animReset","beforeMove","afterMove","setFrameHTML","setControlsHTML","$controls","parent","preloadImage","_this5","token","replace","Image","onload","src","rollBgm","loadBgm","nowPlaying","paused","resetBgm","stop","ratio","scene","sp","rawHTML","pixelated","_proto2","_Sprite2","_this6","call","forme","cryurl","subsp","$sub","isSubActive","oldsp","statbarLeft","statbarTop","effects","_inheritsLoose","_proto3","_ref","behindx","offset","behindy","animSub","noAnim","animSubFade","_i28","_this$scene$battle$si2","_i30","_side$active4","_this7","done","removeSub","volatiles","formechange","dynamax","terastallize","$newEl","isActive","recalculatePos","turnstatuses","movestatuses","moreActive","statbarOffset","isFFA","isRightSide","prependTo","hasVolatile","playEffect","shiny","dogarsCheck","hide","_this8","_this9","speciesid","getSpeciesForme","doCry","skipAnim","primalalpha","primalomega","ultraburst","powerconstruct","schoolingin","schoolingout","megaevo","replaceWith","pokeEffect","spriten","pos1","pos2","pos3","leechseed1","energyball","leechseed2","leechseed3","protect","_i32","_this$effects$id2","exec","getClassForPosition","position","getStatbarHTML","ignoreNick","symbol","terastallized","$prevhp","STATUS_ICON_PATH","statusIcons","brn","psn","tox","slp","par","frz","aura","bubbleblight","dragonblight","drowsy","fear","frostbite","file","typechange","_i34","typeadd","stat","boosts","getBoostType","getBoost","getEffectTag","getTypeList","statusbar","statusTable","label","exists","items","abilities","BattleNatures","substr","toUpperCase","$hptext","$hptextborder","reportExactHP","show","trapped","throatchop","confusion","healblock","yawn","flashfire","imprison","autotomize","miracleeye","foresight","telekinesis","transform","powertrick","curse","nightmare","attract","torment","taunt","disable","embargo","ingrain","aquaring","stockpile1","stockpile2","stockpile3","perish0","perish1","perish2","perish3","airballoon","leechseed","encore","mustrecharge","bide","magnetrise","smackdown","focusenergy","dragoncheer","slowstart","protosynthesisatk","protosynthesisdef","protosynthesisspa","protosynthesisspd","protosynthesisspe","quarkdriveatk","quarkdrivedef","quarkdrivespa","quarkdrivespd","quarkdrivespe","fallen1","fallen2","fallen3","fallen4","fallen5","noretreat","octolock","tarshot","saltcure","syrupbomb","doomdesire","futuresight","mimic","watersport","mudsport","substitute","uproar","rage","roost","quickguard","wideguard","craftyshield","matblock","maxguard","helpinghand","magiccoat","destinybond","snatch","grudge","charge","endure","focuspunch","shelltrap","powder","electrify","glaiverush","ragepowder","followme","instruct","beakblast","laserfocus","spotlight","itemremoved","clamp","firespin","infestation","magmastorm","sandtomb","snaptrap","thundercage","whirlpool","wrap","easing","ballisticUp","t","b","c","d","ballisticDown","quadUp","quadDown","wisp","poisonwisp","waterwisp","mudwisp","blackwisp","fireball","bluefireball","icicle","pinkicicle","lightning","rocks","leaf1","leaf2","bone","shadowball","electroball","mistball","iceball","flareball","moon","pokeball","fist","fist1","foot","topbite","bottombite","leftclaw","rightclaw","leftslash","rightslash","leftchop","rightchop","angry","heart","pointer","sword","impact","stare","shine","feather","shell","petal","gear","alpha","omega","rainbow","zsymbol","ultra","hitmark","window","_ref2","attack","_ref3","contactattack","_ref4","xattack","_ref5","slashattack","_ref6","clawattack","_ref7","punchattack","_ref8","bite","_ref9","kick","_ref10","fastattack","_ref11","fastanimattack","_ref12","fastanimspecial","_ref13","fastanimself","_ref14","sneakattack","_ref15","spinattack","_ref16","bound","_ref17","selfstatus","_ref18","lightstatus","_ref19","chargestatus","_ref20","heal","_ref21","_ref22","flight","_ref23","shake","_ref24","dance","_ref25","consume","_ref26","leech","_ref27","drain","_ref28","hydroshot","_ref29","sound","_ref30","gravity","_ref31","futuresighthit","_ref32","doomdesirehit","_ref33","itemoff","_ref34","anger","_ref35","bidecharge","_ref36","bideunleash","_ref37","spectralthiefboost","_ref38","_ref39","_ref40","_ref41","_ref42","_ref43","zpower","_ref44","_ref45","xf","yf","xf2","yf2","_ref46","_ref47","_ref48","_ref49","_ref50","_ref51","_ref52","flinch","_ref53","attracted","_ref54","cursed","_ref55","confused","_ref56","confusedselfhit","_ref57"],"sources":["../src/battle-animations.ts"],"sourcesContent":["/**\r\n * Pokemon Showdown Battle Animations\r\n * There are the specific resource files and scripts for misc animations\r\n * Licensing note: PS's client has complicated licensing:\r\n * - The client as a whole is AGPLv3\r\n * - The battle replay/animation engine (battle-*.ts) by itself is MIT\r\n * @author Guangcong Luo <guangcongluo@gmail.com>\r\n * @license MIT\r\n */\r\nimport type { Battle, Pokemon, Side, WeatherState } from './battle';\r\nimport type { BattleSceneStub } from './battle-scene-stub';\r\nimport { BattleMoveAnims } from './battle-animations-moves';\r\nimport { BattleLog } from './battle-log';\r\nimport { type BattleBGM, BattleSound } from './battle-sound';\r\nimport { Dex, toID, type ID, type SpriteData } from './battle-dex';\r\nimport { BattleNatures } from './battle-dex-data';\r\nimport { BattleTooltips } from './battle-tooltips';\r\nimport { BattleTextParser, type Args, type KWArgs } from './battle-text-parser';\r\n/*\r\nMost of this file is: CC0 (public domain)\r\n  <http://creativecommons.org/publicdomain/zero/1.0/>\r\nThis license DOES extend to all images in the fx/ folder, with the exception of icicle.png, lightning.png, and bone.png.\r\nicicle.png and lightning.png by Clint Bellanger are triple-licensed GPLv2/GPLv3/CC-BY-SA-3.0.\r\n  <http://opengameart.org/content/icicle-spell>\r\n  <http://opengameart.org/content/lightning-shock-spell>\r\nrocks.png, rock1.png, rock2.png by PO user \"Gilad\" is licensed GPLv3.\r\nThis license DOES NOT extend to any images in the sprites/ folder.\r\nThis license DOES NOT extend to any other files in this repository.\r\n*/\r\nexport class BattleScene implements BattleSceneStub {\r\n\tbattle: Battle;\r\n\tanimating = true;\r\n\tacceleration = 1;\r\n\t/** Note: Not the actual generation of the battle, but the gen of the sprites/background */\r\n\tgen = 7;\r\n\tmod = '';\r\n\t/** 1 = singles, 2 = doubles, 3 = triples */\r\n\tactiveCount = 1;\r\n\tnumericId = 0;\r\n\t$frame: JQuery;\r\n\t$battle: JQuery = null!;\r\n\t$options: JQuery = null!;\r\n\tlog: BattleLog;\r\n\t$terrain: JQuery = null!;\r\n\t$weather: JQuery = null!;\r\n\t$bgEffect: JQuery = null!;\r\n\t$bg: JQuery = null!;\r\n\t$sprite: JQuery = null!;\r\n\t$sprites: [JQuery, JQuery] = [null!, null!];\r\n\t$spritesFront: [JQuery, JQuery] = [null!, null!];\r\n\t$stat: JQuery = null!;\r\n\t$fx: JQuery = null!;\r\n\t$leftbar: JQuery = null!;\r\n\t$rightbar: JQuery = null!;\r\n\t$battleteambar: JQuery = null!;\r\n\t$turn: JQuery = null!;\r\n\t$messagebar: JQuery = null!;\r\n\t$delay: JQuery = null!;\r\n\t$hiddenMessage: JQuery = null!;\r\n\t$tooltips: JQuery = null!;\r\n\ttooltips: BattleTooltips;\r\n\tsideConditions: [{ [id: string]: Sprite[] }, { [id: string]: Sprite[] }] = [{}, {}];\r\n\tpreloadDone = 0;\r\n\tpreloadNeeded = 0;\r\n\tbgm: BattleBGM | null = null;\r\n\tbackdropImage = '';\r\n\tbgmNum = 0;\r\n\tpreloadCache: { [url: string]: HTMLImageElement } = {};\r\n\tmessagebarOpen = false;\r\n\tcustomControls = false;\r\n\tinterruptionCount = 1;\r\n\tcurWeather = '';\r\n\tcurTerrain = '';\r\n\t// Animation state\r\n\ttimeOffset = 0;\r\n\tpokemonTimeOffset = 0;\r\n\tminDelay = 0;\r\n\t/** jQuery objects that need to finish animating */\r\n\tactiveAnimations = $();\r\n\tconstructor(battle: Battle, $frame: JQuery, $logFrame: JQuery) {\r\n\t\tthis.battle = battle;\r\n\t\t$frame.addClass('battle');\r\n\t\tthis.$frame = $frame;\r\n\t\tthis.log = new BattleLog($logFrame[0] as HTMLDivElement, this);\r\n\t\t// --- Teambar live refresh hook ---\r\n// Item reveals and some state changes don't always trigger updateSidebars/updateSidebar,\r\n// and updateStatbars can run before pokemon.item is applied for the current line.\r\n// Hook BattleLog updates and redraw teambar on the next microtask.\r\n{\r\n\tconst logAny = this.log as any;\r\n\r\n\tconst origAdd = logAny.add?.bind(this.log);\r\n\tif (origAdd) {\r\n\t\tlogAny.add = (...args: any[]) => {\r\n\t\t\tconst ret = origAdd(...args);\r\n\t\t\tPromise.resolve().then(() => this.updateTeamBar());\r\n\t\t\treturn ret;\r\n\t\t};\r\n\t}\r\n\r\n\tconst origAddDiv = logAny.addDiv?.bind(this.log);\r\n\tif (origAddDiv) {\r\n\t\tlogAny.addDiv = (...args: any[]) => {\r\n\t\t\tconst ret = origAddDiv(...args);\r\n\t\t\tPromise.resolve().then(() => this.updateTeamBar());\r\n\t\t\treturn ret;\r\n\t\t};\r\n\t}\r\n}\r\n\t\tthis.log.battleParser!.pokemonName = (pokemonId: string) => {\r\n\t\t\tif (!pokemonId) return '';\r\n\t\t\tif (battle.ignoreNicks || battle.ignoreOpponent) {\r\n\t\t\t\tconst pokemon = battle.getPokemon(pokemonId);\r\n\t\t\t\tif (pokemon) return pokemon.speciesForme;\r\n\t\t\t}\r\n\t\t\tif (!pokemonId.startsWith('p')) return '???pokemon:' + pokemonId + '???';\r\n\t\t\tif (pokemonId.charAt(3) === ':') return BattleTextParser.escapeReplace(pokemonId.slice(4).trim());\r\n\t\t\telse if (pokemonId.charAt(2) === ':') return BattleTextParser.escapeReplace(pokemonId.slice(3).trim());\r\n\t\t\treturn '???pokemon:' + pokemonId + '???';\r\n\t\t};\r\n\t\tlet numericId = 0;\r\n\t\tif (battle.id) {\r\n\t\t\tnumericId = parseInt(battle.id.slice(battle.id.lastIndexOf('-') + 1), 10);\r\n\t\t\tif (this.battle.id.includes('digimon')) this.mod = 'digimon';\r\n\t\t}\r\n\t\tif (!numericId) { numericId = Math.floor(Math.random() * 1000000); }\r\n\t\tthis.numericId = numericId;\r\n\t\tthis.tooltips = new BattleTooltips(battle);\r\n\t\tthis.tooltips.listen($frame[0]);\r\n\t\tthis.preloadEffects();\r\n\t\t// reset() is called during battle initialization, so it doesn't need to be called here\r\n\t}\r\n\treset() {\r\n\t\tthis.updateGen();\r\n\t\t// Log frame\r\n\t\tif (this.$options) { this.log.reset(); } \r\n\t\telse {\r\n\t\t\tthis.$options = $('<div class=\"battle-options\"></div>');\r\n\t\t\t$(this.log.elem).prepend(this.$options);\r\n\t\t}\r\n\t\t// Battle frame\r\n\t\tthis.$frame.empty();\r\n\t\tthis.$battleteambar = $('<div class=\"battleteambar\" role=\"complementary\" aria-label=\"Team Preview\"></div>');\r\n\t\tthis.$battle = $('<div class=\"innerbattle\"></div>');\r\n\t\tthis.$frame.append(this.$battleteambar);\r\n\t\tthis.$frame.append(this.$battle);\r\n\t\tthis.$bg = $('<div class=\"backdrop\" style=\"background-image:url(' + Dex.resourcePrefix + this.backdropImage + ');display:block;opacity:0.8\"></div>');\r\n\t\tthis.$terrain = $('<div class=\"weather\"></div>');\r\n\t\tthis.$weather = $('<div class=\"weather\"></div>');\r\n\t\tthis.$bgEffect = $('<div></div>');\r\n\t\tthis.$sprite = $('<div></div>');\r\n\t\tthis.$sprites = [$('<div></div>'), $('<div></div>')];\r\n\t\tthis.$spritesFront = [$('<div></div>'), $('<div></div>')];\r\n\t\tthis.sideConditions = [{}, {}];\r\n\t\tthis.$sprite.append(this.$sprites[1]);\r\n\t\tthis.$sprite.append(this.$spritesFront[1]);\r\n\t\tthis.$sprite.append(this.$spritesFront[0]);\r\n\t\tthis.$sprite.append(this.$sprites[0]);\r\n\t\tthis.$stat = $('<div role=\"complementary\" aria-label=\"Active Pokemon\"></div>');\r\n\t\tthis.$fx = $('<div></div>');\r\n\t\tthis.$leftbar = $('<div class=\"leftbar\" role=\"complementary\" aria-label=\"Your Team\"></div>');\r\n\t\tthis.$rightbar = $('<div class=\"rightbar\" role=\"complementary\" aria-label=\"Opponent\\'s Team\"></div>');\r\n\t\tthis.$turn = $('<div></div>');\r\n\t\tthis.$messagebar = $('<div class=\"messagebar message\"></div>');\r\n\t\tthis.$delay = $('<div></div>');\r\n\t\tthis.$hiddenMessage = $('<div class=\"message\" style=\"position:absolute;display:block;visibility:hidden\"></div>');\r\n\t\tthis.$tooltips = $('<div class=\"tooltips\"></div>');\r\n\t\tthis.$battle.append(this.$bg);\r\n\t\tthis.$battle.append(this.$terrain);\r\n\t\tthis.$battle.append(this.$weather);\r\n\t\tthis.$battle.append(this.$bgEffect);\r\n\t\tthis.$battle.append(this.$sprite);\r\n\t\tthis.$battle.append(this.$stat);\r\n\t\tthis.$battle.append(this.$fx);\r\n\t\tthis.$battle.append(this.$leftbar);\r\n\t\tthis.$battle.append(this.$rightbar);\r\n\t\tthis.$battle.append(this.$turn);\r\n\t\tthis.$battle.append(this.$messagebar);\r\n\t\tthis.$battle.append(this.$delay);\r\n\t\tthis.$battle.append(this.$hiddenMessage);\r\n\t\tthis.$battle.append(this.$tooltips);\r\n\t\tif (!this.animating) { this.$battle.append('<div class=\"seeking\"><strong>seeking...</strong></div>'); }\r\n\t\tthis.messagebarOpen = false;\r\n\t\tthis.timeOffset = 0;\r\n\t\tthis.pokemonTimeOffset = 0;\r\n\t\tthis.curTerrain = '';\r\n\t\tthis.curWeather = '';\r\n\t\tthis.log.battleParser!.perspective = this.battle.mySide.sideid;\r\n\t\tthis.resetSides(true);\r\n\t}\r\n\tanimationOff() {\r\n\t\tthis.$battle.append('<div class=\"seeking\"><strong>seeking...</strong></div>');\r\n\t\tthis.$frame.find('div.playbutton').remove();\r\n\t\tthis.stopAnimation();\r\n\t\tthis.animating = false;\r\n\t\tthis.$messagebar.empty().css({\r\n\t\t\topacity: 0,\r\n\t\t\theight: 0,\r\n\t\t});\r\n\t}\r\n\tstopAnimation() {\r\n\t\tthis.interruptionCount++;\r\n\t\tthis.$battle.find(':animated').finish();\r\n\t\tthis.$fx.empty();\r\n\t}\r\n\tanimationOn() {\r\n\t\tif (this.animating) return;\r\n\t\t$.fx.off = false;\r\n\t\tthis.animating = true;\r\n\t\tthis.$battle.find('.seeking').remove();\r\n\t\tthis.updateSidebars();\r\n\t\tfor (const side of this.battle.sides) { for (const pokemon of side.pokemon) { pokemon.sprite.reset(pokemon); } }\r\n\t\tthis.updateWeather(true);\r\n\t\tthis.resetTurn();\r\n\t\tthis.resetSideConditions();\r\n\t}\r\n\tpause() {\r\n\t\tthis.stopAnimation();\r\n\t\tthis.updateBgm();\r\n\t\tif (!this.battle.started) {\r\n\t\t\tthis.$frame.append('<div class=\"playbutton\"><button name=\"play\" class=\"button\"><i class=\"fa fa-play\" aria-hidden=\"true\"></i> Play</button><br /><br /><button name=\"play-muted\" class=\"startsoundchooser button\" style=\"font-size:10pt\">Play (sound off)</button></div>');\r\n\t\t\tthis.$frame.find('div.playbutton button[name=play-muted]').click(() => {\r\n\t\t\t\tthis.setMute(true);\r\n\t\t\t\tthis.battle.play();\r\n\t\t\t});\r\n\t\t}\r\n\t\tthis.$frame.find('div.playbutton button[name=play]').click(() => this.battle.play());\r\n\t}\r\n\tresume() {\r\n\t\tthis.$frame.find('div.playbutton').remove();\r\n\t\tthis.updateBgm();\r\n\t}\r\n\tsetMute(muted: boolean) { BattleSound.setMute(muted); }\r\n\twait(time: number) {\r\n\t\tif (!this.animating) return;\r\n\t\tthis.timeOffset += time;\r\n\t}\r\n\t// Sprite handling\r\n\taddSprite(sprite: PokemonSprite) { if (sprite.$el) this.$sprites[+sprite.isFrontSprite].append(sprite.$el); }\r\n\tshowEffect(\r\n\t\teffect: string | SpriteData, start: ScenePos, end: ScenePos,\r\n\t\ttransition: string, after?: string, additionalCss?: JQuery.PlainObject\r\n\t) {\r\n\t\tif (typeof effect === 'string') effect = BattleEffects[effect];\r\n\t\tlet $effect = $(`<img src=\"${effect.url!}\" style=\"display:block;position:absolute\" />`);\r\n\t\tthis.$fx.append($effect);\r\n\t\tif (additionalCss) $effect.css(additionalCss);\r\n\t\t$effect = this.$fx.children().last();\r\n\t\treturn this.animateEffect($effect, effect, start, end, transition, after);\r\n\t}\r\n\tanimateEffect(\r\n\t\t$effect: JQuery, effect: string | SpriteData, start: ScenePos, end: ScenePos,\r\n\t\ttransition: string, after?: string, additionalCss?: JQuery.PlainObject\r\n\t) {\r\n\t\tif (typeof effect === 'string') effect = BattleEffects[effect];\r\n\t\tif (!start.time) start.time = 0;\r\n\t\tif (!end.time) end.time = start.time + 500;\r\n\t\tstart.time += this.timeOffset;\r\n\t\tend.time += this.timeOffset;\r\n\t\tif (!end.scale && end.scale !== 0 && start.scale) end.scale = start.scale;\r\n\t\tif (!end.xscale && end.xscale !== 0 && start.xscale) end.xscale = start.xscale;\r\n\t\tif (!end.yscale && end.yscale !== 0 && start.yscale) end.yscale = start.yscale;\r\n\t\tend = { ...start, ...end };\r\n\t\tlet startpos = this.pos(start, effect);\r\n\t\tlet endpos = this.posT(end, effect, transition, start);\r\n\t\tif (start.time) {\r\n\t\t\t$effect.css({ ...startpos, opacity: 0 });\r\n\t\t\t$effect.delay(start.time).animate({ opacity: startpos.opacity, }, 1);\r\n\t\t} else if ($effect.queue().length) { $effect.animate(startpos, 0); } \r\n\t\telse { $effect.css(startpos); }\r\n\t\t$effect.animate(endpos, end.time! - start.time);\r\n\t\tif (after === 'fade') { $effect.animate({ opacity: 0, }, 100); }\r\n\t\tif (after === 'explode') {\r\n\t\t\tif (end.scale) end.scale *= 3;\r\n\t\t\tif (end.xscale) end.xscale *= 3;\r\n\t\t\tif (end.yscale) end.yscale *= 3;\r\n\t\t\tend.opacity = 0;\r\n\t\t\tlet endendpos = this.pos(end, effect);\r\n\t\t\t$effect.animate(endendpos, 200);\r\n\t\t}\r\n\t\tthis.waitFor($effect);\r\n\t\treturn $effect;\r\n\t}\r\n\tbackgroundEffect(bg: string, duration: number, opacity = 1, delay = 0) {\r\n\t\tlet $effect = $('<div class=\"background\"></div>');\r\n\t\t$effect.css({\r\n\t\t\tbackground: bg,\r\n\t\t\tdisplay: 'block',\r\n\t\t\topacity: 0,\r\n\t\t});\r\n\t\tthis.$bgEffect.append($effect);\r\n\t\t$effect.delay(delay).animate({ opacity, }, \r\n\t\t250).delay(duration - 250);\r\n\t\t$effect.animate({ opacity: 0, }, 250);\r\n\t}\r\n\t// Converts a PS location (x, y, z, scale, xscale, yscale, opacity) to a jQuery position (top, left, width, height, opacity) suitable for passing into `jQuery#css` or `jQuery#animate`. The display property is passed through if it exists.\r\n\tpos(loc: ScenePos, obj: SpriteData) {\r\n\t\tloc = {\r\n\t\t\tx: 0,\r\n\t\t\ty: 0,\r\n\t\t\tz: 0,\r\n\t\t\tscale: 1,\r\n\t\t\topacity: 1,\r\n\t\t\t...loc,\r\n\t\t};\r\n\t\tif (!loc.xscale && loc.xscale !== 0) loc.xscale = loc.scale;\r\n\t\tif (!loc.yscale && loc.yscale !== 0) loc.yscale = loc.scale;\r\n\t\tlet left = 210;\r\n\t\tlet top = 245;\r\n\t\tlet scale = (obj.gen === 5 ?\r\n\t\t\t2.0 - ((loc.z!) / 200) :\r\n\t\t\t1.5 - 0.5 * ((loc.z!) / 200));\r\n\t\tif (scale < 0.1) scale = 0.1;\r\n\t\tleft += (410 - 190) * ((loc.z!) / 200);\r\n\t\ttop += (135 - 245) * ((loc.z!) / 200);\r\n\t\tleft += Math.floor(loc.x! * scale);\r\n\t\ttop -= Math.floor(loc.y! * scale /* - loc.x * scale / 4 */);\r\n\t\tlet width = Math.floor(obj.w * scale * loc.xscale!);\r\n\t\tlet height = Math.floor(obj.h * scale * loc.yscale!);\r\n\t\tlet hoffset = Math.floor((obj.h - (obj.y || 0) * 2) * scale * loc.yscale!);\r\n\t\tleft -= Math.floor(width / 2);\r\n\t\ttop -= Math.floor(hoffset / 2);\r\n\t\tlet pos: JQuery.PlainObject = {\r\n\t\t\tleft,\r\n\t\t\ttop,\r\n\t\t\twidth,\r\n\t\t\theight,\r\n\t\t\topacity: loc.opacity,\r\n\t\t};\r\n\t\tif (loc.display) pos.display = loc.display;\r\n\t\treturn pos;\r\n\t}\r\n\t// Converts a PS location to a jQuery transition map (see `pos`) suitable for passing into `jQuery#animate`. oldLoc is required for ballistic (jumping) animations.\r\n\tposT(loc: ScenePos, obj: SpriteData, transition?: string, oldLoc?: ScenePos): JQuery.PlainObject {\r\n\t\tconst pos = this.pos(loc, obj);\r\n\t\tconst oldPos = (oldLoc ? this.pos(oldLoc, obj) : null);\r\n\t\tlet transitionMap = { left: 'linear', top: 'linear', width: 'linear', height: 'linear', opacity: 'linear', };\r\n\t\tif (transition === 'ballistic') { transitionMap.top = (pos.top < oldPos!.top ? 'ballisticUp' : 'ballisticDown'); }\r\n\t\tif (transition === 'ballisticUnder') { transitionMap.top = (pos.top < oldPos!.top ? 'ballisticDown' : 'ballisticUp'); }\r\n\t\tif (transition === 'ballistic2') { transitionMap.top = (pos.top < oldPos!.top ? 'quadUp' : 'quadDown'); }\r\n\t\tif (transition === 'ballistic2Back') { transitionMap.top = (loc.z! > 0 ? 'quadUp' : 'quadDown'); } // This _should_ be the same as ballistic2. Unfortunately, oldLoc is the original loc, rather than the previous loc, so when you're \"going back\", loc === oldLoc, and the direction has to instead be inferred from the destination.\r\n\t\tif (transition === 'ballistic2Under') { transitionMap.top = (pos.top < oldPos!.top ? 'quadDown' : 'quadUp'); }\r\n\t\tif (transition === 'swing') {\r\n\t\t\ttransitionMap.left = 'swing';\r\n\t\t\ttransitionMap.top = 'swing';\r\n\t\t\ttransitionMap.width = 'swing';\r\n\t\t\ttransitionMap.height = 'swing';\r\n\t\t}\r\n\t\tif (transition === 'accel') {\r\n\t\t\ttransitionMap.left = 'quadDown';\r\n\t\t\ttransitionMap.top = 'quadDown';\r\n\t\t\ttransitionMap.width = 'quadDown';\r\n\t\t\ttransitionMap.height = 'quadDown';\r\n\t\t}\r\n\t\tif (transition === 'decel') {\r\n\t\t\ttransitionMap.left = 'quadUp';\r\n\t\t\ttransitionMap.top = 'quadUp';\r\n\t\t\ttransitionMap.width = 'quadUp';\r\n\t\t\ttransitionMap.height = 'quadUp';\r\n\t\t}\r\n\t\treturn {\r\n\t\t\tleft: [pos.left, transitionMap.left],\r\n\t\t\ttop: [pos.top, transitionMap.top],\r\n\t\t\twidth: [pos.width, transitionMap.width],\r\n\t\t\theight: [pos.height, transitionMap.height],\r\n\t\t\topacity: [pos.opacity, transitionMap.opacity],\r\n\t\t};\r\n\t}\r\n\twaitFor(elem: JQuery) { this.activeAnimations = this.activeAnimations.add(elem); }\r\n\tstartAnimations() {\r\n\t\tthis.$fx.empty();\r\n\t\tthis.activeAnimations = $();\r\n\t\tthis.timeOffset = 0;\r\n\t\tthis.minDelay = 0;\r\n\t}\r\n\tfinishAnimations() {\r\n\t\tif (this.minDelay || this.timeOffset) {\r\n\t\t\tthis.$delay.delay(Math.max(this.minDelay, this.timeOffset));\r\n\t\t\tthis.activeAnimations = this.activeAnimations.add(this.$delay);\r\n\t\t}\r\n\t\tif (!this.activeAnimations.length) return undefined;\r\n\t\treturn this.activeAnimations.promise();\r\n\t}\r\n\t//region Messagebar and log\r\n\tpreemptCatchup() { this.log.preemptCatchup(); }\r\n\tmessage(message: string) {\r\n\t\tif (!this.messagebarOpen) {\r\n\t\t\tthis.log.addSpacer();\r\n\t\t\tif (this.animating) {\r\n\t\t\t\tthis.$messagebar.empty();\r\n\t\t\t\tthis.$messagebar.css({\r\n\t\t\t\t\tdisplay: 'block',\r\n\t\t\t\t\topacity: 0,\r\n\t\t\t\t\theight: 'auto',\r\n\t\t\t\t});\r\n\t\t\t\tthis.$messagebar.animate({ opacity: 1, }, \r\n\t\t\t\tthis.battle.messageFadeTime / this.acceleration);\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (this.battle.hardcoreMode && message.startsWith('<small>(')) { message = ''; }\r\n\t\tif (message && this.animating) {\r\n\t\t\tthis.$hiddenMessage.append('<p></p>');\r\n\t\t\tlet $message = this.$hiddenMessage.children().last();\r\n\t\t\t$message.html(message);\r\n\t\t\t$message.css({\r\n\t\t\t\tdisplay: 'block',\r\n\t\t\t\topacity: 0,\r\n\t\t\t});\r\n\t\t\t$message.animate({ height: 'hide', }, \r\n\t\t\t1, () => {\r\n\t\t\t\t$message.appendTo(this.$messagebar);\r\n\t\t\t\t$message.animate({\r\n\t\t\t\t\theight: 'show',\r\n\t\t\t\t\t'padding-bottom': 4,\r\n\t\t\t\t\topacity: 1,\r\n\t\t\t\t}, this.battle.messageFadeTime / this.acceleration);\r\n\t\t\t});\r\n\t\t\tthis.waitFor($message);\r\n\t\t}\r\n\t\tthis.messagebarOpen = true;\r\n\t}\r\n\tmaybeCloseMessagebar(args: Args, kwArgs: KWArgs) {\r\n\t\tif (this.log.battleParser!.sectionBreak(args, kwArgs)) {\r\n\t\t\tif (!this.messagebarOpen) return false;\r\n\t\t\tthis.closeMessagebar();\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\tcloseMessagebar() {\r\n\t\tif (this.messagebarOpen) {\r\n\t\t\tthis.messagebarOpen = false;\r\n\t\t\tif (this.animating) {\r\n\t\t\t\tthis.$messagebar.delay(this.battle.messageShownTime / this.acceleration).animate({ opacity: 0, }, \r\n\t\t\t\tthis.battle.messageFadeTime / this.acceleration);\r\n\t\t\t\tthis.waitFor(this.$messagebar);\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\t//region General updating\r\n\trunMoveAnim(moveid: ID, participants: Pokemon[]) {\r\n\t\tif (!this.animating) return;\r\n\t\tlet animEntry = BattleMoveAnims[moveid];\r\n\t\tif (this.acceleration >= 3) {\r\n\t\t\tconst targetsSelf = !participants[1] || participants[0] === participants[1];\r\n\t\t\tconst isSpecial = !targetsSelf && this.battle.dex.moves.get(moveid).category === 'Special';\r\n\t\t\tanimEntry = BattleOtherAnims[targetsSelf ? 'fastanimself' : isSpecial ? 'fastanimspecial' : 'fastanimattack'];\r\n\t\t} else if (!animEntry) { animEntry = BattleMoveAnims['tackle']; }\r\n\t\tanimEntry.anim(this, participants.map(p => p.sprite));\r\n\t}\r\n\trunOtherAnim(moveid: ID, participants: Pokemon[]) {\r\n\t\tif (!this.animating) return;\r\n\t\tBattleOtherAnims[moveid].anim(this, participants.map(p => p.sprite));\r\n\t}\r\n\trunStatusAnim(moveid: ID, participants: Pokemon[]) {\r\n\t\tif (!this.animating) return;\r\n\t\tBattleStatusAnims[moveid].anim(this, participants.map(p => p.sprite));\r\n\t}\r\n\trunResidualAnim(moveid: ID, pokemon: Pokemon) {\r\n\t\tif (!this.animating) return;\r\n\t\tBattleMoveAnims[moveid].residualAnim!(this, [pokemon.sprite]);\r\n\t}\r\n\trunPrepareAnim(moveid: ID, attacker: Pokemon, defender: Pokemon) {\r\n\t\tif (!this.animating || this.acceleration >= 3) return;\r\n\t\tconst moveAnim = BattleMoveAnims[moveid];\r\n\t\tif (!moveAnim.prepareAnim) return;\r\n\t\tmoveAnim.prepareAnim(this, [attacker.sprite, defender.sprite]);\r\n\t}\r\n\tupdateGen() {\r\n\t\tlet gen = this.battle.gen;\r\n\t\tif (Dex.prefs('nopastgens')) gen = 6;\r\n\t\tif (Dex.prefs('bwgfx') && gen > 5) gen = 5;\r\n\t\tthis.gen = gen;\r\n\t\tthis.activeCount = this.battle.nearSide?.active.length || 1;\r\n\t\tconst rated = this.battle.rated;\r\n\t\tlet bg: string;\r\n\t\tif (typeof rated === 'string' && rated.startsWith(\"Smogon Premier League\")) {\r\n\t\t\tif (gen <= 1) bg = 'fx/bg-gen1-spl.png';\r\n\t\t\telse if (gen <= 2) bg = 'fx/bg-gen2-spl.png';\r\n\t\t\telse if (gen <= 3) bg = 'fx/bg-gen3-spl.png';\r\n\t\t\telse if (gen <= 4) bg = 'fx/bg-gen4-spl.png';\r\n\t\t\telse bg = 'fx/bg-spl.png';\r\n\t\t\tthis.setBgm(-101);\r\n\t\t} else if (typeof rated === 'string' && rated.startsWith('National Pokemon Association')) {\r\n\t\t\tbg = 'fx/bg-npa.png';\r\n\t\t\tthis.setBgm(-101);\r\n\t\t} else if (typeof rated === 'string' && rated.startsWith('Smogon Champions League')) {\r\n\t\t\tbg = 'fx/bg-scl.png';\r\n\t\t\tthis.setBgm(-101);\r\n\t\t} else {\r\n\t\t\tif (gen <= 1) bg = 'fx/bg-gen1.png?';\r\n\t\t\telse if (gen <= 2) bg = 'fx/bg-gen2.png?';\r\n\t\t\telse if (gen <= 3) bg = `fx/${BattleBackdropsThree[this.numericId % BattleBackdropsThree.length]}?`;\r\n\t\t\telse if (gen <= 4) bg = `fx/${BattleBackdropsFour[this.numericId % BattleBackdropsFour.length]}`;\r\n\t\t\telse if (gen <= 5) bg = `fx/${BattleBackdropsFive[this.numericId % BattleBackdropsFive.length]}`;\r\n\t\t\telse bg = `sprites/gen6bgs/${BattleBackdrops[this.numericId % BattleBackdrops.length]}`;\r\n\t\t}\r\n\t\tthis.backdropImage = bg;\r\n\t\tif (this.$bg) { this.$bg.css('background-image', `url(${Dex.resourcePrefix}${this.backdropImage})`); }\r\n\t}\r\n\tgetDetailsText(pokemon: Pokemon) {\r\n\t\tlet name = pokemon.side?.isFar && (this.battle.ignoreOpponent || this.battle.ignoreNicks) ? pokemon.speciesForme : pokemon.name;\r\n\t\tif (name !== pokemon.speciesForme) { name += ' (' + pokemon.speciesForme + ')'; }\r\n\t\tif (pokemon === pokemon.side.active[0]) { name += ' (active)'; } \r\n\t\telse if (pokemon.fainted) { name += ' (fainted)'; } \r\n\t\telse {\r\n\t\t\tlet statustext = '';\r\n\t\t\tif (pokemon.hp !== pokemon.maxhp) { statustext += pokemon.getHPText(); }\r\n\t\t\tif (pokemon.status) {\r\n\t\t\t\tif (statustext) statustext += '|';\r\n\t\t\t\tstatustext += pokemon.status;\r\n\t\t\t}\r\n\t\t\tif (statustext) { name += ' (' + statustext + ')'; }\r\n\t\t}\r\n\t\treturn BattleLog.escapeHTML(name);\r\n\t}\r\n\tgetTeamBarHTML(side: Side, isP1: boolean): string {\r\n\tlet html = '';\r\n\r\n\t// Use stable team size (important after refresh)\r\n\tconst teamSize = side.totalPokemon || side.pokemon.length;\r\n\r\n\tfor (let i = 0; i < teamSize; i++) {\r\n\t\tconst pokemon = side.pokemon[i];\r\n\r\n\t\t// If the slot is missing after refresh, render a placeholder instead of dropping the slot\r\n\t\tif (!pokemon) {\r\n\t\t\thtml += `<span class=\"picon battleteambar-sprite empty\" style=\"${Dex.getPokemonIcon('pokeball')}\">` +\r\n\t\t\t\t`<span class=\"itemicon itemicon-unknown\">?</span></span>`;\r\n\t\t\tcontinue;\r\n\t\t}\r\n\r\n\t\tconst status = pokemon.fainted ? ' fainted' : (pokemon.status ? ' status' : '');\r\n\t\tconst iconStyle = Dex.getPokemonIcon(pokemon);\r\n\r\n\t\tlet itemIconHTML = '';\r\n\t\tif (pokemon.item && pokemon.item !== '(exists)') {\r\n\t\t\titemIconHTML = `<span class=\"itemicon\" style=\"${Dex.getItemIcon(pokemon.item)}\"></span>`;\r\n\t\t} else {\r\n\t\t\titemIconHTML = `<span class=\"itemicon itemicon-unknown\">?</span>`;\r\n\t\t}\r\n\r\n\t\thtml += `<span class=\"picon battleteambar-sprite${status}\" style=\"${iconStyle}\">${itemIconHTML}</span>`;\r\n\t}\r\n\r\n\treturn html;\r\n}\r\n\tgetSidebarHTML(side: Side, posStr: string): string {\r\n\t\tlet noShow = this.battle.hardcoreMode && this.battle.gen < 7;\r\n\t\t// Check if this is an ISL format\r\n\t\tconst isISLFormat = this.battle.tier?.toLowerCase().includes('indigostarstorm') || this.battle.tier?.toLowerCase().includes('isl');\r\n\t\t// Filter to only show Pokemon that have been revealed (have ident)\r\n\t\tconst revealedPokemon = side.pokemon.filter(p => p.ident);\r\n\t\t// In ISL formats, only show revealed Pokemon. In other formats, show all Pokemon.\r\n\t\tconst pokemonToShow = isISLFormat ? revealedPokemon : side.pokemon;\r\n\t\tlet speciesOverage = this.battle.speciesClause ? Infinity : Math.max(pokemonToShow.length - side.totalPokemon, 0);\r\n\t\tconst sidebarIcons: ( ['pokemon' | 'pokemon-illusion', number] | ['unrevealed' | 'empty' | 'pseudo-zoroark', null] )[] = [];\r\n\t\tconst speciesTable: string[] = [];\r\n\t\tlet zoroarkRevealed = false;\r\n\t\tlet hasIllusion = false;\r\n\t\t// Build list of icons for revealed Pokemon\r\n\t\tif (speciesOverage) {\r\n\t\t\tfor (let i = 0; i < pokemonToShow.length; i++) {\r\n\t\t\t\tconst species = pokemonToShow[i].getBaseSpecies().baseSpecies;\r\n\t\t\t\tif (speciesOverage && speciesTable.includes(species)) {\r\n\t\t\t\t\tfor (const sidebarIcon of sidebarIcons) { if (pokemonToShow[sidebarIcon[1]!].getBaseSpecies().baseSpecies === species) { sidebarIcon[0] = 'pokemon-illusion'; } }\r\n\t\t\t\t\thasIllusion = true;\r\n\t\t\t\t\tspeciesOverage--;\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// Store the actual index in side.pokemon array\r\n\t\t\t\t\tconst actualIndex = side.pokemon.indexOf(pokemonToShow[i]);\r\n\t\t\t\t\tsidebarIcons.push(['pokemon', actualIndex]);\r\n\t\t\t\t\tspeciesTable.push(species);\r\n\t\t\t\t\tif (['Zoroark', 'Zorua'].includes(species)) { zoroarkRevealed = true; }\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else { for (let i = 0; i < pokemonToShow.length; i++) {\r\n\t\t\tconst actualIndex = side.pokemon.indexOf(pokemonToShow[i]);\r\n\t\t\tsidebarIcons.push(['pokemon', actualIndex]);\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (!zoroarkRevealed && hasIllusion && sidebarIcons.length < side.totalPokemon) { sidebarIcons.push(['pseudo-zoroark', null]); }\r\n\t\t// Fill remaining slots with unrevealed/empty icons\r\n\t\t// In ISL, show empty slots for unrevealed Pokemon up to totalPokemon (usually 6)\r\n\t\twhile (sidebarIcons.length < side.totalPokemon) { sidebarIcons.push(['unrevealed', null]); }\r\n\t\twhile (sidebarIcons.length < 6) { sidebarIcons.push(['empty', null]); }\r\n\t\tlet pokemonhtml = '';\r\n\t\tfor (let i = 0; i < sidebarIcons.length; i++) {\r\n\t\t\tconst [iconType, pokeIndex] = sidebarIcons[i];\r\n\t\t\tconst poke = pokeIndex !== null ? side.pokemon[pokeIndex] : null;\r\n\t\t\tconst tooltipCode = ` class=\"picon has-tooltip\" data-tooltip=\"pokemon|${side.n}|${pokeIndex!}${iconType === 'pokemon-illusion' ? '|illusion' : ''}\"`;\r\n\t\t\tif (iconType === 'empty') { pokemonhtml += `<span class=\"picon\" style=\"${Dex.getPokemonIcon('pokeball-none')}\"></span>`; } \r\n\t\t\telse if (noShow) {\r\n\t\t\t\tif (poke?.fainted) { pokemonhtml += `<span${tooltipCode} style=\"${Dex.getPokemonIcon('pokeball-fainted')}\" aria-label=\"Fainted\"></span>`; } \r\n\t\t\t\telse if (poke?.status) { pokemonhtml += `<span${tooltipCode} style=\"${Dex.getPokemonIcon('pokeball-statused')}\" aria-label=\"Statused\"></span>`; } \r\n\t\t\t\telse { pokemonhtml += `<span${tooltipCode} style=\"${Dex.getPokemonIcon('pokeball')}\" aria-label=\"Non-statused\"></span>`; }\r\n\t\t\t} else if (iconType === 'pseudo-zoroark') { pokemonhtml += `<span class=\"picon\" style=\"${Dex.getPokemonIcon('zoroark')}\" title=\"Unrevealed Illusion user\" aria-label=\"Unrevealed Illusion user\"></span>`; } \r\n\t\t\telse if (!poke) { pokemonhtml += `<span class=\"picon\" style=\"${Dex.getPokemonIcon('pokeball')}\" title=\"Not revealed\" aria-label=\"Not revealed\"></span>`;\r\n\t\t\t} else if (!poke.ident && this.battle.teamPreviewCount && this.battle.teamPreviewCount < side.pokemon.length) {\r\n\t\t\t\t// in VGC (bring 6 pick 4) and other pick-less-than-you-bring formats, this is a pokemon that's been brought but not necessarily picked\r\n\t\t\t\tconst details = this.getDetailsText(poke);\r\n\t\t\t\tpokemonhtml += `<span${tooltipCode} style=\"${Dex.getPokemonIcon(poke, !side.isFar)};opacity:0.6\" aria-label=\"${details}\"></span>`;\r\n\t\t\t} else {\r\n\t\t\t\tconst details = this.getDetailsText(poke);\r\n\t\t\t\tpokemonhtml += `<span${tooltipCode} style=\"${Dex.getPokemonIcon(poke, !side.isFar)}\" aria-label=\"${details}\"></span>`;\r\n\t\t\t}\r\n\t\t\tif (i % 3 === 2) pokemonhtml += `</div><div class=\"teamicons\">`;\r\n\t\t}\r\n\t\tpokemonhtml = '<div class=\"teamicons\">' + pokemonhtml + '</div>';\r\n\t\tconst ratinghtml = side.rating ? ` title=\"Rating: ${BattleLog.escapeHTML(side.rating)}\"` : ``;\r\n\t\tconst faded = side.name ? `` : ` style=\"opacity: 0.4\"`;\r\n\t\tlet badgehtml = '';\r\n\t\tif (side.badges.length) {\r\n\t\t\tbadgehtml = '<span class=\"badges\">';\r\n\t\t\t// hard limiting it to only ever 3 allowed at a time that's what the server limit is anyway but there should be a client limit too just in case\r\n\t\t\tfor (const badgeData of side.badges.slice(0, 3)) {\r\n\t\t\t\t// ${badge.type}|${badge.format}|${BADGE_THRESHOLDS[badge.type]}-${badge.season}\r\n\t\t\t\tconst [type, format, details] = badgeData.split('|');\r\n\t\t\t\t// todo, maybe make this more easily configured if we ever add badges for other stuff? but idk that we're planning that for now so\r\n\t\t\t\tconst [threshold] = details.split('-');\r\n\t\t\t\tconst hover = `User is Top ${threshold} on the ${format} Ladder`;\r\n\t\t\t\t// ou and randbats get diff badges from everyone else, find it (regex futureproofs for double digit gens)\r\n\t\t\t\tlet formatType = format.split(/gen\\d+/)[1] || 'none';\r\n\t\t\t\tif (!['ou', 'randombattle'].includes(formatType)) { formatType = 'rotating'; }\r\n\t\t\t\tbadgehtml += `<img src=\"${Dex.resourcePrefix}/sprites/misc/${formatType}_${type}.png\" style=\"padding: 0px 1px 0px 1px\" width=\"16px\" height=\"16px\" title=\"${hover}\" />`;\r\n\t\t\t}\r\n\t\t\tbadgehtml += '</span>';\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t`<div class=\"trainer trainer-${posStr}\"${faded}><strong>${BattleLog.escapeHTML(side.name)}</strong>` +\r\n\t\t\t`<div class=\"trainersprite\"${ratinghtml} style=\"background-image:url(${Dex.resolveAvatar(side.avatar)})\">` +\r\n\t\t\t`</div>${badgehtml}${pokemonhtml}</div>`\r\n\t\t);\r\n\t}\r\n\tupdateSidebar(side: Side) {\r\n\tif (this.battle.gameType === 'freeforall') {\r\n\t\tthis.updateLeftSidebar();\r\n\t\tthis.updateRightSidebar();\r\n\t} else if (side === this.battle.nearSide || side === this.battle.nearSide.ally) {\r\n\t\tthis.updateLeftSidebar();\r\n\t} else {\r\n\t\tthis.updateRightSidebar();\r\n\t}\r\n\r\n\t// âœ… keep TOP teambar in sync (items, fainted, etc.)\r\n\tthis.updateTeamBar();\r\n}\r\n\tupdateLeftSidebar() {\r\n\t\tconst side = this.battle.nearSide;\r\n\t\tif (side.ally) {\r\n\t\t\tconst side2 = side.ally;\r\n\t\t\tthis.$leftbar.html(this.getSidebarHTML(side, 'near2') + this.getSidebarHTML(side2, 'near'));\r\n\t\t} else if (this.battle.sides.length > 2) { // FFA\r\n\t\t\tconst side2 = this.battle.sides[side.n === 0 ? 3 : 2];\r\n\t\t\tthis.$leftbar.html(this.getSidebarHTML(side2, 'near2') + this.getSidebarHTML(side, 'near'));\r\n\t\t} else { this.$leftbar.html(this.getSidebarHTML(side, 'near')); }\r\n\t}\r\n\tupdateRightSidebar() {\r\n\t\tconst side = this.battle.farSide;\r\n\t\tif (side.ally) {\r\n\t\t\tconst side2 = side.ally;\r\n\t\t\tthis.$rightbar.html(this.getSidebarHTML(side, 'far2') + this.getSidebarHTML(side2, 'far'));\r\n\t\t} else if (this.battle.sides.length > 2) { // FFA\r\n\t\t\tconst side2 = this.battle.sides[side.n === 0 ? 3 : 2];\r\n\t\t\tthis.$rightbar.html(this.getSidebarHTML(side2, 'far2') + this.getSidebarHTML(side, 'far'));\r\n\t\t} else { this.$rightbar.html(this.getSidebarHTML(side, 'far')); }\r\n\t}\r\n\tupdateSidebars() {\r\n\t\tthis.updateLeftSidebar();\r\n\t\tthis.updateRightSidebar();\r\n\t\tthis.updateTeamBar();\r\n\t}\r\n\tupdateTeamBar() {\r\n\t\tconst p1Side = this.battle.nearSide;\r\n\t\tconst p2Side = this.battle.farSide;\r\n\t\tconst p1HTML = this.getTeamBarHTML(p1Side, true);\r\n\t\tconst p2HTML = this.getTeamBarHTML(p2Side, false);\r\n\t\tthis.$battleteambar.html( `<div class=\"battleteambar-p1\">${p1HTML}</div>` + `<div class=\"battleteambar-p2\">${p2HTML}</div>`);\r\n\t}\r\n\tupdateStatbars() {\r\n\tfor (const side of this.battle.sides) {\r\n\t\tfor (const active of side.active) {\r\n\t\t\tif (active) active.sprite.updateStatbar(active);\r\n\t\t}\r\n\t}\r\n\r\n\t// Keep TOP teambar synced with newly-revealed items/status\r\n\tthis.updateTeamBar();\r\n}\r\n\tresetSides(skipEmpty?: boolean) {\r\n\t\tif (!skipEmpty) { for (const $spritesContainer of this.$sprites) { $spritesContainer.empty(); }}\r\n\t\tfor (const side of this.battle.sides) {\r\n\t\t\tside.z = (side.isFar ? 200 : 0);\r\n\t\t\tside.missedPokemon?.sprite?.destroy();\r\n\t\t\tside.missedPokemon = {\r\n\t\t\t\tsprite: new PokemonSprite(null, {\r\n\t\t\t\t\tx: side.leftof(this.battle.gameType === 'freeforall' ? -50 : -100),\r\n\t\t\t\t\ty: side.y,\r\n\t\t\t\t\tz: side.z,\r\n\t\t\t\t\topacity: 0,\r\n\t\t\t\t}, this, side.isFar),\r\n\t\t\t} as any;\r\n\t\t\tside.missedPokemon.sprite.isMissedPokemon = true;\r\n\t\t}\r\n\t\tif (this.battle.sides.length > 2 && this.sideConditions.length === 2) { this.sideConditions.push({}, {}); }\r\n\t\tthis.rebuildTooltips();\r\n\t}\r\n\trebuildTooltips() {\r\n\t\tlet tooltipBuf = '';\r\n\t\tconst tooltips = this.battle.gameType === 'freeforall' ? {\r\n\t\t\t// FFA battles are visually rendered as triple battle with the center slots empty so we swap the 2nd and 3rd tooltips on each side\r\n\t\t\tp2b: { top: 70, left: 250, width: 80, height: 100, tooltip: 'activepokemon|1|1' },\r\n\t\t\tp2a: { top: 90, left: 390, width: 100, height: 100, tooltip: 'activepokemon|1|0' },\r\n\t\t\tp1a: { top: 200, left: 130, width: 120, height: 160, tooltip: 'activepokemon|0|0' },\r\n\t\t\tp1b: { top: 200, left: 350, width: 150, height: 160, tooltip: 'activepokemon|0|1' },\r\n\t\t} : {\r\n\t\t\tp2c: { top: 70, left: 250, width: 80, height: 100, tooltip: 'activepokemon|1|2' },\r\n\t\t\tp2b: { top: 85, left: 320, width: 90, height: 100, tooltip: 'activepokemon|1|1' },\r\n\t\t\tp2a: { top: 90, left: 390, width: 100, height: 100, tooltip: 'activepokemon|1|0' },\r\n\t\t\tp1a: { top: 200, left: 130, width: 120, height: 160, tooltip: 'activepokemon|0|0' },\r\n\t\t\tp1b: { top: 200, left: 250, width: 150, height: 160, tooltip: 'activepokemon|0|1' },\r\n\t\t\tp1c: { top: 200, left: 350, width: 150, height: 160, tooltip: 'activepokemon|0|2' },\r\n\t\t};\r\n\t\tfor (const id in tooltips) {\r\n\t\t\tlet layout = tooltips[id as 'p1a'];\r\n\t\t\ttooltipBuf += `<div class=\"has-tooltip\" style=\"position:absolute;`;\r\n\t\t\ttooltipBuf += `top:${layout.top}px;left:${layout.left}px;width:${layout.width}px;height:${layout.height}px;`;\r\n\t\t\ttooltipBuf += `\" data-id=\"${id}\" data-tooltip=\"${layout.tooltip}\" data-ownheight=\"1\"></div>`;\r\n\t\t}\r\n\t\tthis.$tooltips.html(tooltipBuf);\r\n\t}\r\n\tteamPreview() {\r\n\t\tlet newBGNum = 0;\r\n\t\tfor (let siden = 0; siden < 2 || (this.battle.gameType === 'multi' && siden < 4); siden++) {\r\n\t\t\tlet side = this.battle.sides[siden];\r\n\t\t\tconst spriteIndex = +this.battle.viewpointSwitched ^ (siden % 2);\r\n\t\t\tlet textBuf = '';\r\n\t\t\tlet buf = '';\r\n\t\t\tlet buf2 = '';\r\n\t\t\tthis.$sprites[spriteIndex].empty();\r\n\t\t\tlet ludicoloCount = 0;\r\n\t\t\tlet lombreCount = 0;\r\n\t\t\tfor (let i = 0; i < side.pokemon.length; i++) {\r\n\t\t\t\tlet pokemon = side.pokemon[i];\r\n\t\t\t\tif (pokemon.speciesForme === 'Xerneas-*') { pokemon.speciesForme = 'Xerneas-Neutral'; }\r\n\t\t\t\tif (pokemon.speciesForme === 'Ludicolo') ludicoloCount++;\r\n\t\t\t\tif (pokemon.speciesForme === 'Lombre') lombreCount++;\r\n\t\t\t\tlet spriteData = Dex.getSpriteData(pokemon, !!spriteIndex, {\r\n\t\t\t\t\tgen: this.gen,\r\n\t\t\t\t\tnoScale: true,\r\n\t\t\t\t\tmod: this.mod,\r\n\t\t\t\t});\r\n\t\t\t\tlet y = 0;\r\n\t\t\t\tlet x = 0;\r\n\t\t\t\tif (spriteIndex) {\r\n\t\t\t\t\ty = 48 + 50 + 3 * (i + 6 - side.pokemon.length);\r\n\t\t\t\t\tx = 48 + 180 + 50 * (i + 6 - side.pokemon.length);\r\n\t\t\t\t} else {\r\n\t\t\t\t\ty = 48 + 200 + 3 * i;\r\n\t\t\t\t\tx = 48 + 100 + 50 * i;\r\n\t\t\t\t}\r\n\t\t\t\tif (textBuf) textBuf += ' / ';\r\n\t\t\t\ttextBuf += pokemon.speciesForme;\r\n\t\t\t\tlet url = spriteData.url;\r\n\t\t\t\t// if (this.paused) url.replace('/xyani', '/xy').replace('.gif', '.png');\r\n\t\t\t\tbuf += `<img src=\"${url}\" width=\"${spriteData.w}\" height=\"${spriteData.h}\" style=\"position:absolute;top:${Math.floor(y - spriteData.h / 2)}px;left:${Math.floor(x - spriteData.w / 2)}px\" />`;\r\n\t\t\t\tbuf2 += `<div style=\"position:absolute;top:${y + 45}px;left:${x - 40}px;width:80px;font-size:10px;text-align:center;color:#FFF;\">`;\r\n\t\t\t\tconst gender = pokemon.gender;\r\n\t\t\t\tif (gender === 'M' || gender === 'F') { buf2 += `<img src=\"${Dex.fxPrefix}gender-${gender.toLowerCase()}.png\" alt=\"${gender}\" width=\"7\" height=\"10\" class=\"pixelated\" style=\"margin-bottom:-1px\" /> `; }\r\n\t\t\t\tif (pokemon.level !== 100) { buf2 += `<span style=\"text-shadow:#000 1px 1px 0,#000 1px -1px 0,#000 -1px 1px 0,#000 -1px -1px 0\"><small>L</small>${pokemon.level}</span>`; }\r\n\t\t\t\tif (pokemon.item === '(mail)') { buf2 += ` <img src=\"${Dex.resourcePrefix}fx/mail.png\" width=\"8\" height=\"10\" alt=\"F\" style=\"margin-bottom:-1px\" />`;\r\n\t\t\t\t} else if (pokemon.item) { buf2 += ` <img src=\"${Dex.resourcePrefix}fx/item.png\" width=\"8\" height=\"10\" alt=\"F\" style=\"margin-bottom:-1px\" />`; }\r\n\t\t\t\tbuf2 += '</div>';\r\n\t\t\t}\r\n\t\t\tside.totalPokemon = side.pokemon.length;\r\n\t\t\tif (textBuf) {\r\n\t\t\t\tthis.log.addDiv('chat battle-history',\r\n\t\t\t\t`<strong>${BattleLog.escapeHTML(side.name)}'s team:</strong> <em style=\"color:#445566;display:block;\">${BattleLog.escapeHTML(textBuf)}</em>`\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t\tthis.$sprites[spriteIndex].html(buf + buf2);\r\n\t\t\tif (!newBGNum) {\r\n\t\t\t\tif (ludicoloCount >= 2) { newBGNum = -3; } \r\n\t\t\t\telse if (ludicoloCount + lombreCount >= 2) { newBGNum = -2; }\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (newBGNum !== 0) { this.setBgm(newBGNum); }\r\n\t\tthis.wait(1000);\r\n\t\tthis.updateSidebars();\r\n\t}\r\n\tshowJoinButtons() {\r\n\t\tif (!this.battle.joinButtons) return;\r\n\t\tif (this.battle.ended || this.battle.rated) return;\r\n\t\tif (!this.battle.p1.name) { this.$battle.append('<div class=\"playbutton1\"><button name=\"joinBattle\">Join Battle</button></div>'); }\r\n\t\tif (!this.battle.p2.name) { this.$battle.append('<div class=\"playbutton2\"><button name=\"joinBattle\">Join Battle</button></div>'); }\r\n\t}\r\n\thideJoinButtons() {\r\n\t\tif (!this.battle.joinButtons) return;\r\n\t\tthis.$battle.find('.playbutton1, .playbutton2').remove();\r\n\t}\r\n\r\n\tpseudoWeatherLeft(pWeather: WeatherState) {\r\n\t\tlet buf = `<br />${Dex.moves.get(pWeather[0]).name}`;\r\n\t\tif (!pWeather[1] && pWeather[2]) {\r\n\t\t\tpWeather[1] = pWeather[2];\r\n\t\t\tpWeather[2] = 0;\r\n\t\t}\r\n\t\tif (this.battle.gen < 7 && this.battle.hardcoreMode) return buf;\r\n\t\tif (pWeather[2]) { return `${buf} <small>(${pWeather[1]} or ${pWeather[2]} turns)</small>`; }\r\n\t\tif (pWeather[1]) { return `${buf} <small>(${pWeather[1]} turn${pWeather[1] === 1 ? '' : 's'})</small>`; }\r\n\t\treturn buf; // weather not found\r\n\t}\r\n\tsideConditionLeft(cond: Side['sideConditions'][string], isFoe: boolean, all?: boolean) {\r\n\t\tif (!cond[2] && !cond[3] && !all) return '';\r\n\t\tlet buf = `<br />${isFoe && !all ? \"Foe's \" : \"\"}${Dex.moves.get(cond[0]).name}`;\r\n\t\tif (this.battle.gen < 7 && this.battle.hardcoreMode) return buf;\r\n\t\tif (!cond[2] && !cond[3]) return buf;\r\n\t\tif (!cond[2] && cond[3]) {\r\n\t\t\tcond[2] = cond[3];\r\n\t\t\tcond[3] = 0;\r\n\t\t}\r\n\t\tif (!cond[3]) { return `${buf} <small>(${cond[2]} turn${cond[2] === 1 ? '' : 's'})</small>`; }\r\n\t\treturn `${buf} <small>(${cond[2]} or ${cond[3]} turns)</small>`;\r\n\t}\r\n\tweatherLeft() {\r\n\t\tif (this.battle.gen < 7 && this.battle.hardcoreMode) return '';\r\n\t\tlet weatherhtml = ``;\r\n\t\tif (this.battle.weather) {\r\n\t\t\tconst weatherNameTable: { [id: string]: string } = {\r\n\t\t\t\t   sunnyday: 'Sun',\r\n\t\t\t\t   desolateland: 'Intense Sun',\r\n\t\t\t\t   raindance: 'Rain',\r\n\t\t\t\t   primordialsea: 'Heavy Rain',\r\n\t\t\t\t   sandstorm: 'Sandstorm',\r\n\t\t\t\t   hail: 'Hail',\r\n\t\t\t\t   snowscape: 'Snow',\r\n\t\t\t\t   deltastream: 'Strong Winds',\r\n\t\t\t\t   turbulentwinds: 'Turbulent Winds',\r\n\t\t\t};\r\n\t\t\tweatherhtml = `${weatherNameTable[this.battle.weather] || this.battle.weather}`;\r\n\t\t\tif (this.battle.weatherMinTimeLeft !== 0) { weatherhtml += ` <small>(${this.battle.weatherMinTimeLeft} or ${this.battle.weatherTimeLeft} turns)</small>`; } \r\n\t\t\telse if (this.battle.weatherTimeLeft !== 0) { weatherhtml += ` <small>(${this.battle.weatherTimeLeft} turn${this.battle.weatherTimeLeft === 1 ? '' : 's'})</small>`; }\r\n\t\t\tconst nullifyWeather = this.battle.abilityActive(['Air Lock', 'Cloud Nine']);\r\n\t\t\tweatherhtml = `${nullifyWeather ? '<s>' : ''}${weatherhtml}${nullifyWeather ? '</s>' : ''}`;\r\n\t\t}\r\n\t\tfor (const pseudoWeather of this.battle.pseudoWeather) { weatherhtml += this.pseudoWeatherLeft(pseudoWeather); }\r\n\t\treturn weatherhtml;\r\n\t}\r\n\tsideConditionsLeft(side: Side, all?: boolean) {\r\n\t\tlet buf = ``;\r\n\t\tfor (const id in side.sideConditions) { buf += this.sideConditionLeft(side.sideConditions[id], side.isFar, all); }\r\n\t\treturn buf;\r\n\t}\r\n\tupkeepWeather() {\r\n\t\tconst isIntense = ['desolateland', 'primordialsea', 'deltastream', 'turbulentwinds'].includes(this.curWeather);\r\n\t\tthis.$weather.animate({ opacity: 1.0, }, 300)\r\n\t\t.animate({ opacity: isIntense ? 0.9 : 0.5, }, 300);\r\n\t}\r\n\tupdateWeather(instant?: boolean) {\r\n\t\tif (!this.animating) return;\r\n\t\tlet isIntense = false;\r\n\t\tlet weather = this.battle.weather;\r\n\t\tif (this.battle.abilityActive(['Air Lock', 'Cloud Nine'])) { weather = '' as ID; }\r\n\t\t   let terrain = '' as ID;\r\n\t\t   let terrainTurns = 0;\r\n\t\t   for (const pseudoWeatherData of this.battle.pseudoWeather) {\r\n\t\t\t   terrain = toID(pseudoWeatherData[0]);\r\n\t\t\t   if (pseudoWeatherData[1]) terrainTurns = pseudoWeatherData[1];\r\n\t\t   }\r\n\t\t   if (weather === 'desolateland' || weather === 'primordialsea' || weather === 'deltastream' || weather === 'turbulentwinds') { isIntense = true; }\r\n\t\t   let weatherhtml = this.weatherLeft();\r\n\t\t   for (const side of this.battle.sides) { weatherhtml += this.sideConditionsLeft(side); }\r\n\t\t   if (weatherhtml) weatherhtml = `<br />` + weatherhtml;\r\n\t\t   // Terrain display logic (like weather)\r\n\t\t   const terrainNameTable: { [id: string]: string } = {\r\n\t\t\t   electricterrain: 'Electric Terrain',\r\n\t\t\t   grassyterrain: 'Grassy Terrain',\r\n\t\t\t   mistyterrain: 'Misty Terrain',\r\n\t\t\t   psychicterrain: 'Psychic Terrain',\r\n\t\t\t   toxicterrain: 'Toxic Terrain',\r\n\t\t   };\r\n\t\t   let terrainhtml = '';\r\n\t\t   if (terrain) {\r\n\t\t\t   terrainhtml = `${terrainNameTable[terrain] || terrain}`;\r\n\t\t\t   if (terrainTurns) { terrainhtml += ` <small>(${terrainTurns} turn${terrainTurns === 1 ? '' : 's'})</small>`; }\r\n\t\t   }\r\n\t\t   if (terrainhtml) terrainhtml = `<br />` + terrainhtml;\r\n\t\t   if (instant) {\r\n\t\t\t   this.$weather.html('<em>' + weatherhtml + '</em>');\r\n\t\t\t   this.$terrain.html('<em>' + terrainhtml + '</em>');\r\n\t\t\t   if (this.curWeather === weather && this.curTerrain === terrain) return;\r\n\t\t\t   this.$terrain.attr('class', terrain ? 'weather ' + terrain + 'weather' : 'weather');\r\n\t\t\t   this.curTerrain = terrain;\r\n\t\t\t   this.$weather.attr('class', weather ? 'weather ' + weather + 'weather' : 'weather');\r\n\t\t\t   this.$weather.css('opacity', isIntense || !weather ? 0.9 : 0.5);\r\n\t\t\t   this.curWeather = weather;\r\n\t\t\t   return;\r\n\t\t   }\r\n\t\t   if (weather !== this.curWeather) {\r\n\t\t\t   this.$weather.animate({ opacity: 0, }, \r\n\t\t\t   this.curWeather ? 300 : 100, () => {\r\n\t\t\t\t   this.$weather.html('<em>' + weatherhtml + '</em>');\r\n\t\t\t\t   this.$weather.attr('class', weather ? 'weather ' + weather + 'weather' : 'weather');\r\n\t\t\t\t   this.$weather.animate({ opacity: isIntense || !weather ? 0.9 : 0.5 }, 300);\r\n\t\t\t   });\r\n\t\t\t   this.curWeather = weather;\r\n\t\t   } else { this.$weather.html('<em>' + weatherhtml + '</em>'); }\r\n\t\t   if (terrain !== this.curTerrain) {\r\n\t\t\t   this.$terrain.animate({\r\n\t\t\t\t   top: 360,\r\n\t\t\t\t   opacity: 0,\r\n\t\t\t   }, this.curTerrain ? 400 : 1, () => {\r\n\t\t\t\t   this.$terrain.attr('class', terrain ? 'weather ' + terrain + 'weather' : 'weather');\r\n\t\t\t\t   this.$terrain.html('<em>' + terrainhtml + '</em>');\r\n\t\t\t\t   this.$terrain.animate({ top: 0, opacity: 1 }, 400);\r\n\t\t\t   });\r\n\t\t\t   this.curTerrain = terrain;\r\n\t\t   }\r\n\t}\r\n\tresetTurn() {\r\n\t\tif (this.battle.turn <= 0) {\r\n\t\t\tthis.$turn.html('');\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.$turn.html(`<div class=\"turn has-tooltip\" data-tooltip=\"field\" data-ownheight=\"1\">Turn ${this.battle.turn}</div>`);\r\n\t}\r\n\tincrementTurn() {\r\n\t\tif (!this.animating) return;\r\n\t\tconst turn = this.battle.turn;\r\n\t\tif (turn <= 0) return;\r\n\t\tconst $prevTurn = this.$turn.children();\r\n\t\tconst $newTurn = $(`<div class=\"turn has-tooltip\" data-tooltip=\"field\" data-ownheight=\"1\">Turn ${turn}</div>`);\r\n\t\t$newTurn.css({\r\n\t\t\topacity: 0,\r\n\t\t\tleft: 160,\r\n\t\t});\r\n\t\tthis.$turn.append($newTurn);\r\n\t\t$newTurn.animate({\r\n\t\t\topacity: 1,\r\n\t\t\tleft: 110,\r\n\t\t}, 500).animate({\r\n\t\t\topacity: 0.4,\r\n\t\t}, 1500);\r\n\t\t$prevTurn.animate({\r\n\t\t\topacity: 0,\r\n\t\t\tleft: 60,\r\n\t\t}, 500, () => { $prevTurn.remove(); });\r\n\t\tthis.updateAcceleration();\r\n\t\tthis.wait(500 / this.acceleration);\r\n\t}\r\n\tupdateAcceleration() {\r\n\t\tif (this.battle.turnsSinceMoved > 2) { this.acceleration = (this.battle.messageFadeTime < 150 ? 2 : 1) * Math.min(this.battle.turnsSinceMoved - 1, 3); } \r\n\t\telse {\r\n\t\t\tthis.acceleration = (this.battle.messageFadeTime < 150 ? 2 : 1);\r\n\t\t\tif (this.battle.messageFadeTime < 50) this.acceleration = 3;\r\n\t\t}\r\n\t}\r\n\r\n\taddPokemonSprite(pokemon: Pokemon) {\r\n\t\tconst sprite = new PokemonSprite(Dex.getSpriteData(pokemon, pokemon.side.isFar, {\r\n\t\t\tgen: this.gen,\r\n\t\t\tmod: this.mod,\r\n\t\t}), {\r\n\t\t\tx: pokemon.side.x,\r\n\t\t\ty: pokemon.side.y,\r\n\t\t\tz: pokemon.side.z,\r\n\t\t\topacity: 0,\r\n\t\t}, this, pokemon.side.isFar);\r\n\t\tif (sprite.$el) this.$sprites[+pokemon.side.isFar].append(sprite.$el);\r\n\t\treturn sprite;\r\n\t}\r\n\taddSideCondition(siden: number, id: ID, instant?: boolean) {\r\n\t\tif (!this.animating) return;\r\n\t\tconst side = this.battle.sides[siden];\r\n\t\tconst spriteIndex = +side.isFar;\r\n\t\tlet x = side.x;\r\n\t\tlet y = side.y;\r\n\t\tif (this.battle.gameType === 'freeforall') {\r\n\t\t\tx += side.isFar ? 20 : -20;\r\n\t\t\tif (side.n > 1) {\r\n\t\t\t\tx += (side.isFar ? -140 : 140);\r\n\t\t\t\ty += side.isFar ? 14 : -20;\r\n\t\t\t}\r\n\t\t}\r\n\t\tswitch (id) {\r\n\t\tcase 'auroraveil':\r\n\t\t\tconst auroraveil = new Sprite(BattleEffects.auroraveil, { display: 'block', x, y, z: side.behind(-14), xscale: 1, yscale: 0, opacity: 0.1, }, this);\r\n\t\t\tthis.$spritesFront[spriteIndex].append(auroraveil.$el);\r\n\t\t\tthis.sideConditions[siden][id] = [auroraveil];\r\n\t\t\tauroraveil.anim({\r\n\t\t\t\topacity: 0.7,\r\n\t\t\t\ttime: instant ? 0 : 400,\r\n\t\t\t}).anim({\r\n\t\t\t\topacity: 0.3,\r\n\t\t\t\ttime: instant ? 0 : 300,\r\n\t\t\t});\r\n\t\t\tbreak;\r\n\t\tcase 'reflect':\r\n\t\t\tconst reflect = new Sprite(BattleEffects.reflect, { display: 'block', x, y, z: side.behind(-17), xscale: 1, yscale: 0, opacity: 0.1, }, this);\r\n\t\t\tthis.$spritesFront[spriteIndex].append(reflect.$el);\r\n\t\t\tthis.sideConditions[siden][id] = [reflect];\r\n\t\t\treflect.anim({\r\n\t\t\t\topacity: 0.7,\r\n\t\t\t\ttime: instant ? 0 : 400,\r\n\t\t\t}).anim({\r\n\t\t\t\topacity: 0.3,\r\n\t\t\t\ttime: instant ? 0 : 300,\r\n\t\t\t});\r\n\t\t\tbreak;\r\n\t\tcase 'safeguard':\r\n\t\t\tconst safeguard = new Sprite(BattleEffects.safeguard, { display: 'block', x, y, z: side.behind(-20), xscale: 1, yscale: 0, opacity: 0.1, }, this);\r\n\t\t\tthis.$spritesFront[spriteIndex].append(safeguard.$el);\r\n\t\t\tthis.sideConditions[siden][id] = [safeguard];\r\n\t\t\tsafeguard.anim({\r\n\t\t\t\topacity: 0.7,\r\n\t\t\t\ttime: instant ? 0 : 400,\r\n\t\t\t}).anim({\r\n\t\t\t\topacity: 0.3,\r\n\t\t\t\ttime: instant ? 0 : 300,\r\n\t\t\t});\r\n\t\t\tbreak;\r\n\t\tcase 'lightscreen':\r\n\t\t\tconst lightscreen = new Sprite(BattleEffects.lightscreen, { display: 'block', x, y, z: side.behind(-23), xscale: 1, yscale: 0, opacity: 0.1, }, this);\r\n\t\t\tthis.$spritesFront[spriteIndex].append(lightscreen.$el);\r\n\t\t\tthis.sideConditions[siden][id] = [lightscreen];\r\n\t\t\tlightscreen.anim({\r\n\t\t\t\topacity: 0.7,\r\n\t\t\t\ttime: instant ? 0 : 400,\r\n\t\t\t}).anim({\r\n\t\t\t\topacity: 0.3,\r\n\t\t\t\ttime: instant ? 0 : 300,\r\n\t\t\t});\r\n\t\t\tbreak;\r\n\t\tcase 'mist':\r\n\t\t\tconst mist = new Sprite(BattleEffects.mist, { display: 'block', x, y, z: side.behind(-27), xscale: 1, yscale: 0, opacity: 0.1, }, this);\r\n\t\t\tthis.$spritesFront[spriteIndex].append(mist.$el);\r\n\t\t\tthis.sideConditions[siden][id] = [mist];\r\n\t\t\tmist.anim({\r\n\t\t\t\topacity: 0.7,\r\n\t\t\t\ttime: instant ? 0 : 400,\r\n\t\t\t}).anim({\r\n\t\t\t\topacity: 0.3,\r\n\t\t\t\ttime: instant ? 0 : 300,\r\n\t\t\t});\r\n\t\t\tbreak;\r\n\t\tcase 'stealthrock':\r\n\t\t\tconst rock1 = new Sprite(BattleEffects.rock1, { display: 'block', x: x + side.leftof(-40), y: y - 10, z: side.z, opacity: 0.5, scale: 0.2, }, this);\r\n\t\t\tconst rock2 = new Sprite(BattleEffects.rock2, { display: 'block', x: x + side.leftof(-20), y: y - 40, z: side.z, opacity: 0.5, scale: 0.2, }, this);\r\n\t\t\tconst rock3 = new Sprite(BattleEffects.rock1, { display: 'block', x: x + side.leftof(30), y: y - 20, z: side.z, opacity: 0.5, scale: 0.2, }, this);\r\n\t\t\tconst rock4 = new Sprite(BattleEffects.rock2, { display: 'block', x: x + side.leftof(10), y: y - 30, z: side.z, opacity: 0.5, scale: 0.2, }, this);\r\n\t\t\tthis.$spritesFront[spriteIndex].append(rock1.$el);\r\n\t\t\tthis.$spritesFront[spriteIndex].append(rock2.$el);\r\n\t\t\tthis.$spritesFront[spriteIndex].append(rock3.$el);\r\n\t\t\tthis.$spritesFront[spriteIndex].append(rock4.$el);\r\n\t\t\tthis.sideConditions[siden][id] = [rock1, rock2, rock3, rock4];\r\n\t\t\tbreak;\r\n\t\tcase 'gmaxsteelsurge':\r\n\t\t\tconst surge1 = new Sprite(BattleEffects.greenmetal1, { display: 'block', x: x + side.leftof(-30), y: y - 20, z: side.z, opacity: 0.5, scale: 0.8, }, this);\r\n\t\t\tconst surge2 = new Sprite(BattleEffects.greenmetal2, { display: 'block', x: x + side.leftof(35), y: y - 15, z: side.z, opacity: 0.5, scale: 0.8, }, this);\r\n\t\t\tconst surge3 = new Sprite(BattleEffects.greenmetal1, { display: 'block', x: x + side.leftof(50), y: y - 10, z: side.z, opacity: 0.5, scale: 0.8, }, this);\r\n\t\t\tthis.$spritesFront[spriteIndex].append(surge1.$el);\r\n\t\t\tthis.$spritesFront[spriteIndex].append(surge2.$el);\r\n\t\t\tthis.$spritesFront[spriteIndex].append(surge3.$el);\r\n\t\t\tthis.sideConditions[siden][id] = [surge1, surge2, surge3];\r\n\t\t\tbreak;\r\n\t\tcase 'spikes':\r\n\t\t\tlet spikeArray = this.sideConditions[siden]['spikes'];\r\n\t\t\tif (!spikeArray) {\r\n\t\t\t\tspikeArray = [];\r\n\t\t\t\tthis.sideConditions[siden]['spikes'] = spikeArray;\r\n\t\t\t}\r\n\t\t\tlet levels = this.battle.sides[siden].sideConditions['spikes'][1];\r\n\t\t\tif (spikeArray.length < 1 && levels >= 1) {\r\n\t\t\t\tconst spike1 = new Sprite(BattleEffects.caltrop, { display: 'block', x: x - 25, y: y - 40, z: side.z, scale: 0.3, }, this);\r\n\t\t\t\tthis.$spritesFront[spriteIndex].append(spike1.$el);\r\n\t\t\t\tspikeArray.push(spike1);\r\n\t\t\t}\r\n\t\t\tif (spikeArray.length < 2 && levels >= 2) {\r\n\t\t\t\tconst spike2 = new Sprite(BattleEffects.caltrop, { display: 'block', x: x + 30, y: y - 45, z: side.z, scale: 0.3, }, this);\r\n\t\t\t\tthis.$spritesFront[spriteIndex].append(spike2.$el);\r\n\t\t\t\tspikeArray.push(spike2);\r\n\t\t\t}\r\n\t\t\tif (spikeArray.length < 3 && levels >= 3) {\r\n\t\t\t\tconst spike3 = new Sprite(BattleEffects.caltrop, { display: 'block', x: x + 50, y: y - 40, z: side.z, scale: 0.3, }, this);\r\n\t\t\t\tthis.$spritesFront[spriteIndex].append(spike3.$el);\r\n\t\t\t\tspikeArray.push(spike3);\r\n\t\t\t}\r\n\t\t\tbreak;\r\n\t\tcase 'toxicspikes':\r\n\t\t\tlet tspikeArray = this.sideConditions[siden]['toxicspikes'];\r\n\t\t\tif (!tspikeArray) {\r\n\t\t\t\ttspikeArray = [];\r\n\t\t\t\tthis.sideConditions[siden]['toxicspikes'] = tspikeArray;\r\n\t\t\t}\r\n\t\t\tlet tspikeLevels = this.battle.sides[siden].sideConditions['toxicspikes'][1];\r\n\t\t\tif (tspikeArray.length < 1 && tspikeLevels >= 1) {\r\n\t\t\t\tconst tspike1 = new Sprite(BattleEffects.poisoncaltrop, { display: 'block', x: x + 5, y: y - 40, z: side.z, scale: 0.3, }, this);\r\n\t\t\t\tthis.$spritesFront[spriteIndex].append(tspike1.$el);\r\n\t\t\t\ttspikeArray.push(tspike1);\r\n\t\t\t}\r\n\t\t\tif (tspikeArray.length < 2 && tspikeLevels >= 2) {\r\n\t\t\t\tconst tspike2 = new Sprite(BattleEffects.poisoncaltrop, { display: 'block', x: x - 15, y: y - 35, z: side.z, scale: 0.3, }, this);\r\n\t\t\t\tthis.$spritesFront[spriteIndex].append(tspike2.$el);\r\n\t\t\t\ttspikeArray.push(tspike2);\r\n\t\t\t}\r\n\t\t\tbreak;\r\n\t\tcase 'stickyweb':\r\n\t\t\tconst web = new Sprite(BattleEffects.web, { display: 'block', x: x + 15, y: y - 35, z: side.z, opacity: 0.4, scale: 0.7, }, this);\r\n\t\t\tthis.$spritesFront[spriteIndex].append(web.$el);\r\n\t\t\tthis.sideConditions[siden][id] = [web];\r\n\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\tremoveSideCondition(siden: number, id: ID) {\r\n\t\tif (!this.animating) return;\r\n\t\tif (this.sideConditions[siden][id]) {\r\n\t\t\tfor (const sprite of this.sideConditions[siden][id]) sprite.destroy();\r\n\t\t\tdelete this.sideConditions[siden][id];\r\n\t\t}\r\n\t}\r\n\tresetSideConditions() { for (let siden = 0; siden < this.sideConditions.length; siden++) {\r\n\t\t\tfor (const id in this.sideConditions[siden]) { this.removeSideCondition(siden, id as ID); }\r\n\t\t\tfor (const id in this.battle.sides[siden].sideConditions) { this.addSideCondition(siden, id as ID, true); }\r\n\t\t}\r\n\t}\r\n\r\n\ttypeAnim(pokemon: Pokemon, types: string) {\r\n\t\tconst result = BattleLog.escapeHTML(types).split('/').map(type =>\r\n\t\t\t`<img src=\"${Dex.resourcePrefix}sprites/types/${encodeURIComponent(type)}.png\" alt=\"${type}\" class=\"pixelated\" />`\r\n\t\t).join(' ');\r\n\t\tthis.resultAnim(pokemon, result, 'neutral');\r\n\t}\r\n\tresultAnim(pokemon: Pokemon, result: string, type: 'bad' | 'good' | 'neutral' | Dex.StatusName) {\r\n\t\tif (!this.animating) return;\r\n\t\tlet $effect = $('<div class=\"result ' + type + 'result\"><strong>' + result + '</strong></div>');\r\n\t\tthis.$fx.append($effect);\r\n\t\t$effect.delay(this.timeOffset).css({\r\n\t\t\tdisplay: 'block',\r\n\t\t\topacity: 0,\r\n\t\t\ttop: pokemon.sprite.top - 5,\r\n\t\t\tleft: pokemon.sprite.left - 75,\r\n\t\t}).animate({ opacity: 1, }, 1);\r\n\t\t$effect.animate({\r\n\t\t\topacity: 0,\r\n\t\t\ttop: pokemon.sprite.top - 65,\r\n\t\t}, 1000, 'swing');\r\n\t\tthis.wait(this.acceleration < 2 ? 350 : 250);\r\n\t\tpokemon.sprite.updateStatbar(pokemon);\r\n\t\tif (this.acceleration < 3) this.waitFor($effect);\r\n\t}\r\n\tabilityActivateAnim(pokemon: Pokemon, result: string) {\r\n\t\tif (!this.animating) return;\r\n\t\tthis.$fx.append(`<div class=\"result abilityresult\"><strong>${result}</strong></div>`);\r\n\t\tlet $effect = this.$fx.children().last();\r\n\t\t$effect.delay(this.timeOffset).css({\r\n\t\t\tdisplay: 'block',\r\n\t\t\topacity: 0,\r\n\t\t\ttop: pokemon.sprite.top + 15,\r\n\t\t\tleft: pokemon.sprite.left - 75,\r\n\t\t}).animate({ opacity: 1, }, 1);\r\n\t\t$effect.delay(800).animate({ opacity: 0, }, 400, 'swing');\r\n\t\tthis.wait(100);\r\n\t\tpokemon.sprite.updateStatbar(pokemon);\r\n\t\tif (this.acceleration < 3) this.waitFor($effect);\r\n\t}\r\n\tdamageAnim(pokemon: Pokemon, damage: number | string) {\r\n\t\tif (!this.animating) return;\r\n\t\tif (!pokemon.sprite.$statbar) return;\r\n\t\tpokemon.sprite.updateHPText(pokemon);\r\n\t\tlet $hp = pokemon.sprite.$statbar.find('div.hp');\r\n\t\tlet w = pokemon.hpWidth(150);\r\n\t\tlet hpcolor = BattleScene.getHPColor(pokemon);\r\n\t\tlet callback;\r\n\t\tif (hpcolor === 'y') { callback = () => { $hp.addClass('hp-yellow'); }; }\r\n\t\tif (hpcolor === 'r') { callback = () => { $hp.addClass('hp-yellow hp-red'); };}\r\n\t\tif (damage === '100%' && pokemon.hp > 0) damage = '99%';\r\n\t\tthis.resultAnim(pokemon, this.battle.hardcoreMode ? 'Damage' : `&minus;${damage}`, 'bad');\r\n\t\t$hp.animate({\r\n\t\t\twidth: w,\r\n\t\t\t'border-right-width': w ? 1 : 0,\r\n\t\t}, 350, callback);\r\n\t}\r\n\thealAnim(pokemon: Pokemon, damage: number | string) {\r\n\t\tif (!this.animating) return;\r\n\t\tif (!pokemon.sprite.$statbar) return;\r\n\t\tpokemon.sprite.updateHPText(pokemon);\r\n\t\tlet $hp = pokemon.sprite.$statbar.find('div.hp');\r\n\t\tlet w = pokemon.hpWidth(150);\r\n\t\tlet hpcolor = BattleScene.getHPColor(pokemon);\r\n\t\tlet callback;\r\n\t\tif (hpcolor === 'g') { callback = () => { $hp.removeClass('hp-yellow hp-red'); }; }\r\n\t\tif (hpcolor === 'y') { callback = () => { $hp.removeClass('hp-red'); }; }\r\n\t\tthis.resultAnim(pokemon, this.battle.hardcoreMode ? 'Heal' : `+${damage}`, 'good');\r\n\t\t$hp.animate({\r\n\t\t\twidth: w,\r\n\t\t\t'border-right-width': w ? 1 : 0,\r\n\t\t}, 350, callback);\r\n\t}\r\n\t//region Sprite methods\r\n\tremoveEffect(pokemon: Pokemon, id: ID, instant?: boolean) { return pokemon.sprite.removeEffect(id, instant); }\r\n\taddEffect(pokemon: Pokemon, id: ID, instant?: boolean) { return pokemon.sprite.addEffect(id, instant); }\r\n\tanimSummon(pokemon: Pokemon, slot: number, instant?: boolean) { return pokemon.sprite.animSummon(pokemon, slot, instant); }\r\n\tanimUnsummon(pokemon: Pokemon, instant?: boolean) { return pokemon.sprite.animUnsummon(pokemon, instant); }\r\n\tanimDragIn(pokemon: Pokemon, slot: number) { return pokemon.sprite.animDragIn(pokemon, slot); }\r\n\tanimDragOut(pokemon: Pokemon) { return pokemon.sprite.animDragOut(pokemon); }\r\n\tresetStatbar(pokemon: Pokemon, startHidden?: boolean) { return pokemon.sprite.resetStatbar(pokemon, startHidden); }\r\n\tupdateStatbar(pokemon: Pokemon, updatePrevhp?: boolean, updateHp?: boolean) { return pokemon.sprite.updateStatbar(pokemon, updatePrevhp, updateHp); }\r\n\tupdateStatbarIfExists(pokemon: Pokemon, updatePrevhp?: boolean, updateHp?: boolean) { return pokemon.sprite.updateStatbarIfExists(pokemon, updatePrevhp, updateHp); }\r\n\tanimTransform(pokemon: Pokemon, useSpeciesAnim?: boolean, isPermanent?: boolean) { return pokemon.sprite.animTransform(pokemon, useSpeciesAnim, isPermanent); }\r\n\tclearEffects(pokemon: Pokemon) { return pokemon.sprite.clearEffects(); }\r\n\tremoveTransform(pokemon: Pokemon) { return pokemon.sprite.removeTransform(); }\r\n\tanimFaint(pokemon: Pokemon) { return pokemon.sprite.animFaint(pokemon);}\r\n\tanimReset(pokemon: Pokemon) { return pokemon.sprite.animReset(); }\r\n\tanim(pokemon: Pokemon, end: ScenePos, transition?: string) { return pokemon.sprite.anim(end, transition); }\r\n\tbeforeMove(pokemon: Pokemon) { return pokemon.sprite.beforeMove(); }\r\n\tafterMove(pokemon: Pokemon) { return pokemon.sprite.afterMove(); }\r\n\t//region Misc\r\n\tsetFrameHTML(html: any) {\r\n\t\tthis.customControls = true;\r\n\t\tthis.$frame.html(html);\r\n\t}\r\n\tsetControlsHTML(html: any) {\r\n\t\tthis.customControls = true;\r\n\t\tlet $controls = this.$frame.parent().children('.battle-controls');\r\n\t\t$controls.html(html);\r\n\t}\r\n\tpreloadImage(url: string) {\r\n\t\tlet token = url.replace(/\\.(gif|png)$/, '').replace(/\\//g, '-');\r\n\t\tif (this.preloadCache[token]) { return; }\r\n\t\tthis.preloadNeeded++;\r\n\t\tthis.preloadCache[token] = new Image();\r\n\t\tthis.preloadCache[token].onload = () => { this.preloadDone++; };\r\n\t\tthis.preloadCache[token].src = url;\r\n\t}\r\n\tpreloadEffects() {\r\n\t\tfor (let i in BattleEffects) {\r\n\t\t\tif (i === 'alpha' || i === 'omega') continue;\r\n\t\t\tconst url = BattleEffects[i].url;\r\n\t\t\tif (url) this.preloadImage(url);\r\n\t\t}\r\n\t\tthis.preloadImage(Dex.resourcePrefix + 'sprites/ani/substitute.gif');\r\n\t\tthis.preloadImage(Dex.resourcePrefix + 'sprites/ani-back/substitute.gif');\r\n\t}\r\n\trollBgm() { this.setBgm(1 + this.numericId % 15); }\r\n\tsetBgm(bgmNum: number) {\r\n\t\tif (this.bgmNum === bgmNum) return;\r\n\t\tthis.bgmNum = bgmNum;\r\n\t\tswitch (bgmNum) {\r\n\t\tcase -1: this.bgm = BattleSound.loadBgm('audio/bw2-homika-dogars.mp3', 1661, 68131, this.bgm);\r\n\t\t\tbreak;\r\n\t\tcase -2: this.bgm = BattleSound.loadBgm('audio/xd-miror-b.mp3', 9000, 57815, this.bgm);\r\n\t\t\tbreak;\r\n\t\tcase -3: this.bgm = BattleSound.loadBgm('audio/colosseum-miror-b.mp3', 896, 47462, this.bgm);\r\n\t\t\tbreak;\r\n\t\tcase 1: this.bgm = BattleSound.loadBgm('audio/dpp-trainer.mp3', 13440, 96959, this.bgm);\r\n\t\t\tbreak;\r\n\t\tcase 2: this.bgm = BattleSound.loadBgm('audio/dpp-rival.mp3', 13888, 66352, this.bgm);\r\n\t\t\tbreak;\r\n\t\tcase 3: this.bgm = BattleSound.loadBgm('audio/hgss-johto-trainer.mp3', 23731, 125086, this.bgm);\r\n\t\t\tbreak;\r\n\t\tcase 4: this.bgm = BattleSound.loadBgm('audio/hgss-kanto-trainer.mp3', 13003, 94656, this.bgm);\r\n\t\t\tbreak;\r\n\t\tcase 5: this.bgm = BattleSound.loadBgm('audio/bw-trainer.mp3', 14629, 110109, this.bgm);\r\n\t\t\tbreak;\r\n\t\tcase 6: this.bgm = BattleSound.loadBgm('audio/bw-rival.mp3', 19180, 57373, this.bgm);\r\n\t\t\tbreak;\r\n\t\tcase 7: this.bgm = BattleSound.loadBgm('audio/bw-subway-trainer.mp3', 15503, 110984, this.bgm);\r\n\t\t\tbreak;\r\n\t\tcase 8: this.bgm = BattleSound.loadBgm('audio/bw2-kanto-gym-leader.mp3', 14626, 58986, this.bgm);\r\n\t\t\tbreak;\r\n\t\tcase 9: this.bgm = BattleSound.loadBgm('audio/bw2-rival.mp3', 7152, 68708, this.bgm);\r\n\t\t\tbreak;\r\n\t\tcase 10: this.bgm = BattleSound.loadBgm('audio/xy-trainer.mp3', 7802, 82469, this.bgm);\r\n\t\t\tbreak;\r\n\t\tcase 11: this.bgm = BattleSound.loadBgm('audio/xy-rival.mp3', 7802, 58634, this.bgm);\r\n\t\t\tbreak;\r\n\t\tcase 12: this.bgm = BattleSound.loadBgm('audio/oras-trainer.mp3', 13579, 91548, this.bgm);\r\n\t\t\tbreak;\r\n\t\tcase 13: this.bgm = BattleSound.loadBgm('audio/oras-rival.mp3', 14303, 69149, this.bgm);\r\n\t\t\tbreak;\r\n\t\tcase 14: this.bgm = BattleSound.loadBgm('audio/sm-trainer.mp3', 8323, 89230, this.bgm);\r\n\t\t\tbreak;\r\n\t\tcase -101: this.bgm = BattleSound.loadBgm('audio/spl-elite4.mp3', 3962, 152509, this.bgm);\r\n\t\t\tbreak;\r\n\t\tcase 15:\r\n\t\t\tdefault: this.bgm = BattleSound.loadBgm('audio/sm-rival.mp3', 11389, 62158, this.bgm);\r\n\t\t\tbreak;\r\n\t\t}\r\n\t\tthis.updateBgm();\r\n\t}\r\n\tupdateBgm() {\r\n\t\t/**\r\n\t\t * - not playing in non-battle RoomGames before `|start` (turn -1)\r\n\t\t * - not playing at team preview in replays (paused)\r\n\t\t * - playing at team preview in games (turn 0)\r\n\t\t * - playing during the game (turn 1+)\r\n\t\t * - not playing while paused\r\n\t\t * - playing while waiting for players to choose moves (atQueueEnd && !ended)\r\n\t\t * - not playing after the game has ended\r\n\t\t */\r\n\t\tconst nowPlaying = ( this.battle.turn >= 0 && !this.battle.ended && !this.battle.paused );\r\n\t\tif (nowPlaying) {\r\n\t\t\tif (!this.bgm) this.rollBgm();\r\n\t\t\tthis.bgm!.resume();\r\n\t\t} else if (this.bgm) { this.bgm.pause(); }\r\n\t}\r\n\tresetBgm() { if (this.bgm) this.bgm.stop(); }\r\n\tdestroy() {\r\n\t\tthis.log.destroy();\r\n\t\tif (this.$frame) {\r\n\t\t\tthis.$frame.empty();\r\n\t\t\t// listeners set by BattleTooltips\r\n\t\t\tthis.$frame.off();\r\n\t\t}\r\n\t\tif (this.bgm) {\r\n\t\t\tthis.bgm.destroy();\r\n\t\t\tthis.bgm = null;\r\n\t\t}\r\n\t\tthis.battle = null!;\r\n\t}\r\n\tstatic getHPColor(pokemon: { hp: number, maxhp: number }) {\r\n\t\tlet ratio = pokemon.hp / pokemon.maxhp;\r\n\t\tif (ratio > 0.5) return 'g';\r\n\t\tif (ratio > 0.2) return 'y';\r\n\t\treturn 'r';\r\n\t}\r\n}\r\nexport interface ScenePos {\r\n\t/** - left, + right */\r\n\tx?: number;\r\n\t/** - down, + up */\r\n\ty?: number;\r\n\t/** - player, + opponent */\r\n\tz?: number;\r\n\tscale?: number;\r\n\txscale?: number;\r\n\tyscale?: number;\r\n\topacity?: number;\r\n\ttime?: number;\r\n\tdisplay?: string;\r\n}\r\ninterface InitScenePos {\r\n\tx: number;\r\n\ty: number;\r\n\tz: number;\r\n\tscale?: number;\r\n\txscale?: number;\r\n\tyscale?: number;\r\n\topacity?: number;\r\n\ttime?: number;\r\n\tdisplay?: string;\r\n}\r\nexport class Sprite {\r\n\tscene: BattleScene;\r\n\t$el: JQuery = null!;\r\n\tsp: SpriteData;\r\n\tx: number;\r\n\ty: number;\r\n\tz: number;\r\n\tconstructor(spriteData: SpriteData | null, pos: InitScenePos, scene: BattleScene) {\r\n\t\tthis.scene = scene;\r\n\t\tlet sp = null;\r\n\t\tif (spriteData) {\r\n\t\t\tsp = spriteData;\r\n\t\t\tlet rawHTML = sp.rawHTML || `<img src=\"${sp.url!}\" style=\"display:none;position:absolute\"${sp.pixelated ? ' class=\"pixelated\"' : ''} />`;\r\n\t\t\tthis.$el = $(rawHTML);\r\n\t\t} else {\r\n\t\t\tsp = {\r\n\t\t\t\tw: 0,\r\n\t\t\t\th: 0,\r\n\t\t\t\turl: '',\r\n\t\t\t};\r\n\t\t}\r\n\t\tthis.sp = sp;\r\n\t\tthis.x = pos.x;\r\n\t\tthis.y = pos.y;\r\n\t\tthis.z = pos.z;\r\n\t\tif (pos.opacity !== 0 && spriteData) this.$el.css(scene.pos(pos, sp));\r\n\t\tif (!spriteData) {\r\n\t\t\tthis.delay = function () { return this; };\r\n\t\t\tthis.anim = function () { return this; };\r\n\t\t}\r\n\t}\r\n\tdestroy() {\r\n\t\tif (this.$el) this.$el.remove();\r\n\t\tthis.$el = null!;\r\n\t\tthis.scene = null!;\r\n\t}\r\n\tdelay(time: number) {\r\n\t\tthis.$el.delay(time);\r\n\t\treturn this;\r\n\t}\r\n\tanim(end: ScenePos, transition?: string) {\r\n\t\tend = {\r\n\t\t\tx: this.x,\r\n\t\t\ty: this.y,\r\n\t\t\tz: this.z,\r\n\t\t\tscale: 1,\r\n\t\t\topacity: 1,\r\n\t\t\ttime: 500,\r\n\t\t\t...end,\r\n\t\t};\r\n\t\tif (end.time === 0) {\r\n\t\t\tthis.$el.css(this.scene.pos(end, this.sp));\r\n\t\t\treturn this;\r\n\t\t}\r\n\t\tthis.$el.animate(this.scene.posT(end, this.sp, transition, this), end.time!);\r\n\t\treturn this;\r\n\t}\r\n}\r\n//region Pokemon Sprite\r\nexport class PokemonSprite extends Sprite {\r\n\t// HTML strings are constructed from this table and stored back in it to cache them\r\n\tprotected static statusTable: { [id: string]: [string, 'good' | 'bad' | 'neutral'] | null | string } = {\r\n\t\tformechange: null,\r\n\t\ttypechange: null,\r\n\t\ttypeadd: null,\r\n\t\tdynamax: ['Dynamaxed', 'good'],\r\n\t\ttrapped: null, // linked volatiles are not implemented yet\r\n\t\tthroatchop: ['Throat Chop', 'bad'],\r\n\t\tconfusion: ['Confused', 'bad'],\r\n\t\thealblock: ['Heal Block', 'bad'],\r\n\t\tyawn: ['Drowsy', 'bad'],\r\n\t\tflashfire: ['Flash Fire', 'good'],\r\n\t\timprison: ['Imprisoning foe', 'good'],\r\n\t\tautotomize: ['Lightened', 'neutral'],\r\n\t\tmiracleeye: ['Miracle Eye', 'bad'],\r\n\t\tforesight: ['Foresight', 'bad'],\r\n\t\ttelekinesis: ['Telekinesis', 'neutral'],\r\n\t\ttransform: ['Transformed', 'neutral'],\r\n\t\tpowertrick: ['Power Trick', 'neutral'],\r\n\t\tcurse: ['Curse', 'bad'],\r\n\t\tnightmare: ['Nightmare', 'bad'],\r\n\t\tattract: ['Infatuation', 'bad'],\r\n\t\ttorment: ['Torment', 'bad'],\r\n\t\ttaunt: ['Taunt', 'bad'],\r\n\t\tdisable: ['Disable', 'bad'],\r\n\t\tembargo: ['Embargo', 'bad'],\r\n\t\tingrain: ['Ingrain', 'good'],\r\n\t\taquaring: ['Aqua Ring', 'good'],\r\n\t\tstockpile1: ['Stockpile', 'good'],\r\n\t\tstockpile2: ['Stockpile&times;2', 'good'],\r\n\t\tstockpile3: ['Stockpile&times;3', 'good'],\r\n\t\tperish0: ['Perish now', 'bad'],\r\n\t\tperish1: ['Perish next turn', 'bad'],\r\n\t\tperish2: ['Perish in 2', 'bad'],\r\n\t\tperish3: ['Perish in 3', 'bad'],\r\n\t\tairballoon: ['Balloon', 'good'],\r\n\t\tleechseed: ['Leech Seed', 'bad'],\r\n\t\tencore: ['Encore', 'bad'],\r\n\t\tmustrecharge: ['Must recharge', 'bad'],\r\n\t\tbide: ['Bide', 'good'],\r\n\t\tmagnetrise: ['Magnet Rise', 'good'],\r\n\t\tsmackdown: ['Smack Down', 'bad'],\r\n\t\tfocusenergy: ['Critical Hit Boost', 'good'],\r\n\t\tdragoncheer: ['Critical Hit Boost', 'good'],\r\n\t\tslowstart: ['Slow Start', 'bad'],\r\n\t\tprotosynthesisatk: ['Protosynthesis: Atk', 'good'],\r\n\t\tprotosynthesisdef: ['Protosynthesis: Def', 'good'],\r\n\t\tprotosynthesisspa: ['Protosynthesis: SpA', 'good'],\r\n\t\tprotosynthesisspd: ['Protosynthesis: SpD', 'good'],\r\n\t\tprotosynthesisspe: ['Protosynthesis: Spe', 'good'],\r\n\t\tquarkdriveatk: ['Quark Drive: Atk', 'good'],\r\n\t\tquarkdrivedef: ['Quark Drive: Def', 'good'],\r\n\t\tquarkdrivespa: ['Quark Drive: SpA', 'good'],\r\n\t\tquarkdrivespd: ['Quark Drive: SpD', 'good'],\r\n\t\tquarkdrivespe: ['Quark Drive: Spe', 'good'],\r\n\t\tfallen1: ['Fallen: 1', 'good'],\r\n\t\tfallen2: ['Fallen: 2', 'good'],\r\n\t\tfallen3: ['Fallen: 3', 'good'],\r\n\t\tfallen4: ['Fallen: 4', 'good'],\r\n\t\tfallen5: ['Fallen: 5', 'good'],\r\n\t\tnoretreat: ['No Retreat', 'bad'],\r\n\t\toctolock: ['Octolock', 'bad'],\r\n\t\ttarshot: ['Tar Shot', 'bad'],\r\n\t\tsaltcure: ['Salt Cure', 'bad'],\r\n\t\tsyrupbomb: ['Syrupy', 'bad'],\r\n\t\tdoomdesire: null,\r\n\t\tfuturesight: null,\r\n\t\tmimic: ['Mimic', 'good'],\r\n\t\twatersport: ['Water Sport', 'good'],\r\n\t\tmudsport: ['Mud Sport', 'good'],\r\n\t\tsubstitute: null,\r\n\t\t// sub graphics are handled elsewhere, see Battle.Sprite.animSub()\r\n\t\tuproar: ['Uproar', 'neutral'],\r\n\t\trage: ['Rage', 'neutral'],\r\n\t\troost: ['Landed', 'neutral'],\r\n\t\tprotect: ['Protect', 'good'],\r\n\t\tquickguard: ['Quick Guard', 'good'],\r\n\t\twideguard: ['Wide Guard', 'good'],\r\n\t\tcraftyshield: ['Crafty Shield', 'good'],\r\n\t\tmatblock: ['Mat Block', 'good'],\r\n\t\tmaxguard: ['Max Guard', 'good'],\r\n\t\thelpinghand: ['Helping Hand', 'good'],\r\n\t\tmagiccoat: ['Magic Coat', 'good'],\r\n\t\tdestinybond: ['Destiny Bond', 'good'],\r\n\t\tsnatch: ['Snatch', 'good'],\r\n\t\tgrudge: ['Grudge', 'good'],\r\n\t\tcharge: ['Charge', 'good'],\r\n\t\tendure: ['Endure', 'good'],\r\n\t\tfocuspunch: ['Focusing', 'neutral'],\r\n\t\tshelltrap: ['Trap set', 'neutral'],\r\n\t\tpowder: ['Powder', 'bad'],\r\n\t\telectrify: ['Electrify', 'bad'],\r\n\t\tglaiverush: ['Glaive Rush', 'bad'],\r\n\t\tragepowder: ['Rage Powder', 'good'],\r\n\t\tfollowme: ['Follow Me', 'good'],\r\n\t\tinstruct: ['Instruct', 'neutral'],\r\n\t\tbeakblast: ['Beak Blast', 'neutral'],\r\n\t\tlaserfocus: ['Laser Focus', 'good'],\r\n\t\tspotlight: ['Spotlight', 'neutral'],\r\n\t\titemremoved: null,\r\n\t\t// partial trapping\r\n\t\tbind: ['Bind', 'bad'],\r\n\t\tclamp: ['Clamp', 'bad'],\r\n\t\tfirespin: ['Fire Spin', 'bad'],\r\n\t\tinfestation: ['Infestation', 'bad'],\r\n\t\tmagmastorm: ['Magma Storm', 'bad'],\r\n\t\tsandtomb: ['Sand Tomb', 'bad'],\r\n\t\tsnaptrap: ['Snap Trap', 'bad'],\r\n\t\tthundercage: ['Thunder Cage', 'bad'],\r\n\t\twhirlpool: ['Whirlpool', 'bad'],\r\n\t\twrap: ['Wrap', 'bad'],\r\n\t\t// Gen 1-2\r\n\t\tmist: ['Mist', 'good'],\r\n\t\t// Gen 1\r\n\t\tlightscreen: ['Light Screen', 'good'],\r\n\t\treflect: ['Reflect', 'good'],\r\n\t};\r\n\tforme = '';\r\n\tcryurl: string | undefined = undefined;\r\n\tsubsp: SpriteData | null = null;\r\n\t$sub: JQuery | null = null;\r\n\tisSubActive = false;\r\n\t$statbar: JQuery | null = null;\r\n\tisFrontSprite: boolean;\r\n\tisMissedPokemon = false;\r\n\t/**\r\n\t * If the pokemon is transformed, sprite.sp will be the transformed\r\n\t * SpriteData and sprite.oldsp will hold the original form's SpriteData\r\n\t */\r\n\toldsp: SpriteData | null = null;\r\n\tstatbarLeft = 0;\r\n\tstatbarTop = 0;\r\n\tleft = 0;\r\n\ttop = 0;\r\n\teffects: { [id: string]: Sprite[] } = {};\r\n\tconstructor(spriteData: SpriteData | null, pos: InitScenePos, scene: BattleScene, isFrontSprite: boolean) {\r\n\t\tsuper(spriteData, pos, scene);\r\n\t\tthis.cryurl = this.sp.cryurl;\r\n\t\tthis.isFrontSprite = isFrontSprite;\r\n\t}\r\n\toverride destroy() {\r\n\t\tif (this.$el) this.$el.remove();\r\n\t\tthis.$el = null!;\r\n\t\tif (this.$statbar) this.$statbar.remove();\r\n\t\tthis.$statbar = null;\r\n\t\tif (this.$sub) this.$sub.remove();\r\n\t\tthis.$sub = null;\r\n\t\tthis.scene = null!;\r\n\t}\r\n\toverride delay(time: number) {\r\n\t\tthis.$el.delay(time);\r\n\t\tif (this.$sub) this.$sub.delay(time);\r\n\t\treturn this;\r\n\t}\r\n\toverride anim(end: ScenePos, transition?: string) {\r\n\t\tend = {\r\n\t\t\tx: this.x,\r\n\t\t\ty: this.y,\r\n\t\t\tz: this.z,\r\n\t\t\tscale: 1,\r\n\t\t\topacity: 1,\r\n\t\t\ttime: 500,\r\n\t\t\t...end,\r\n\t\t};\r\n\t\tconst [$el, sp] = (this.isSubActive ? [this.$sub!, this.subsp!] : [this.$el, this.sp]);\r\n\t\t$el.animate(this.scene.posT(end, sp, transition, this), end.time!);\r\n\t\treturn this;\r\n\t}\r\n\r\n\tbehindx(offset: number) { return this.x + (this.isFrontSprite ? 1 : -1) * offset; }\r\n\tbehindy(offset: number) { return this.y + (this.isFrontSprite ? -1 : 1) * offset; }\r\n\tleftof(offset: number) { return this.x + (this.isFrontSprite ? 1 : -1) * offset; }\r\n\tbehind(offset: number) { return this.z + (this.isFrontSprite ? 1 : -1) * offset; }\r\n\tremoveTransform() {\r\n\t\tif (!this.scene.animating) return;\r\n\t\tif (!this.oldsp) return;\r\n\t\tlet sp = this.oldsp;\r\n\t\tthis.cryurl = sp.cryurl;\r\n\t\tthis.sp = sp;\r\n\t\tthis.oldsp = null;\r\n\t\tconst $el = this.isSubActive ? this.$sub! : this.$el;\r\n\t\t$el.attr('src', sp.url!);\r\n\t\t$el.css(this.scene.pos({\r\n\t\t\tx: this.x,\r\n\t\t\ty: this.y,\r\n\t\t\tz: (this.isSubActive ? this.behind(30) : this.z),\r\n\t\t\topacity: (this.$sub ? 0.3 : 1),\r\n\t\t}, sp));\r\n\t}\r\n\tanimSub(instant?: boolean, noAnim?: boolean) {\r\n\t\tif (!this.scene.animating) return;\r\n\t\tif (this.$sub) return;\r\n\t\tconst subsp = Dex.getSpriteData('substitute', this.isFrontSprite, {\r\n\t\t\tgen: this.scene.gen,\r\n\t\t\tmod: this.scene.mod,\r\n\t\t});\r\n\t\tthis.subsp = subsp;\r\n\t\tthis.$sub = $('<img src=\"' + subsp.url + '\" style=\"display:block;opacity:0;position:absolute\"' + (subsp.pixelated ? ' class=\"pixelated\"' : '') + ' />');\r\n\t\tthis.scene.$spritesFront[+this.isFrontSprite].append(this.$sub);\r\n\t\tthis.isSubActive = true;\r\n\t\tif (instant) {\r\n\t\t\tif (!noAnim) this.animReset();\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.$el.animate(this.scene.pos({\r\n\t\t\tx: this.x,\r\n\t\t\ty: this.y,\r\n\t\t\tz: this.behind(30),\r\n\t\t\topacity: 0.3,\r\n\t\t}, this.sp), 500);\r\n\t\tthis.$sub.css(this.scene.pos({\r\n\t\t\tx: this.x,\r\n\t\t\ty: this.y + 50,\r\n\t\t\tz: this.z,\r\n\t\t\topacity: 0,\r\n\t\t}, subsp));\r\n\t\tthis.$sub.animate(this.scene.pos({\r\n\t\t\tx: this.x,\r\n\t\t\ty: this.y,\r\n\t\t\tz: this.z,\r\n\t\t}, subsp), 500);\r\n\t\tthis.scene.waitFor(this.$sub);\r\n\t}\r\n\tanimSubFade(instant?: boolean) {\r\n\t\tif (!this.$sub || !this.scene.animating) return;\r\n\t\tthis.isSubActive = false;\r\n\t\tif (instant) {\r\n\t\t\tthis.$sub.remove();\r\n\t\t\tthis.$sub = null;\r\n\t\t\tthis.animReset();\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (this.scene.timeOffset) {\r\n\t\t\tthis.$el.delay(this.scene.timeOffset);\r\n\t\t\tthis.$sub.delay(this.scene.timeOffset);\r\n\t\t}\r\n\t\tthis.$sub.animate(this.scene.pos({\r\n\t\t\tx: this.x,\r\n\t\t\ty: this.y - 50,\r\n\t\t\tz: this.z,\r\n\t\t\topacity: 0,\r\n\t\t}, this.subsp!), 500);\r\n\t\tthis.$sub = null;\r\n\t\tthis.anim({ time: 500 });\r\n\t\tif (this.scene.animating) this.scene.waitFor(this.$el);\r\n\t}\r\n\tbeforeMove() {\r\n\t\tif (!this.scene.animating) return false;\r\n\t\tif (!this.isSubActive) return false;\r\n\t\tthis.isSubActive = false;\r\n\t\tthis.anim({ time: 300 });\r\n\t\tthis.$sub!.animate(this.scene.pos({\r\n\t\t\tx: this.leftof(-50),\r\n\t\t\ty: this.y,\r\n\t\t\tz: this.z,\r\n\t\t\topacity: 0.5,\r\n\t\t}, this.subsp!), 300);\r\n\t\tfor (const side of this.scene.battle.sides) { for (const active of side.active) { if (active && active.sprite !== this) { active.sprite.delay(300); } } }\r\n\t\tthis.scene.wait(300);\r\n\t\tthis.scene.waitFor(this.$el);\r\n\t\treturn true;\r\n\t}\r\n\tafterMove() {\r\n\t\tif (!this.scene.animating) return false;\r\n\t\tif (!this.$sub || this.isSubActive) return false;\r\n\t\tthis.isSubActive = true;\r\n\t\tthis.$sub.delay(300);\r\n\t\tthis.$el.add(this.$sub).promise().done(() => {\r\n\t\t\tif (!this.$sub || !this.$el) return;\r\n\t\t\tthis.$el.animate(this.scene.pos({\r\n\t\t\t\tx: this.x,\r\n\t\t\t\ty: this.y,\r\n\t\t\t\tz: this.behind(30),\r\n\t\t\t\topacity: 0.3,\r\n\t\t\t}, this.sp), 300);\r\n\t\t\tthis.anim({ time: 300 });\r\n\t\t});\r\n\t\treturn false;\r\n\t}\r\n\tremoveSub() {\r\n\t\tif (!this.$sub) return;\r\n\t\tthis.isSubActive = false;\r\n\t\tif (!this.scene.animating) { this.$sub.remove(); } \r\n\t\telse {\r\n\t\t\tconst $sub = this.$sub;\r\n\t\t\t$sub.animate({ opacity: 0, }, \r\n\t\t\t() => { $sub.remove(); });\r\n\t\t}\r\n\t\tthis.$sub = null;\r\n\t}\r\n\treset(pokemon: Pokemon) {\r\n\t\tthis.clearEffects();\r\n\t\tif (pokemon.volatiles.formechange || pokemon.volatiles.dynamax || pokemon.volatiles.terastallize) {\r\n\t\t\tif (!this.oldsp) this.oldsp = this.sp;\r\n\t\t\tthis.sp = Dex.getSpriteData(pokemon, this.isFrontSprite, {\r\n\t\t\t\tgen: this.scene.gen,\r\n\t\t\t\tmod: this.scene.mod,\r\n\t\t\t});\r\n\t\t} else if (this.oldsp) {\r\n\t\t\tthis.sp = this.oldsp;\r\n\t\t\tthis.oldsp = null;\r\n\t\t}\r\n\t\t// I can rant for ages about how jQuery sucks, necessitating this function\r\n\t\t// The short version is: after calling elem.finish() on an animating element, there appear to be a grand total of zero ways to hide it afterwards. I've tried `elem.css('display', 'none')`, `elem.hide()`,\r\n\t\t// `elem.hide(1)`, `elem.hide(1000)`, `elem.css('opacity', 0)`,\r\n\t\t// `elem.animate({opacity: 0}, 1000)`.\r\n\t\t// They literally all do nothing, and the element retains a style attribute containing `display: inline-block` and `opacity: 1`\r\n\t\t// Only forcibly removing the element from the DOM actually makes it disappear, so that's what we do.\r\n\t\tif (this.$el) {\r\n\t\t\tthis.$el.stop(true, false);\r\n\t\t\tthis.$el.remove();\r\n\t\t\tconst $newEl = $(`<img src=\"${this.sp.url!}\" style=\"display:none;position:absolute\"${this.sp.pixelated ? ' class=\"pixelated\"' : ''} />`);\r\n\t\t\tthis.$el = $newEl;\r\n\t\t}\r\n\t\tif (!pokemon.isActive()) {\r\n\t\t\tif (this.$statbar) {\r\n\t\t\t\tthis.$statbar.remove();\r\n\t\t\t\tthis.$statbar = null;\r\n\t\t\t}\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (this.$el) this.scene.$sprites[+this.isFrontSprite].append(this.$el);\r\n\t\tthis.recalculatePos(pokemon.slot);\r\n\t\tthis.resetStatbar(pokemon);\r\n\t\tthis.$el.css(this.scene.pos({\r\n\t\t\tdisplay: 'block',\r\n\t\t\tx: this.x,\r\n\t\t\ty: this.y,\r\n\t\t\tz: this.z,\r\n\t\t}, this.sp));\r\n\t\tfor (const id in pokemon.volatiles) this.addEffect(id as ID, true);\r\n\t\tfor (const id in pokemon.turnstatuses) this.addEffect(id as ID, true);\r\n\t\tfor (const id in pokemon.movestatuses) this.addEffect(id as ID, true);\r\n\t}\r\n\tanimReset() {\r\n\t\tif (!this.scene.animating) return;\r\n\t\tif (this.$sub) {\r\n\t\t\tthis.isSubActive = true;\r\n\t\t\tthis.$el.stop(true, false);\r\n\t\t\tthis.$sub.stop(true, false);\r\n\t\t\tthis.$el.css(this.scene.pos({\r\n\t\t\t\tx: this.x,\r\n\t\t\t\ty: this.y,\r\n\t\t\t\tz: this.behind(30),\r\n\t\t\t\topacity: 0.3,\r\n\t\t\t}, this.sp));\r\n\t\t\tthis.$sub.css(this.scene.pos({\r\n\t\t\t\tx: this.x,\r\n\t\t\t\ty: this.y,\r\n\t\t\t\tz: this.z,\r\n\t\t\t}, this.subsp!));\r\n\t\t} else {\r\n\t\t\tthis.$el.stop(true, false);\r\n\t\t\tthis.$el.css(this.scene.pos({\r\n\t\t\t\tx: this.x,\r\n\t\t\t\ty: this.y,\r\n\t\t\t\tz: this.z,\r\n\t\t\t}, this.sp));\r\n\t\t}\r\n\t}\r\n\trecalculatePos(slot: number) {\r\n\tlet moreActive = this.scene.activeCount - 1;\r\n\tlet statbarOffset = 0;\r\n\tconst isFFA = this.scene.battle.gameType === 'freeforall';\r\n\tif (isFFA) {\r\n\t\t// create a gap between Pokemon on the same \"side\" as a distinction between FFA and Multi battles\r\n\t\tmoreActive++;\r\n\t\tif (slot) slot++;\r\n\t}\r\n\r\n\tif (this.scene.gen <= 4 && moreActive) {\r\n\t\tthis.x = (slot - 0.52) * (this.isFrontSprite ? 1 : -1) * -55;\r\n\t\tthis.y = (this.isFrontSprite ? 1 : -1) + 1;\r\n\r\n\t\tif (this.isFrontSprite) statbarOffset = 30 * slot;\r\n\t\tif (!this.isFrontSprite) statbarOffset = -28 * slot;\r\n\r\n\t} else {\r\n\t\tswitch (moreActive) {\r\n\t\tcase 0:\r\n\t\t\tthis.x = 0;\r\n\t\t\tbreak;\r\n\t\tcase 1:\r\n\t\t\tif (this.sp.pixelated) {\r\n\t\t\t\tthis.x = (slot * -100 + 18) * (this.isFrontSprite ? 1 : -1);\r\n\t\t\t} else {\r\n\t\t\t\tthis.x = (slot * -75 + 18) * (this.isFrontSprite ? 1 : -1);\r\n\t\t\t}\r\n\t\t\tbreak;\r\n\t\tcase 2:\r\n\t\t\tthis.x = (slot * -70 + 20) * (this.isFrontSprite ? 1 : -1);\r\n\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\tthis.y = this.isFrontSprite ? slot * 7 : slot * -10;\r\n\r\n\t\t// Right-side slots:\r\n\t\t//   opponent/front sprites -> slot 0\r\n\t\t//   your/back sprites      -> slot 1\r\n\t\tif (moreActive === 1) {\r\n\t\t\tconst isRightSide =\r\n\t\t\t\t(this.isFrontSprite && slot === 0) ||\r\n\t\t\t\t(!this.isFrontSprite && slot === 1);\r\n\r\n\t\t\tif (isRightSide) {\r\n    \t\t\tthis.y -= 10; \r\n    \t\t\tthis.x += 12; \r\n  \t\t\t}\r\n\t\t}\r\n\r\n\t\tif (this.isFrontSprite) statbarOffset = 17 * slot;\r\n\t\tif (this.isFrontSprite && !moreActive && this.sp.pixelated) statbarOffset = 15;\r\n\t\tif (!this.isFrontSprite) statbarOffset = -7 * slot;\r\n\t\tif (this.isFrontSprite && moreActive === 2) statbarOffset = 14 * slot - 10;\r\n\t}\r\n\r\n\tif (this.scene.gen <= 2) {\r\n\t\tstatbarOffset += this.isFrontSprite ? 20 : 1;\r\n\t} else if (this.scene.gen <= 3) {\r\n\t\tstatbarOffset += this.isFrontSprite ? 30 : 5;\r\n\t} else if (this.scene.gen !== 5) {\r\n\t\tstatbarOffset += this.isFrontSprite ? 30 : 20;\r\n\t}\r\n\r\n\tlet pos = this.scene.pos({\r\n\t\tx: this.x,\r\n\t\ty: this.y,\r\n\t\tz: this.z,\r\n\t}, {\r\n\t\tw: 0,\r\n\t\th: 96,\r\n\t});\r\n\r\n\tpos.top += 40;\r\n\tthis.left = pos.left;\r\n\tthis.top = pos.top;\r\n\tthis.statbarLeft = pos.left - 80;\r\n\tthis.statbarTop = pos.top - 73 - statbarOffset;\r\n\tif (this.statbarTop < -4) this.statbarTop = -4;\r\n\r\n\tif (moreActive) {\r\n\t\t// make sure element is in the right z-order\r\n\t\tif (!!slot === this.isFrontSprite) {\r\n\t\t\tthis.$el.prependTo(this.$el.parent());\r\n\t\t} else {\r\n\t\t\tthis.$el.appendTo(this.$el.parent());\r\n\t\t}\r\n\t}\r\n}\r\n\tanimSummon(pokemon: Pokemon, slot: number, instant?: boolean) {\r\n\t\tif (!this.scene.animating) return;\r\n\t\tthis.scene.$sprites[+this.isFrontSprite].append(this.$el);\r\n\t\tthis.recalculatePos(slot);\r\n\t\t// 'z-index': (this.isFrontSprite ? 4-slot : 1+slot),\r\n\t\tif (instant) {\r\n\t\t\tthis.$el.css('display', 'block');\r\n\t\t\tthis.animReset();\r\n\t\t\tthis.resetStatbar(pokemon);\r\n\t\t\tif (pokemon.hasVolatile('substitute' as ID)) this.animSub(true);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (this.cryurl) { BattleSound.playEffect(this.cryurl); }\r\n\t\tthis.$el.css(this.scene.pos({\r\n\t\t\tdisplay: 'block',\r\n\t\t\tx: this.x,\r\n\t\t\ty: this.y - 10,\r\n\t\t\tz: this.z,\r\n\t\t\tscale: 0,\r\n\t\t\topacity: 0,\r\n\t\t}, this.sp));\r\n\t\tthis.scene.showEffect('pokeball', {\r\n\t\t\topacity: 0,\r\n\t\t\tx: this.x,\r\n\t\t\ty: this.y + 30,\r\n\t\t\tz: this.behind(50),\r\n\t\t\tscale: 0.7,\r\n\t\t}, {\r\n\t\t\topacity: 1,\r\n\t\t\tx: this.x,\r\n\t\t\ty: this.y - 10,\r\n\t\t\tz: this.z,\r\n\t\t\ttime: 300 / this.scene.acceleration,\r\n\t\t}, 'ballistic2', 'fade');\r\n\t\tif (this.scene.gen <= 4) {\r\n\t\t\tthis.delay(this.scene.timeOffset + 300 / this.scene.acceleration).anim({\r\n\t\t\t\tx: this.x,\r\n\t\t\t\ty: this.y,\r\n\t\t\t\tz: this.z,\r\n\t\t\t\ttime: 400 / this.scene.acceleration,\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tthis.delay(this.scene.timeOffset + 300 / this.scene.acceleration).anim({\r\n\t\t\t\tx: this.x,\r\n\t\t\t\ty: this.y + 30,\r\n\t\t\t\tz: this.z,\r\n\t\t\t\ttime: 400 / this.scene.acceleration,\r\n\t\t\t}).anim({\r\n\t\t\t\tx: this.x,\r\n\t\t\t\ty: this.y,\r\n\t\t\t\tz: this.z,\r\n\t\t\t\ttime: 300 / this.scene.acceleration,\r\n\t\t\t}, 'accel');\r\n\t\t}\r\n\t\tif (this.sp.shiny && this.scene.acceleration < 2) BattleOtherAnims.shiny.anim(this.scene, [this]);\r\n\t\tthis.scene.waitFor(this.$el);\r\n\t\tif (pokemon.hasVolatile('substitute' as ID)) {\r\n\t\t\tthis.animSub(true, true);\r\n\t\t\tthis.$sub!.css(this.scene.pos({\r\n\t\t\t\tx: this.x,\r\n\t\t\t\ty: this.y,\r\n\t\t\t\tz: this.z,\r\n\t\t\t}, this.subsp!));\r\n\t\t\tthis.$el.animate(this.scene.pos({\r\n\t\t\t\tx: this.x,\r\n\t\t\t\ty: this.y,\r\n\t\t\t\tz: this.behind(30),\r\n\t\t\t\topacity: 0.3,\r\n\t\t\t}, this.sp), 300);\r\n\t\t}\r\n\t\tthis.resetStatbar(pokemon, true);\r\n\t\tthis.scene.updateSidebar(pokemon.side);\r\n\t\tthis.$statbar!.css({\r\n\t\t\tdisplay: 'block',\r\n\t\t\tleft: this.statbarLeft,\r\n\t\t\ttop: this.statbarTop + 20,\r\n\t\t\topacity: 0,\r\n\t\t});\r\n\t\tthis.$statbar!.delay(300 / this.scene.acceleration).animate({\r\n\t\t\ttop: this.statbarTop,\r\n\t\t\topacity: 1,\r\n\t\t}, 400 / this.scene.acceleration);\r\n\t\tthis.dogarsCheck(pokemon);\r\n\t}\r\n\tanimDragIn(pokemon: Pokemon, slot: number) {\r\n\t\tif (!this.scene.animating) return;\r\n\t\tthis.scene.$sprites[+this.isFrontSprite].append(this.$el);\r\n\t\tthis.recalculatePos(slot);\r\n\t\t// 'z-index': (this.isFrontSprite ? 4-slot : 1+slot),\r\n\t\tthis.$el.css(this.scene.pos({\r\n\t\t\tdisplay: 'block',\r\n\t\t\tx: this.leftof(-100),\r\n\t\t\ty: this.y,\r\n\t\t\tz: this.z,\r\n\t\t\topacity: 0,\r\n\t\t}, this.sp));\r\n\t\tthis.delay(300).anim({\r\n\t\t\tx: this.x,\r\n\t\t\ty: this.y,\r\n\t\t\tz: this.z,\r\n\t\t\ttime: 400,\r\n\t\t}, 'decel');\r\n\t\tif (!!this.scene.animating && this.sp.shiny) BattleOtherAnims.shiny.anim(this.scene, [this]);\r\n\t\tthis.scene.waitFor(this.$el);\r\n\t\tthis.scene.timeOffset = 700;\r\n\t\tthis.resetStatbar(pokemon, true);\r\n\t\tthis.scene.updateSidebar(pokemon.side);\r\n\t\tthis.$statbar!.css({\r\n\t\t\tdisplay: 'block',\r\n\t\t\tleft: this.statbarLeft + (this.isFrontSprite ? -100 : 100),\r\n\t\t\ttop: this.statbarTop,\r\n\t\t\topacity: 0,\r\n\t\t});\r\n\t\tthis.$statbar!.delay(300).animate({\r\n\t\t\tleft: this.statbarLeft,\r\n\t\t\topacity: 1,\r\n\t\t}, 400);\r\n\t\tthis.dogarsCheck(pokemon);\r\n\t}\r\n\tanimDragOut(pokemon: Pokemon) {\r\n\t\tif (!this.scene.animating) return this.animUnsummon(pokemon, true);\r\n\t\tif (this.$sub) {\r\n\t\t\tthis.isSubActive = false;\r\n\t\t\tconst $sub = this.$sub;\r\n\t\t\t$sub.animate(this.scene.pos({\r\n\t\t\t\tx: this.leftof(100),\r\n\t\t\t\ty: this.y,\r\n\t\t\t\tz: this.z,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 400,\r\n\t\t\t}, this.subsp!), () => { $sub.remove(); });\r\n\t\t\tthis.$sub = null;\r\n\t\t}\r\n\t\tthis.anim({\r\n\t\t\tx: this.leftof(100),\r\n\t\t\ty: this.y,\r\n\t\t\tz: this.z,\r\n\t\t\topacity: 0,\r\n\t\t\ttime: 400,\r\n\t\t}, 'accel');\r\n\t\tthis.updateStatbar(pokemon, true);\r\n\t\tlet $statbar = this.$statbar;\r\n\t\tif ($statbar) {\r\n\t\t\tthis.$statbar = null;\r\n\t\t\t$statbar.animate({\r\n\t\t\t\tleft: this.statbarLeft - (this.isFrontSprite ? -100 : 100),\r\n\t\t\t\topacity: 0,\r\n\t\t\t}, 300 / this.scene.acceleration, () => { $statbar.remove(); });\r\n\t\t}\r\n\t}\r\n\tanimUnsummon(pokemon: Pokemon, instant?: boolean) {\r\n\t\tthis.removeSub();\r\n\t\tif (!this.scene.animating || instant) {\r\n\t\t\tthis.$el.hide();\r\n\t\t\tif (this.$statbar) {\r\n\t\t\t\tthis.$statbar.remove();\r\n\t\t\t\tthis.$statbar = null;\r\n\t\t\t}\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (this.scene.gen <= 4) {\r\n\t\t\tthis.anim({\r\n\t\t\t\tx: this.x,\r\n\t\t\t\ty: this.y - 25,\r\n\t\t\t\tz: this.z,\r\n\t\t\t\tscale: 0,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 400 / this.scene.acceleration,\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tthis.anim({\r\n\t\t\t\tx: this.x,\r\n\t\t\t\ty: this.y - 40,\r\n\t\t\t\tz: this.z,\r\n\t\t\t\tscale: 0,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 400 / this.scene.acceleration,\r\n\t\t\t});\r\n\t\t}\r\n\t\tthis.scene.showEffect('pokeball', {\r\n\t\t\topacity: 1,\r\n\t\t\tx: this.x,\r\n\t\t\ty: this.y - 40,\r\n\t\t\tz: this.z,\r\n\t\t\tscale: 0.7,\r\n\t\t\ttime: 300 / this.scene.acceleration,\r\n\t\t}, {\r\n\t\t\topacity: 0,\r\n\t\t\tx: this.x,\r\n\t\t\ty: this.y,\r\n\t\t\tz: this.behind(50),\r\n\t\t\ttime: 700 / this.scene.acceleration,\r\n\t\t}, 'ballistic2');\r\n\t\tif (this.scene.acceleration < 3) this.scene.wait(600 / this.scene.acceleration);\r\n\t\tthis.updateStatbar(pokemon, true);\r\n\t\tlet $statbar = this.$statbar;\r\n\t\tif ($statbar) {\r\n\t\t\tthis.$statbar = null;\r\n\t\t\t$statbar.animate({ left: this.statbarLeft + (this.isFrontSprite ? 50 : -50), opacity: 0, }, \r\n\t\t\t300 / this.scene.acceleration, () => { $statbar.remove(); });\r\n\t\t}\r\n\t}\r\n\tanimFaint(pokemon: Pokemon) {\r\n\t\tthis.removeSub();\r\n\t\tif (!this.scene.animating) {\r\n\t\t\tthis.$el.remove();\r\n\t\t\tif (this.$statbar) {\r\n\t\t\t\tthis.$statbar.remove();\r\n\t\t\t\tthis.$statbar = null;\r\n\t\t\t}\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.updateStatbar(pokemon, false, true);\r\n\t\tthis.scene.updateSidebar(pokemon.side);\r\n\t\tif (this.cryurl) { BattleSound.playEffect(this.cryurl); }\r\n\t\tthis.anim({\r\n\t\t\ty: this.y - 80,\r\n\t\t\topacity: 0,\r\n\t\t}, 'accel');\r\n\t\tthis.scene.waitFor(this.$el);\r\n\t\tthis.$el.promise().done(() => { this.$el.remove(); });\r\n\t\tlet $statbar = this.$statbar;\r\n\t\tif ($statbar) {\r\n\t\t\tthis.$statbar = null;\r\n\t\t\t$statbar.animate({ opacity: 0, }, \r\n\t\t\t300, () => { $statbar.remove(); });\r\n\t\t}\r\n\t}\r\n\t/**\r\n\t * @param pokemon\r\n\t * @param useSpeciesAnim false = Transform the move or Imposter the ability\r\n\t * @param isPermanent false = reverts on switch-out\r\n\t */\r\n\tanimTransform(pokemon: Pokemon, useSpeciesAnim?: boolean, isPermanent?: boolean) {\r\n\t\tif (!this.scene.animating && !isPermanent) return;\r\n\t\tlet sp = Dex.getSpriteData(pokemon, this.isFrontSprite, {\r\n\t\t\tgen: this.scene.gen,\r\n\t\t\tmod: this.scene.mod,\r\n\t\t});\r\n\t\tlet oldsp = this.sp;\r\n\t\tif (isPermanent) {\r\n\t\t\tif (pokemon.volatiles.dynamax) {\r\n\t\t\t\t// if a permanent forme change happens while dynamaxed, we need an undynamaxed sprite to go back to\r\n\t\t\t\tthis.oldsp = Dex.getSpriteData(pokemon, this.isFrontSprite, {\r\n\t\t\t\t\tgen: this.scene.gen,\r\n\t\t\t\t\tmod: this.scene.mod,\r\n\t\t\t\t\tdynamax: false,\r\n\t\t\t\t});\r\n\t\t\t} else { this.oldsp = null; }\r\n\t\t} else if (!this.oldsp) { this.oldsp = oldsp; }\r\n\t\tthis.sp = sp;\r\n\t\tthis.cryurl = sp.cryurl;\r\n\t\tif (!this.scene.animating) return;\r\n\t\tlet speciesid = toID(pokemon.getSpeciesForme());\r\n\t\tlet doCry = false;\r\n\t\tlet skipAnim = !pokemon.isActive();\r\n\t\tconst scene = this.scene;\r\n\t\tif (useSpeciesAnim && !skipAnim) {\r\n\t\t\tif (speciesid === 'kyogreprimal') {\r\n\t\t\t\tBattleOtherAnims.primalalpha.anim(scene, [this]);\r\n\t\t\t\tdoCry = true;\r\n\t\t\t} else if (speciesid === 'groudonprimal') {\r\n\t\t\t\tBattleOtherAnims.primalomega.anim(scene, [this]);\r\n\t\t\t\tdoCry = true;\r\n\t\t\t} else if (speciesid === 'necrozmaultra') {\r\n\t\t\t\tBattleOtherAnims.ultraburst.anim(scene, [this]);\r\n\t\t\t\tdoCry = true;\r\n\t\t\t} else if (speciesid === 'zygardecomplete') { BattleOtherAnims.powerconstruct.anim(scene, [this]); } \r\n\t\t\telse if (speciesid === 'wishiwashischool' || speciesid === 'greninjaash') { BattleOtherAnims.schoolingin.anim(scene, [this]); } \r\n\t\t\telse if (speciesid === 'wishiwashi') { BattleOtherAnims.schoolingout.anim(scene, [this]); } \r\n\t\t\telse if (speciesid === 'mimikyubusted' || speciesid === 'mimikyubustedtotem' || speciesid === 'aegislash' || speciesid === 'aegislashblade') {} \r\n\t\t\telse if (speciesid === 'palafinhero') { skipAnim = true; } \r\n\t\t\telse {\r\n\t\t\t\tBattleOtherAnims.megaevo.anim(scene, [this]);\r\n\t\t\t\tdoCry = true;\r\n\t\t\t}\r\n\t\t}\r\n\t\t// Constructing here gives us 300ms extra time to preload the new sprite\r\n\t\tlet $newEl = $('<img src=\"' + sp.url + '\" style=\"display:block;opacity:0;position:absolute\"' + (sp.pixelated ? ' class=\"pixelated\"' : '') + ' />');\r\n\t\t$newEl.css(this.scene.pos({\r\n\t\t\tx: this.x,\r\n\t\t\ty: this.y,\r\n\t\t\tz: this.z,\r\n\t\t\tyscale: 0,\r\n\t\t\txscale: 0,\r\n\t\t\topacity: 0,\r\n\t\t}, sp));\r\n\t\tif (skipAnim) {\r\n\t\t\tthis.$el.replaceWith($newEl);\r\n\t\t\tthis.$el = $newEl;\r\n\t\t\tthis.animReset();\r\n\t\t} else {\r\n\t\t\tthis.$el.animate(this.scene.pos({\r\n\t\t\t\tx: this.x,\r\n\t\t\t\ty: this.y,\r\n\t\t\t\tz: this.z,\r\n\t\t\t\tyscale: 0,\r\n\t\t\t\txscale: 0,\r\n\t\t\t\topacity: 0.3,\r\n\t\t\t}, oldsp), 300, () => {\r\n\t\t\t\tif (this.cryurl && doCry) { BattleSound.playEffect(this.cryurl); }\r\n\t\t\t\tthis.$el.replaceWith($newEl);\r\n\t\t\t\tthis.$el = $newEl;\r\n\t\t\t\tthis.$el.animate(scene.pos({\r\n\t\t\t\t\tx: this.x,\r\n\t\t\t\t\ty: this.y,\r\n\t\t\t\t\tz: this.z,\r\n\t\t\t\t\topacity: 1,\r\n\t\t\t\t}, sp), 300);\r\n\t\t\t});\r\n\t\t\tthis.scene.wait(500);\r\n\t\t}\r\n\t\tthis.scene.updateSidebar(pokemon.side);\r\n\t\tif (isPermanent) { this.resetStatbar(pokemon); } \r\n\t\telse { this.updateStatbar(pokemon); }\r\n\t}\r\n\tpokeEffect(id: ID) {\r\n\t\tif (id === 'protect' || id === 'magiccoat') {\r\n\t\t\tthis.effects[id][0].anim({\r\n\t\t\t\tscale: 1.2,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 100,\r\n\t\t\t}).anim({\r\n\t\t\t\topacity: 0.4,\r\n\t\t\t\ttime: 300,\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\taddEffect(id: ID, instant?: boolean) {\r\n\t\tif (id in this.effects) {\r\n\t\t\tthis.pokeEffect(id);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tconst spriten = +this.isFrontSprite;\r\n\t\tif (id === 'substitute' || id === 'shedtail') { this.animSub(instant); } \r\n\t\telse if (id === 'leechseed') {\r\n\t\t\tconst pos1 = {\r\n\t\t\t\tdisplay: 'block',\r\n\t\t\t\tx: this.x - 30,\r\n\t\t\t\ty: this.y - 40,\r\n\t\t\t\tz: this.z,\r\n\t\t\t\tscale: 0.2,\r\n\t\t\t\topacity: 0.6,\r\n\t\t\t};\r\n\t\t\tconst pos2 = {\r\n\t\t\t\tdisplay: 'block',\r\n\t\t\t\tx: this.x + 40,\r\n\t\t\t\ty: this.y - 35,\r\n\t\t\t\tz: this.z,\r\n\t\t\t\tscale: 0.2,\r\n\t\t\t\topacity: 0.6,\r\n\t\t\t};\r\n\t\t\tconst pos3 = {\r\n\t\t\t\tdisplay: 'block',\r\n\t\t\t\tx: this.x + 20,\r\n\t\t\t\ty: this.y - 25,\r\n\t\t\t\tz: this.z,\r\n\t\t\t\tscale: 0.2,\r\n\t\t\t\topacity: 0.6,\r\n\t\t\t};\r\n\t\t\tconst leechseed1 = new Sprite(BattleEffects.energyball, pos1, this.scene);\r\n\t\t\tconst leechseed2 = new Sprite(BattleEffects.energyball, pos2, this.scene);\r\n\t\t\tconst leechseed3 = new Sprite(BattleEffects.energyball, pos3, this.scene);\r\n\t\t\tthis.scene.$spritesFront[spriten].append(leechseed1.$el);\r\n\t\t\tthis.scene.$spritesFront[spriten].append(leechseed2.$el);\r\n\t\t\tthis.scene.$spritesFront[spriten].append(leechseed3.$el);\r\n\t\t\tthis.effects['leechseed'] = [leechseed1, leechseed2, leechseed3];\r\n\t\t} else if (id === 'protect' || id === 'magiccoat') {\r\n\t\t\tconst protect = new Sprite(BattleEffects.protect, {\r\n\t\t\t\tdisplay: 'block',\r\n\t\t\t\tx: this.x,\r\n\t\t\t\ty: this.y,\r\n\t\t\t\tz: this.behind(-15),\r\n\t\t\t\txscale: 1,\r\n\t\t\t\tyscale: 0,\r\n\t\t\t\topacity: 0.1,\r\n\t\t\t}, this.scene);\r\n\t\t\tthis.scene.$spritesFront[spriten].append(protect.$el);\r\n\t\t\tthis.effects[id] = [protect];\r\n\t\t\tprotect.anim({\r\n\t\t\t\topacity: 0.9,\r\n\t\t\t\ttime: instant ? 0 : 400,\r\n\t\t\t}).anim({\r\n\t\t\t\topacity: 0.4,\r\n\t\t\t\ttime: instant ? 0 : 300,\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\tremoveEffect(id: ID, instant?: boolean) {\r\n\t\tif (id === 'formechange') this.removeTransform();\r\n\t\tif (id === 'substitute') this.animSubFade(instant);\r\n\t\tif (this.effects[id]) {\r\n\t\t\tfor (const sprite of this.effects[id]) sprite.destroy();\r\n\t\t\tdelete this.effects[id];\r\n\t\t}\r\n\t}\r\n\tclearEffects() {\r\n\t\tfor (const id in this.effects) this.removeEffect(id as ID, true);\r\n\t\tthis.animSubFade(true);\r\n\t\tthis.removeTransform();\r\n\t}\r\n\tdogarsCheck(pokemon: Pokemon) {\r\n\t\tif (pokemon.side.isFar) return;\r\n\t\tif (pokemon.speciesForme === 'Koffing' && (/dogars/i.exec(pokemon.name))) { this.scene.setBgm(-1); }\r\n\t\t else if (this.scene.bgmNum === -1) { this.scene.rollBgm(); }\r\n\t}\r\n\r\n\t//region Statbar\r\n\tgetClassForPosition(slot: number) {\r\n\t\t// DOUBLES: Slot0 -> left / Slot1 -> Right\r\n\t\t// TRIPLES: slot0 -> left / Slot1 -> Center / Slot2 -> Right\r\n\t\tconst position = [\r\n\t\t\t' leftstatbar',\r\n\t\t\tthis.scene.activeCount === 3 ? ' centerstatbar' : ' rightstatbar',\r\n\t\t\t' rightstatbar',\r\n\t\t];\r\n\t\treturn position[slot];\r\n\t}\r\n\tgetStatbarHTML(pokemon: Pokemon) {\r\n\t\tlet buf = '<div class=\"statbar' + (this.isFrontSprite ? ' lstatbar' : ' rstatbar') + this.getClassForPosition(pokemon.slot) + '\" style=\"display: none\">';\r\n\t\tconst ignoreNick = this.isFrontSprite && (this.scene.battle.ignoreOpponent || this.scene.battle.ignoreNicks);\r\n\t\tbuf += `<strong>${BattleLog.escapeHTML(ignoreNick ? pokemon.speciesForme : pokemon.name)}`;\r\n\t\tconst gender = pokemon.gender;\r\n\t\tif (gender === 'M' || gender === 'F') { buf += ` <img src=\"${Dex.fxPrefix}gender-${gender.toLowerCase()}.png\" alt=\"${gender}\" width=\"7\" height=\"10\" class=\"pixelated\" />`; }\r\n\t\tbuf += (pokemon.level === 100 ? `` : ` <small>L${pokemon.level}</small>`);\r\n\t\tlet symbol = '';\r\n\t\tif (pokemon.speciesForme.includes('-Mega')) symbol = 'mega';\r\n\t\telse if (pokemon.speciesForme === 'Kyogre-Primal') symbol = 'alpha';\r\n\t\telse if (pokemon.speciesForme === 'Groudon-Primal') symbol = 'omega';\r\n\t\tif (symbol) { buf += ` <img src=\"${Dex.resourcePrefix}sprites/misc/${symbol}.png\" alt=\"${symbol}\" style=\"vertical-align:text-bottom;\" />`; }\r\n\t\tif (pokemon.terastallized) { buf += ` <img src=\"${Dex.resourcePrefix}sprites/types/Tera${pokemon.terastallized}.png\" alt=\"Tera-${pokemon.terastallized}\" style=\"vertical-align:text-bottom;\" height=\"16\" width=\"16\" />`; } \r\n\t\tbuf += `</strong><div class=\"hpbar\"><div class=\"hptext\"></div><div class=\"hptextborder\"></div><div class=\"prevhp\"><div class=\"hp\"></div></div><div class=\"status\"></div>`;\r\n\t\tbuf += `</div>`;\r\n\t\treturn buf;\r\n\t}\r\n\tresetStatbar(pokemon: Pokemon, startHidden?: boolean) {\r\n\t\tif (this.$statbar) {\r\n\t\t\tthis.$statbar.remove();\r\n\t\t\tthis.$statbar = null as any; // workaround for TS thinking $statbar is still null after `updateStatbar`\r\n\t\t}\r\n\t\tthis.updateStatbar(pokemon, true);\r\n\t\tif (!startHidden && this.$statbar) {\r\n\t\t\tthis.$statbar.css({\r\n\t\t\t\tdisplay: 'block',\r\n\t\t\t\tleft: this.statbarLeft,\r\n\t\t\t\ttop: this.statbarTop,\r\n\t\t\t\topacity: 1,\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\tupdateStatbarIfExists(pokemon: Pokemon, updatePrevhp?: boolean, updateHp?: boolean) { if (this.$statbar) { this.updateStatbar(pokemon, updatePrevhp, updateHp); } }\r\n\tupdateStatbar(pokemon: Pokemon, updatePrevhp?: boolean, updateHp?: boolean) {\r\n\t\tif (!this.scene.animating) return;\r\n\t\tif (!pokemon.isActive()) {\r\n\t\t\tif (this.$statbar) this.$statbar.hide();\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (!this.$statbar) {\r\n\t\t\tthis.$statbar = $(this.getStatbarHTML(pokemon));\r\n\t\t\tthis.scene.$stat.append(this.$statbar);\r\n\t\t\tupdatePrevhp = true;\r\n\t\t}\r\n\t\tlet hpcolor;\r\n\t\tif (updatePrevhp || updateHp) {\r\n\t\t\thpcolor = BattleScene.getHPColor(pokemon);\r\n\t\t\tlet w = pokemon.hpWidth(150);\r\n\t\t\tlet $hp = this.$statbar.find('.hp');\r\n\t\t\t$hp.css({\r\n\t\t\t\twidth: w,\r\n\t\t\t\t'border-right-width': (w ? 1 : 0),\r\n\t\t\t});\r\n\t\t\tif (hpcolor === 'g') $hp.removeClass('hp-yellow hp-red');\r\n\t\t\telse if (hpcolor === 'y') $hp.removeClass('hp-red').addClass('hp-yellow');\r\n\t\t\telse $hp.addClass('hp-yellow hp-red');\r\n\t\t\tthis.updateHPText(pokemon);\r\n\t\t}\r\n\t\tif (updatePrevhp) {\r\n\t\t\tlet $prevhp = this.$statbar.find('.prevhp');\r\n\t\t\t$prevhp.css('width', pokemon.hpWidth(150) + 1);\r\n\t\t\tif (hpcolor === 'g') $prevhp.removeClass('prevhp-yellow prevhp-red');\r\n\t\t\telse if (hpcolor === 'y') $prevhp.removeClass('prevhp-red').addClass('prevhp-yellow');\r\n\t\t\telse $prevhp.addClass('prevhp-yellow prevhp-red');\r\n\t\t}\r\n\t\tlet status = '';\r\n\t\tconst STATUS_ICON_PATH = Dex.resourcePrefix + \"sprites/status-is/\";\r\n\r\n\t\tconst statusIcons: {[k: string]: string} = {\r\n  \t\t\tbrn: \"Burn_IS.png\",\r\n  \t\t\tpsn: \"Poison_IS.png\",\r\n  \t\t\ttox: \"Toxic_IS.png\",\r\n  \t\t\tslp: \"Sleep_IS.png\",\r\n  \t\t\tpar: \"Paralysis_IS.png\",\r\n  \t\t\tfrz: \"Frozen_IS.png\",\r\n\t\t\t\r\n  \t\t\taura: \"Aura_IS.png\",\r\n  \t\t\tbubbleblight: \"Bubbleblight_IS.png\",\r\n  \t\t\tdragonblight: \"Dragonblight_IS.png\",\r\n  \t\t\tdrowsy: \"Drowsy_IS.png\",\r\n  \t\t\tfear: \"Fear_IS.png\",\r\n  \t\t\tfrostbite: \"Frostbite_IS.png\",\r\n\t\t};\r\n\t\tif (pokemon.status && statusIcons[pokemon.status]) {\r\n  \t\t\tconst file = statusIcons[pokemon.status];\r\n  \t\t\tstatus += `<img src=\"${STATUS_ICON_PATH}${file}\"\r\n                class=\"status-icon\"\r\n                alt=\"${pokemon.status}\" /> `;\r\n\t\t}\r\n\t\tif (pokemon.terastallized) { status += `<img src=\"${Dex.resourcePrefix}sprites/types/${encodeURIComponent(pokemon.terastallized)}.png\" alt=\"${pokemon.terastallized}\" class=\"pixelated\" /> `; } \r\n\t\telse if (pokemon.volatiles.typechange && pokemon.volatiles.typechange[1]) {\r\n\t\t\tconst types = pokemon.volatiles.typechange[1].split('/');\r\n\t\t\tfor (const type of types) { status += '<img src=\"' + Dex.resourcePrefix + 'sprites/types/' + encodeURIComponent(type) + '.png\" alt=\"' + type + '\" class=\"pixelated\" /> '; }\r\n\t\t}\r\n\t\tif (pokemon.volatiles.typeadd) {\r\n\t\t\tconst type = pokemon.volatiles.typeadd[1];\r\n\t\t\tstatus += '+<img src=\"' + Dex.resourcePrefix + 'sprites/types/' + type + '.png\" alt=\"' + type + '\" class=\"pixelated\" /> ';\r\n\t\t}\r\n\t\tfor (const stat in pokemon.boosts) { if (pokemon.boosts[stat]) { status += '<span class=\"' + pokemon.getBoostType(stat as Dex.BoostStatName) + '\">' + pokemon.getBoost(stat as Dex.BoostStatName) + '</span> '; } }\r\n\t\tfor (let i in pokemon.volatiles) { status += PokemonSprite.getEffectTag(i); }\r\n\t\tfor (let i in pokemon.turnstatuses) {\r\n\t\t\tif (i === 'roost' && !pokemon.getTypeList().includes('Flying')) continue;\r\n\t\t\tstatus += PokemonSprite.getEffectTag(i);\r\n\t\t}\r\n\t\tfor (let i in pokemon.movestatuses) { status += PokemonSprite.getEffectTag(i); }\r\n\t\tlet statusbar = this.$statbar.find('.status');\r\n\t\tstatusbar.html(status);\r\n\t}\r\n\r\n\tprivate static getEffectTag(id: string) {\r\n\t\tlet effect = PokemonSprite.statusTable[id];\r\n\t\tif (typeof effect === 'string') return effect;\r\n\t\tif (effect === null) return (PokemonSprite.statusTable[id] = '');\r\n\t\tif (effect === undefined) {\r\n\t\t\tlet label = `[[${id}]]`;\r\n\t\t\tif (Dex.species.get(id).exists) { label = Dex.species.get(id).name; } \r\n\t\t\telse if (Dex.items.get(id).exists) { label = Dex.items.get(id).name; } \r\n\t\t\telse if (Dex.moves.get(id).exists) { label = Dex.moves.get(id).name; } \r\n\t\t\telse if (Dex.abilities.get(id).exists) { label = Dex.abilities.get(id).name; } \r\n\t\t\telse if ((BattleNatures as any)[id.substr(0, 1).toUpperCase() + id.substr(1).toLowerCase()]) { label = id.substr(0, 1).toUpperCase() + id.substr(1).toLowerCase(); }\r\n\t\t\teffect = [label, 'neutral'];\r\n\t\t}\r\n\t\treturn (PokemonSprite.statusTable[id] = `<span class=\"${effect[1]}\">${effect[0].replace(/ /g, '&nbsp;')}</span> `);\r\n\t}\r\n\tupdateHPText(pokemon: Pokemon) {\r\n\t\tif (!this.$statbar) return;\r\n\t\tlet $hptext = this.$statbar.find('.hptext');\r\n\t\tlet $hptextborder = this.$statbar.find('.hptextborder');\r\n\t\tif (pokemon.maxhp === 48 || this.scene.battle.hardcoreMode && pokemon.maxhp === 100) {\r\n\t\t\t$hptext.hide();\r\n\t\t\t$hptextborder.hide();\r\n\t\t} else if (this.scene.battle.hardcoreMode || this.scene.battle.reportExactHP) {\r\n\t\t\t$hptext.html(`${pokemon.hp}/`);\r\n\t\t\t$hptext.show();\r\n\t\t\t$hptextborder.show();\r\n\t\t} else {\r\n\t\t\t$hptext.html(`${pokemon.hpWidth(100)}%`);\r\n\t\t\t$hptext.show();\r\n\t\t\t$hptextborder.show();\r\n\t\t}\r\n\t}\r\n}\r\n// par: -webkit-filter:  sepia(100%) hue-rotate(373deg) saturate(592%);\r\n//      -webkit-filter:  sepia(100%) hue-rotate(22deg) saturate(820%) brightness(29%);\r\n// psn: -webkit-filter:  sepia(100%) hue-rotate(618deg) saturate(285%);\r\n// brn: -webkit-filter:  sepia(100%) hue-rotate(311deg) saturate(469%);\r\n// slp: -webkit-filter:  grayscale(100%);\r\n// frz: -webkit-filter:  sepia(100%) hue-rotate(154deg) saturate(759%) brightness(23%);\r\nObject.assign($.easing, {\r\n\tballisticUp(x: number, t: number, b: number, c: number, d: number) { return -3 * x * x + 4 * x; },\r\n\tballisticDown(x: number, t: number, b: number, c: number, d: number) {\r\n\t\tx = 1 - x;\r\n\t\treturn 1 - (-3 * x * x + 4 * x);\r\n\t},\r\n\tquadUp(x: number, t: number, b: number, c: number, d: number) {\r\n\t\tx = 1 - x;\r\n\t\treturn 1 - (x * x);\r\n\t},\r\n\tquadDown(x: number, t: number, b: number, c: number, d: number) { return x * x; },\r\n});\r\n//region image data\r\ninterface AnimData {\r\n\tanim(scene: BattleScene, args: PokemonSprite[]): void;\r\n\tprepareAnim?(scene: BattleScene, args: PokemonSprite[]): void;\r\n\tresidualAnim?(scene: BattleScene, args: PokemonSprite[]): void;\r\n}\r\nexport type AnimTable = { [k: string]: AnimData };\r\nconst BattleEffects: { [k: string]: SpriteData } = {\r\n\twisp: { url: 'wisp.png',\r\n\t\tw: 100, h: 100,\r\n\t},\r\n\tpoisonwisp: { url: 'poisonwisp.png',\r\n\t\tw: 100, h: 100,\r\n\t},\r\n\twaterwisp: { url: 'waterwisp.png',\r\n\t\tw: 100, h: 100,\r\n\t},\r\n\tmudwisp: { url: 'mudwisp.png',\r\n\t\tw: 100, h: 100,\r\n\t},\r\n\tblackwisp: { url: 'blackwisp.png',\r\n\t\tw: 100, h: 100,\r\n\t},\r\n\tfireball: { url: 'fireball.png',\r\n\t\tw: 64, h: 64,\r\n\t},\r\n\tbluefireball: { url: 'bluefireball.png',\r\n\t\tw: 64, h: 64,\r\n\t},\r\n\ticicle: { url: 'icicle.png', // http://opengameart.org/content/icicle-spell\r\n\t\tw: 80, h: 60,\r\n\t},\r\n\tpinkicicle: { url: 'icicle-pink.png', // http://opengameart.org/content/icicle-spell, recolored by Kalalokki\r\n\t\tw: 80, h: 60,\r\n\t},\r\n\tlightning: { url: 'lightning.png', // by Pokemon Showdown user SailorCosmos\r\n\t\tw: 41, h: 229,\r\n\t},\r\n\trocks: { url: 'rocks.png', // Pokemon Online - Gilad\r\n\t\tw: 100, h: 100,\r\n\t},\r\n\trock1: { url: 'rock1.png', // Pokemon Online - Gilad\r\n\t\tw: 64, h: 80,\r\n\t},\r\n\trock2: { url: 'rock2.png', // Pokemon Online - Gilad\r\n\t\tw: 66, h: 72,\r\n\t},\r\n\trock3: { url: 'rock3.png', // by Pokemon Showdown user SailorCosmos\r\n\t\tw: 66, h: 72,\r\n\t},\r\n\tleaf1: { url: 'leaf1.png',\r\n\t\tw: 32, h: 26,\r\n\t},\r\n\tleaf2: { url: 'leaf2.png',\r\n\t\tw: 40, h: 26,\r\n\t},\r\n\tbone: { url: 'bone.png',\r\n\t\tw: 29, h: 29,\r\n\t},\r\n\tcaltrop: { url: 'caltrop.png', // by Pokemon Showdown user SailorCosmos\r\n\t\tw: 80, h: 80,\r\n\t},\r\n\tgreenmetal1: { url: 'greenmetal1.png', // by Pokemon Showdown user Kalalokki\r\n\t\tw: 45, h: 45,\r\n\t},\r\n\tgreenmetal2: { url: 'greenmetal2.png', // by Pokemon Showdown user Kalalokki\r\n\t\tw: 45, h: 45,\r\n\t},\r\n\tpoisoncaltrop: { url: 'poisoncaltrop.png', // by Pokemon Showdown user SailorCosmos\r\n\t\tw: 80, h: 80,\r\n\t},\r\n\tshadowball: { url: 'shadowball.png',\r\n\t\tw: 100, h: 100,\r\n\t},\r\n\tenergyball: { url: 'energyball.png',\r\n\t\tw: 100, h: 100,\r\n\t},\r\n\telectroball: { url: 'electroball.png',\r\n\t\tw: 100, h: 100,\r\n\t},\r\n\tmistball: { url: 'mistball.png',\r\n\t\tw: 100, h: 100,\r\n\t},\r\n\ticeball: { url: 'iceball.png',\r\n\t\tw: 100, h: 100,\r\n\t},\r\n\tflareball: { url: 'flareball.png',\r\n\t\tw: 100, h: 100,\r\n\t},\r\n\tmoon: { url: 'moon.png', // by Kalalokki\r\n\t\tw: 100, h: 100,\r\n\t},\r\n\tpokeball: { url: 'pokeball.png',\r\n\t\tw: 24, h: 24,\r\n\t},\r\n\tfist: { url: 'fist.png', // by Pokemon Showdown user SailorCosmos\r\n\t\tw: 55, h: 49,\r\n\t},\r\n\tfist1: { url: 'fist1.png',\r\n\t\tw: 49, h: 55,\r\n\t},\r\n\tfoot: { url: 'foot.png', // by Pokemon Showdown user SailorCosmos\r\n\t\tw: 50, h: 75,\r\n\t},\r\n\ttopbite: { url: 'topbite.png',\r\n\t\tw: 108, h: 64,\r\n\t},\r\n\tbottombite: { url: 'bottombite.png',\r\n\t\tw: 108, h: 64,\r\n\t},\r\n\tweb: { url: 'web.png', // by Pokemon Showdown user SailorCosmos\r\n\t\tw: 120, h: 122,\r\n\t},\r\n\tleftclaw: { url: 'leftclaw.png',\r\n\t\tw: 44, h: 60,\r\n\t},\r\n\trightclaw: { url: 'rightclaw.png',\r\n\t\tw: 44, h: 60,\r\n\t},\r\n\tleftslash: { url: 'leftslash.png', // by Pokemon Showdown user Modeling Clay\r\n\t\tw: 57, h: 56,\r\n\t},\r\n\trightslash: { url: 'rightslash.png', // by Pokemon Showdown user Modeling Clay\r\n\t\tw: 57, h: 56,\r\n\t},\r\n\tleftchop: { url: 'leftchop.png', // by Pokemon Showdown user SailorCosmos\r\n\t\tw: 100, h: 130,\r\n\t},\r\n\trightchop: { url: 'rightchop.png', // by Pokemon Showdown user SailorCosmos\r\n\t\tw: 100, h: 130,\r\n\t},\r\n\tangry: { url: 'angry.png', // by Pokemon Showdown user SailorCosmos\r\n\t\tw: 30, h: 30,\r\n\t},\r\n\theart: { url: 'heart.png', // by Pokemon Showdown user SailorCosmos\r\n\t\tw: 30, h: 30,\r\n\t},\r\n\tpointer: { url: 'pointer.png', // by Pokemon Showdown user SailorCosmos\r\n\t\tw: 100, h: 100,\r\n\t},\r\n\tsword: { url: 'sword.png', // by Pokemon Showdown user SailorCosmos\r\n\t\tw: 48, h: 100,\r\n\t},\r\n\timpact: { url: 'impact.png', // by Pokemon Showdown user SailorCosmos\r\n\t\tw: 127, h: 119,\r\n\t},\r\n\tstare: { url: 'stare.png',\r\n\t\tw: 100, h: 35,\r\n\t},\r\n\tshine: { url: 'shine.png', // by Smogon user Jajoken\r\n\t\tw: 127, h: 119,\r\n\t},\r\n\tfeather: { url: 'feather.png', // Ripped from http://www.clker.com/clipart-black-and-white-feather.html\r\n\t\tw: 100, h: 38,\r\n\t},\r\n\tshell: { url: 'shell.png', // by Smogon user Jajoken\r\n\t\tw: 100, h: 91.5,\r\n\t},\r\n\tpetal: { url: 'petal.png', // by Smogon user Jajoken\r\n\t\tw: 60, h: 60,\r\n\t},\r\n\tgear: { url: 'gear.png', // by Smogon user Jajoken\r\n\t\tw: 100, h: 100,\r\n\t},\r\n\talpha: { url: 'alpha.png', // Ripped from Pokemon Global Link\r\n\t\tw: 80, h: 80,\r\n\t},\r\n\tomega: { url: 'omega.png', // Ripped from Pokemon Global Link\r\n\t\tw: 80, h: 80,\r\n\t},\r\n\trainbow: { url: 'rainbow.png',\r\n\t\tw: 128, h: 128,\r\n\t},\r\n\tzsymbol: { url: 'z-symbol.png', // From http://froggybutt.deviantart.com/art/Pokemon-Z-Move-symbol-633125033\r\n\t\tw: 150, h: 100,\r\n\t},\r\n\tultra: { url: 'ultra.png', // by Pokemon Showdown user Modeling Clay\r\n\t\tw: 113, h: 165,\r\n\t},\r\n\thitmark: { url: 'hitmarker.png', // by Pokemon Showdown user Ridaz\r\n\t\tw: 100, h: 100,\r\n\t},\r\n\tprotect: { rawHTML: '<div class=\"turnstatus-protect\" style=\"display:none;position:absolute\" />',\r\n\t\tw: 100, h: 70,\r\n\t},\r\n\tauroraveil: { rawHTML: '<div class=\"sidecondition-auroraveil\" style=\"display:none;position:absolute\" />',\r\n\t\tw: 100, h: 50,\r\n\t},\r\n\treflect: { rawHTML: '<div class=\"sidecondition-reflect\" style=\"display:none;position:absolute\" />',\r\n\t\tw: 100, h: 50,\r\n\t},\r\n\tsafeguard: { rawHTML: '<div class=\"sidecondition-safeguard\" style=\"display:none;position:absolute\" />',\r\n\t\tw: 100, h: 50,\r\n\t},\r\n\tlightscreen: { rawHTML: '<div class=\"sidecondition-lightscreen\" style=\"display:none;position:absolute\" />',\r\n\t\tw: 100, h: 50,\r\n\t},\r\n\tmist: { rawHTML: '<div class=\"sidecondition-mist\" style=\"display:none;position:absolute\" />',\r\n\t\tw: 100, h: 50,\r\n\t},\r\n};\r\n(() => {\r\n\tif (!window.Dex || !Dex.resourcePrefix) return;\r\n\tfor (const id in BattleEffects) {\r\n\t\tif (!BattleEffects[id].url) continue;\r\n\t\tBattleEffects[id].url = Dex.fxPrefix + BattleEffects[id].url;\r\n\t}\r\n})();\r\nconst BattleBackdropsThree = [\r\n\t'bg-gen3.png',\r\n\t'bg-gen3-cave.png',\r\n\t'bg-gen3-ocean.png',\r\n\t'bg-gen3-sand.png',\r\n\t'bg-gen3-forest.png',\r\n\t'bg-gen3-arena.png',\r\n];\r\nconst BattleBackdropsFour = [\r\n\t'bg-gen4.png',\r\n\t'bg-gen4-cave.png',\r\n\t'bg-gen4-snow.png',\r\n\t'bg-gen4-indoors.png',\r\n\t'bg-gen4-water.png',\r\n];\r\nconst BattleBackdropsFive = [\r\n\t'bg-beach.png',\r\n\t'bg-beachshore.png',\r\n\t'bg-desert.png',\r\n\t'bg-meadow.png',\r\n\t'bg-thunderplains.png',\r\n\t'bg-city.png',\r\n\t'bg-earthycave.png',\r\n\t'bg-mountain.png',\r\n\t'bg-volcanocave.png',\r\n\t'bg-dampcave.png',\r\n\t'bg-forest.png',\r\n\t'bg-river.png',\r\n\t'bg-deepsea.png',\r\n\t'bg-icecave.png',\r\n\t'bg-route.png',\r\n];\r\nconst BattleBackdrops = [\r\n\t'bg-aquacordetown.jpg',\r\n\t'bg-beach.jpg',\r\n\t'bg-city.jpg',\r\n\t'bg-dampcave.jpg',\r\n\t'bg-darkbeach.jpg',\r\n\t'bg-darkcity.jpg',\r\n\t'bg-darkmeadow.jpg',\r\n\t'bg-deepsea.jpg',\r\n\t'bg-desert.jpg',\r\n\t'bg-earthycave.jpg',\r\n\t'bg-elite4drake.jpg',\r\n\t'bg-forest.jpg',\r\n\t'bg-icecave.jpg',\r\n\t'bg-leaderwallace.jpg',\r\n\t'bg-library.jpg',\r\n\t'bg-meadow.jpg',\r\n\t'bg-orasdesert.jpg',\r\n\t'bg-orassea.jpg',\r\n\t'bg-skypillar.jpg',\r\n];\r\n//region Other Animations\r\nexport const BattleOtherAnims: AnimTable = {\r\n\thitmark: { \r\n\t\tanim(scene, [attacker]) { \r\n\t\tscene.showEffect('hitmark', \r\n\t\t{ x: attacker.x, y: attacker.y, z: attacker.z, scale: 0.5, opacity: 1, }, \r\n\t\t{ opacity: 0.5, time: 250, }, 'linear', 'fade');\r\n\t\t},\r\n\t},\r\n\tattack: {\r\n\t\tanim(scene, [attacker, defender]) { \r\n\t\tscene.showEffect('wisp', \r\n\t\t{ x: attacker.x, y: attacker.y, z: attacker.z, scale: 0.1, opacity: 1, }, \r\n\t\t{ x: defender.x, y: defender.y, z: defender.behind(40), scale: 1, opacity: 0.5, }, 'linear');\r\n\t\t},\r\n\t},\r\n\tcontactattack: { \r\n\t\tanim(scene, [attacker, defender]) {\r\n\t\tattacker.anim({ x: defender.x, y: defender.y + 80, z: defender.behind(-30), time: 400, }, 'ballistic');\r\n\t\tattacker.anim({ x: defender.x, y: defender.y + 5, z: defender.z, time: 100, });\r\n\t\tattacker.anim({ time: 500, }, 'ballistic2Back');\r\n\t\tdefender.delay(450);\r\n\t\tdefender.anim({ z: defender.behind(20), time: 100, }, 'swing');\r\n\t\tdefender.anim({ time: 300, }, 'swing');\r\n\t\tscene.wait(500);\r\n\t\t},\r\n\t},\r\n\txattack: { \r\n\t\tanim(scene, [attacker, defender]) { \r\n\t\t\tscene.showEffect('wisp', \r\n\t\t\t{ x: defender.x, y: defender.y, z: defender.z, scale: 0, opacity: 1, time: 400, }, \r\n\t\t\t{ x: defender.leftof(-20), y: defender.y, z: defender.behind(20), scale: 3, opacity: 0, time: 700, }, 'linear');\r\n\t\t\tscene.showEffect('wisp', { x: defender.x, y: defender.y, z: defender.z, scale: 0, opacity: 1, time: 700, }, \r\n\t\t\t{ x: defender.leftof(-20), y: defender.y, z: defender.behind(20), scale: 3, opacity: 0, time: 1000, }, 'linear');\r\n\t\t\tdefender.delay(480);\r\n\t\t\tdefender.anim({ z: defender.behind(20), time: 100, }, 'swing');\r\n\t\t\tdefender.anim({ time: 200, }, 'swing');\r\n\t\t\tdefender.anim({ z: defender.behind(20), time: 100, }, 'swing');\r\n\t\t\tdefender.anim({ time: 300, }, 'swing');\r\n\t\t\tattacker.anim({ x: defender.leftof(-30), y: defender.y + 80, z: defender.behind(-30), time: 400, }, 'ballistic');\r\n\t\t\tattacker.anim({ x: defender.leftof(30), y: defender.y + 5, z: defender.z, time: 100, });\r\n\t\t\tattacker.anim({ x: defender.leftof(30), y: defender.y + 80, z: defender.behind(-30), time: 200, }, 'ballisticUp');\r\n\t\t\tattacker.anim({ x: defender.leftof(-30), y: defender.y + 5, z: defender.z, time: 100, });\r\n\t\t\tattacker.anim({ time: 500, }, 'ballistic2Back');\r\n\t\t},\r\n\t},\r\n\tslashattack: {\r\n\t\tanim(scene, [attacker, defender]) {\r\n\t\t\tattacker.anim({ x: defender.x, y: defender.y + 80, z: defender.behind(-30), time: 400, }, 'ballistic');\r\n\t\t\tattacker.anim({ x: defender.x, y: defender.y + 5, z: defender.z, time: 100, });\r\n\t\t\tattacker.anim({ time: 500, }, 'ballistic2Back');\r\n\t\t\tdefender.delay(450);\r\n\t\t\tdefender.anim({ z: defender.behind(20), time: 100, }, 'swing');\r\n\t\t\tdefender.anim({ time: 300, }, 'swing');\r\n\t\t\tscene.showEffect('rightslash', \r\n\t\t\t\t{ x: defender.x, y: defender.y, z: defender.z, scale: 1, opacity: 1, time: 500, }, \r\n\t\t\t\t{ scale: 3, opacity: 0, time: 800, }, \r\n\t\t\t\t'linear', 'fade');\r\n\t\t},\r\n\t},\r\n\tclawattack: {\r\n\t\tanim(scene, [attacker, defender]) {\r\n\t\t\tattacker.anim({ x: defender.leftof(-30), y: defender.y + 80, z: defender.behind(-30), time: 400, }, 'ballistic');\r\n\t\t\tattacker.anim({ x: defender.leftof(30), y: defender.y + 5, z: defender.z, time: 100, });\r\n\t\t\tattacker.anim({ x: defender.leftof(30), y: defender.y + 80, z: defender.behind(-30), time: 200, }, 'ballisticUp');\r\n\t\t\tattacker.anim({ x: defender.leftof(-30),y: defender.y + 5, z: defender.z, time: 100, });\r\n\t\t\tattacker.anim({ time: 500,\r\n\t\t\t}, 'ballistic2Back');\r\n\t\t\tdefender.delay(450);\r\n\t\t\tdefender.anim({ z: defender.behind(20), time: 100, }, 'swing');\r\n\t\t\tdefender.anim({ time: 200, }, 'swing');\r\n\t\t\tdefender.anim({ z: defender.behind(20), time: 100, }, 'swing');\r\n\t\t\tdefender.anim({ time: 300, }, 'swing');\r\n\t\t\tscene.showEffect('leftclaw', \r\n\t\t\t\t{ x: defender.x - 20, y: defender.y + 20, z: defender.z, scale: 0, opacity: 1, time: 400, }, \r\n\t\t\t\t{ x: defender.x - 20, y: defender.y + 20, z: defender.z, scale: 3, opacity: 0, time: 700, },\r\n\t\t\t\t'linear', 'fade');\r\n\t\t\tscene.showEffect('leftclaw', \r\n\t\t\t\t{ x: defender.x - 20, y: defender.y - 20, z: defender.z, scale: 0, opacity: 1, time: 400, }, \r\n\t\t\t\t{ x: defender.x - 20, y: defender.y - 20, z: defender.z, scale: 3, opacity: 0, time: 700, },\r\n\t\t\t\t'linear', 'fade');\r\n\t\t\tscene.showEffect('rightclaw', \r\n\t\t\t\t{ x: defender.x + 20, y: defender.y + 20, z: defender.z, scale: 0, opacity: 1, time: 700, }, \r\n\t\t\t\t{ x: defender.x + 20, y: defender.y + 20, z: defender.z, scale: 3, opacity: 0, time: 1000, },\r\n\t\t\t'linear', 'fade');\r\n\t\t\tscene.showEffect('rightclaw', \r\n\t\t\t\t{ x: defender.x + 20, y: defender.y - 20, z: defender.z, scale: 0, opacity: 1, time: 700, }, \r\n\t\t\t\t{ x: defender.x + 20, y: defender.y - 20, z: defender.z, scale: 3, opacity: 0, time: 1000, }, \r\n\t\t\t'linear', 'fade');\r\n\t\t},\r\n\t},\r\n\tpunchattack: {\r\n\t\tanim(scene, [attacker, defender]) {\r\n\t\t\tscene.showEffect('wisp', \r\n\t\t\t\t{ x: defender.x, y: defender.y, z: defender.z, scale: 0, opacity: 1, time: 400, }, \r\n\t\t\t\t{ x: defender.leftof(-20), y: defender.y, z: defender.behind(20), scale: 3, opacity: 0, time: 700, }, \r\n\t\t\t\t'linear');\r\n\t\t\tscene.showEffect('wisp', \r\n\t\t\t\t{ x: defender.x, y: defender.y, z: defender.z, scale: 0, opacity: 1, time: 500, }, \r\n\t\t\t\t{ x: defender.leftof(-20), y: defender.y, z: defender.behind(20), scale: 3, opacity: 0, time: 800, }, \r\n\t\t\t\t'linear');\r\n\t\t\tscene.showEffect('fist', \r\n\t\t\t\t{ x: defender.x, y: defender.y, z: defender.z, scale: 1, opacity: 1, time: 400, }, \r\n\t\t\t\t{ x: defender.leftof(-20), y: defender.y, z: defender.behind(20), scale: 2, opacity: 0, time: 800, }, \r\n\t\t\t\t'linear');\r\n\t\t\tattacker.anim({ x: defender.leftof(20), y: defender.y, z: defender.behind(-20), time: 400, }, 'ballistic2Under');\r\n\t\t\tattacker.anim({ x: defender.x, y: defender.y, z: defender.z, time: 50, });\r\n\t\t\tattacker.anim({ time: 500, }, 'ballistic2');\r\n\t\t\tdefender.delay(425);\r\n\t\t\tdefender.anim({ x: defender.leftof(-15), y: defender.y, z: defender.behind(15), time: 50, }, 'swing');\r\n\t\t\tdefender.anim({ time: 300, }, 'swing');\r\n\t\t},\r\n\t},\r\n\tbite: {\r\n\t\tanim(scene, [attacker, defender]) {\r\n\t\t\tscene.showEffect('topbite', \r\n\t\t\t\t{ x: defender.x, y: defender.y + 50, z: defender.z, scale: 0.5, opacity: 0, time: 370, }, \r\n\t\t\t\t{ x: defender.x, y: defender.y + 10, z: defender.z, scale: 0.5, opacity: 1, time: 500, }, \r\n\t\t\t\t'linear', 'fade');\r\n\t\t\tscene.showEffect('bottombite', \r\n\t\t\t\t{ x: defender.x, y: defender.y - 50, z: defender.z, scale: 0.5, opacity: 0, time: 370, }, \r\n\t\t\t\t{ x: defender.x, y: defender.y - 10, z: defender.z, scale: 0.5, opacity: 1, time: 500, }, \r\n\t\t\t\t'linear', 'fade');\r\n\t\t},\r\n\t},\r\n\tkick: {\r\n\t\tanim(scene, [attacker, defender]) {\r\n\t\t\tscene.showEffect('foot', \r\n\t\t\t\t{ x: defender.x, y: defender.y, z: defender.z, scale: 1, opacity: 1, time: 400, },\r\n\t\t\t\t{ x: defender.x, y: defender.y - 20, z: defender.behind(15), scale: 2, opacity: 0, time: 800, }, \r\n\t\t\t\t'linear');\r\n\t\t},\r\n\t},\r\n\tfastattack: {\r\n\t\tanim(scene, [attacker, defender]) {\r\n\t\t\tscene.showEffect('wisp', \r\n\t\t\t\t{ x: defender.x, y: defender.y, z: defender.z, scale: 0, opacity: 0.5, time: 260, }, \r\n\t\t\t\t{ scale: 2, opacity: 0, time: 560, }, \r\n\t\t\t\t'linear');\r\n\t\t\tscene.showEffect('wisp', \r\n\t\t\t\t{ x: defender.x, y: defender.y, z: defender.z, scale: 0, opacity: 0.5, time: 310, }, \r\n\t\t\t\t{ scale: 2, opacity: 0, time: 610, }, \r\n\t\t\t\t'linear');\r\n\t\t\tscene.showEffect(attacker.sp, \r\n\t\t\t\t{ x: attacker.x, y: attacker.y, z: attacker.z, opacity: 0.3, time: 50, }, \r\n\t\t\t\t{ x: defender.x, y: defender.y, z: defender.behind(70), time: 350, }, \r\n\t\t\t\t'accel', 'fade');\r\n\t\t\tscene.showEffect(attacker.sp, \r\n\t\t\t\t{ x: attacker.x, y: attacker.y, z: attacker.z, opacity: 0.3, time: 100, }, \r\n\t\t\t\t{ x: defender.x, y: defender.y, z: defender.behind(70), time: 400, }, \r\n\t\t\t\t'accel', 'fade');\r\n\t\t\tattacker.anim({ x: defender.x, y: defender.y, z: defender.behind(70), time: 300, opacity: 0.5, },  'accel');\r\n\t\t\tattacker.anim({ x: defender.x, y: defender.x, z: defender.behind(100), opacity: 0, time: 100, }, 'linear');\r\n\t\t\tattacker.anim({ x: attacker.x, y: attacker.y, z: attacker.behind(70), opacity: 0, time: 1, }, 'linear');\r\n\t\t\tattacker.anim({ opacity: 1, time: 500, }, 'decel');\r\n\t\t\tdefender.delay(260);\r\n\t\t\tdefender.anim({ z: defender.behind(30), time: 100, }, 'swing');\r\n\t\t\tdefender.anim({ time: 300, }, 'swing');\r\n\t\t},\r\n\t},\r\n\tfastanimattack: {\r\n\t\tanim(scene, [attacker, defender]) {\r\n\t\t\tattacker.anim({ z: attacker.behind(-70), time: 50, opacity: 1, }, 'decel');\r\n\t\t\tattacker.anim({ opacity: 1, time: 150, }, 'accel');\r\n\t\t\tdefender.anim({ z: defender.behind(30), time: 70, }, 'decel');\r\n\t\t\tdefender.anim({ time: 170, }, 'accel');\r\n\t\t},\r\n\t},\r\n\tfastanimspecial: {\r\n\t\tanim(scene, [attacker, defender]) {\r\n\t\t\tscene.showEffect('shadowball', \r\n\t\t\t\t{ x: attacker.x, y: attacker.y, z: attacker.z, scale: 0.5, opacity: 0.8, time: 0, }, \r\n\t\t\t\t{ x: defender.x, y: defender.y, z: defender.z, time: 100, }, 'decel');\r\n\t\t\tscene.showEffect('shadowball', \r\n\t\t\t\t{ x: attacker.x, y: attacker.y, z: attacker.z, scale: 0.5, opacity: 0.8, time: 70, }, \r\n\t\t\t\t{ x: defender.x, y: defender.y, z: defender.z, time: 170, }, 'decel');\r\n\t\t\tdefender.anim({ z: defender.behind(30), time: 70, }, 'decel');\r\n\t\t\tdefender.anim({ time: 170, }, 'accel');\r\n\t\t},\r\n\t},\r\n\tfastanimself: {\r\n\t\tanim(scene, [attacker, defender]) {\r\n\t\t\tattacker.anim({ scale: 1.5, time: 50, }, 'decel');\r\n\t\t\tattacker.anim({ time: 170, }, 'accel');\r\n\t\t},\r\n\t},\r\n\tsneakattack: {\r\n\t\tanim(scene, [attacker, defender]) {\r\n\t\t\tattacker.anim({ x: attacker.leftof(-20), y: attacker.y, z: attacker.behind(-20), opacity: 0, time: 200, }, 'linear');\r\n\t\t\tattacker.anim({ x: defender.x, y: defender.y, z: defender.behind(-120), opacity: 0, time: 1, }, 'linear');\r\n\t\t\tattacker.anim({ x: defender.x, y: defender.y, z: defender.behind(40), opacity: 1, time: 250, }, 'linear');\r\n\t\t\tattacker.anim({ x: defender.x, y: defender.y, z: defender.behind(-5), opacity: 0, time: 300, }, 'linear');\r\n\t\t\tattacker.anim({ opacity: 0, time: 1, }, 'linear');\r\n\t\t\tattacker.anim({ time: 300, opacity: 1, }, 'linear');\r\n\t\t\tdefender.delay(330);\r\n\t\t\tdefender.anim({ z: defender.behind(20), time: 100, }, 'swing');\r\n\t\t\tdefender.anim({ time: 300, }, 'swing');\r\n\t\t},\r\n\t},\r\n\tspinattack: {\r\n\t\tanim(scene, [attacker, defender]) {\r\n\t\t\tattacker.anim({ x: defender.x, y: defender.y + 60, z: defender.behind(-30), time: 400, }, 'ballistic2');\r\n\t\t\tattacker.anim({ x: defender.x, y: defender.y + 5, z: defender.z, time: 100, });\r\n\t\t\tattacker.anim({ time: 500, }, 'ballistic2');\r\n\t\t\tdefender.delay(450);\r\n\t\t\tdefender.anim({ z: defender.behind(20), time: 100, }, 'swing');\r\n\t\t\tdefender.anim({ time: 300, }, 'swing');\r\n\t\t\tscene.wait(500);\r\n\t\t},\r\n\t},\r\n\tbound: {\r\n\t\tanim(scene, [attacker]) {\r\n\t\t\tscene.showEffect('iceball', \r\n\t\t\t\t{ x: attacker.x, y: attacker.y + 15, z: attacker.z, scale: 0.7, xscale: 2, opacity: 0.3, time: 0, }, \r\n\t\t\t\t{ scale: 0.4, xscale: 1, opacity: 0.1, time: 500, }, \r\n\t\t\t\t'decel', 'fade');\r\n\t\t\tscene.showEffect('iceball', \r\n\t\t\t\t{ x: attacker.x, y: attacker.y - 5, z: attacker.z, scale: 0.7, xscale: 2, opacity: 0.3, time: 50, }, \r\n\t\t\t\t{ scale: 0.4, xscale: 1, opacity: 0.1, time: 550, }, \r\n\t\t\t\t'decel', 'fade');\r\n\t\t\tscene.showEffect('iceball', \r\n\t\t\t\t{ x: attacker.x, y: attacker.y - 20, z: attacker.z, scale: 0.7, xscale: 2, opacity: 0.3, time: 100, }, \r\n\t\t\t\t{ scale: 0.4, xscale: 1, opacity: 0.1, time: 600, }, \r\n\t\t\t\t'decel', 'fade');\r\n\t\t\tattacker.anim({ y: attacker.y + 15, z: attacker.behind(10), yscale: 1.3, time: 200, }, 'swing');\r\n\t\t\tattacker.anim({ time: 200, }, 'swing');\r\n\t\t\tattacker.delay(25);\r\n\t\t\tattacker.anim({ x: attacker.leftof(-10), y: attacker.y + 15, z: attacker.behind(5), yscale: 1.3,time: 200, }, 'swing');\r\n\t\t\tattacker.anim({ time: 200, }, 'swing');\r\n\t\t},\r\n\t},\r\n\tselfstatus: {\r\n\t\tanim(scene, [attacker]) {\r\n\t\t\tscene.showEffect('wisp', \r\n\t\t\t\t{ x: attacker.x, y: attacker.y, z: attacker.z, scale: 2, opacity: 0.2, time: 0, }, \r\n\t\t\t\t{ scale: 0, opacity: 1, time: 300, }, \r\n\t\t\t\t'linear');\r\n\t\t\tscene.showEffect('wisp', \r\n\t\t\t\t{ x: attacker.x, y: attacker.y, z: attacker.z, scale: 2, opacity: 0.2, time: 200, }, \r\n\t\t\t\t{ scale: 0, opacity: 1, time: 500, }, \r\n\t\t\t\t'linear');\r\n\t\t},\r\n\t},\r\n\tlightstatus: {\r\n\t\tanim(scene, [attacker]) {\r\n\t\t\tscene.showEffect('electroball', \r\n\t\t\t\t{ x: attacker.x, y: attacker.y, z: attacker.z, scale: 2, opacity: 0.1, time: 0, }, \r\n\t\t\t\t{ scale: 0, opacity: 0.5, time: 600, }, \r\n\t\t\t\t'linear');\r\n\t\t},\r\n\t},\r\n\tchargestatus: {\r\n\t\tanim(scene, [attacker]) {\r\n\t\t\tscene.showEffect('electroball', \r\n\t\t\t\t{ x: attacker.x - 60, y: attacker.y + 40, z: attacker.z, scale: 0.7, opacity: 0.7, time: 0, }, \r\n\t\t\t\t{ x: attacker.x, y: attacker.y, scale: 0.2, opacity: 0.2, time: 300, },\r\n\t\t\t\t'linear', 'fade');\r\n\t\t\tscene.showEffect('electroball', \r\n\t\t\t\t{ x: attacker.x + 60, y: attacker.y - 5, z: attacker.z, scale: 0.7, opacity: 0.7, time: 100, }, \r\n\t\t\t\t{ x: attacker.x, y: attacker.y, scale: 0.2, opacity: 0.2, time: 300, },\r\n\t\t\t\t 'linear', 'fade');\r\n\t\t\tscene.showEffect('electroball', \r\n\t\t\t\t{ x: attacker.x - 30, y: attacker.y + 60, z: attacker.z, scale: 0.7, opacity: 0.7, time: 100, }, \r\n\t\t\t\t{ x: attacker.x, y: attacker.y, scale: 0.2, opacity: 0.2, time: 400, },\r\n\t\t\t\t 'linear', 'fade');\r\n\t\t\tscene.showEffect('electroball', \r\n\t\t\t\t{ x: attacker.x + 20, y: attacker.y - 50, z: attacker.z, scale: 0.7, opacity: 0.7, time: 100, }, \r\n\t\t\t\t{ x: attacker.x, y: attacker.y, scale: 0.2, opacity: 0.2, time: 400, }, \r\n\t\t\t\t'linear', 'fade');\r\n\t\t\tscene.showEffect('electroball', \r\n\t\t\t\t{ x: attacker.x - 70, y: attacker.y - 50, z: attacker.z, scale: 0.7, opacity: 0.7, time: 200, }, \r\n\t\t\t\t{ x: attacker.x,y: attacker.y, scale: 0.2, opacity: 0.2, time: 500, }, \r\n\t\t\t\t'linear', 'fade');\r\n\t\t},\r\n\t},\r\n\theal: {\r\n\t\tanim(scene, [attacker]) {\r\n\t\t\tscene.showEffect('iceball', \r\n\t\t\t\t{ x: attacker.x + 30, y: attacker.y + 5, z: attacker.z, scale: 0.1, opacity: 0.7, time: 200, }, \r\n\t\t\t\t{ x: attacker.x + 40, y: attacker.y + 10, opacity: 0, time: 600, }, \r\n\t\t\t\t'accel');\r\n\t\t\tscene.showEffect('iceball', \r\n\t\t\t\t{ x: attacker.x - 30, y: attacker.y - 10, z: attacker.z, scale: 0.1, opacity: 0.7, time: 300, }, \r\n\t\t\t\t{ x: attacker.x - 40, y: attacker.y - 20, opacity: 0, time: 700, }, \r\n\t\t\t\t'accel');\r\n\t\t\tscene.showEffect('iceball', \r\n\t\t\t\t{ x: attacker.x + 15, y: attacker.y + 10, z: attacker.z, scale: 0.1, opacity: 0.7, time: 400, }, \r\n\t\t\t\t{ x: attacker.x + 25, y: attacker.y + 20, opacity: 0, time: 800, }, \r\n\t\t\t\t'accel');\r\n\t\t\tscene.showEffect('iceball', \r\n\t\t\t\t{ x: attacker.x - 15, y: attacker.y - 30, z: attacker.z, scale: 0.1, opacity: 0.7, time: 500, }, \r\n\t\t\t\t{ x: attacker.x - 25, y: attacker.y - 40, opacity: 0, time: 900, }, \r\n\t\t\t\t'accel');\r\n\t\t},\r\n\t},\r\n\tshiny: {\r\n\t\tanim(scene, [attacker]) {\r\n\t\t\tscene.backgroundEffect('#000000', 800, 0.3, 100);\r\n\t\t\tscene.showEffect('shine', \r\n\t\t\t\t{ x: attacker.x + 5, y: attacker.y + 20, z: attacker.z, scale: 0.1, opacity: 0.7, time: 450, }, \r\n\t\t\t\t{ y: attacker.y + 35, opacity: 0, time: 675, }, \r\n\t\t\t\t'decel');\r\n\t\t\tscene.showEffect('shine', \r\n\t\t\t\t{ x: attacker.x + 15, y: attacker.y + 20, z: attacker.z, scale: 0.2, opacity: 0.7, time: 475, }, \r\n\t\t\t\t{ x: attacker.x + 25, y: attacker.y + 30, opacity: 0, time: 700, }, \r\n\t\t\t\t'decel');\r\n\t\t\tscene.showEffect('shine', \r\n\t\t\t\t{ x: attacker.x - 15, y: attacker.y + 20, z: attacker.z, scale: 0.2, opacity: 0.7, time: 500, }, \r\n\t\t\t\t{ x: attacker.x - 25, y: attacker.y + 30, opacity: 0, time: 725, }, \r\n\t\t\t\t'decel');\r\n\t\t\tscene.showEffect('shine', \r\n\t\t\t\t{ x: attacker.x - 20, y: attacker.y + 5, z: attacker.z, scale: 0.2, opacity: 0.7, time: 550, }, \r\n\t\t\t\t{ x: attacker.x - 30, y: attacker.y - 5, opacity: 0, time: 775, }, \r\n\t\t\t\t'decel');\r\n\t\t\tscene.showEffect('shine', \r\n\t\t\t\t{ x: attacker.x + 15, y: attacker.y + 10, z: attacker.z, scale: 0.2, opacity: 0.7, time: 650, }, \r\n\t\t\t\t{ x: attacker.x + 35, y: attacker.y - 5, opacity: 0, time: 875, }, \r\n\t\t\t\t'decel');\r\n\t\t\tscene.showEffect('shine', \r\n\t\t\t\t{ x: attacker.x + 5, y: attacker.y - 5, z: attacker.z, scale: 0.2, opacity: 0.7, time: 675, }, \r\n\t\t\t\t{ y: attacker.y - 20, opacity: 0, time: 900, }, \r\n\t\t\t\t'decel');\r\n\t\t},\r\n\t},\r\n\tflight: {\r\n\t\tanim(scene, [attacker, defender]) {\r\n\t\t\tattacker.anim({ x: attacker.leftof(-200), y: attacker.y + 80, z: attacker.z, opacity: 0, time: 350, }, 'accel');\r\n\t\t\tattacker.anim({ x: defender.leftof(-200), y: defender.y + 80, z: defender.z, time: 1, }, 'linear');\r\n\t\t\tattacker.anim({ x: defender.x, y: defender.y, z: defender.z, opacity: 1, time: 350, }, 'accel');\r\n\t\t\tscene.showEffect('wisp', \r\n\t\t\t\t{ x: defender.x, y: defender.y, z: defender.z, scale: 0, opacity: 0.5, time: 700, },\r\n\t\t\t\t{ scale: 2, opacity: 0, time: 900, }, \r\n\t\t\t\t'linear');\r\n\t\t\tattacker.anim({ x: defender.leftof(100), y: defender.y - 40, z: defender.z, opacity: 0, time: 175, });\r\n\t\t\tattacker.anim({ x: attacker.x, y: attacker.y + 40, z: attacker.behind(40), time: 1, });\r\n\t\t\tattacker.anim({ x: attacker.x, y: attacker.y, z: attacker.z, time: 250, }, 'decel');\r\n\t\t\tdefender.delay(700);\r\n\t\t\tdefender.anim({ z: defender.behind(20), time: 100, }, 'swing');\r\n\t\t\tdefender.anim({ time: 300, }, 'swing');\r\n\t\t},\r\n\t},\r\n\tshake: {\r\n\t\tanim(scene, [attacker]) {\r\n\t\t\tattacker.anim({ x: attacker.x - 10, time: 200 });\r\n\t\t\tattacker.anim({ x: attacker.x + 10, time: 300 });\r\n\t\t\tattacker.anim({ x: attacker.x, time: 200 });\r\n\t\t},\r\n\t},\r\n\tdance: {\r\n\t\tanim(scene, [attacker]) {\r\n\t\t\tattacker.anim({ x: attacker.x - 10 });\r\n\t\t\tattacker.anim({ x: attacker.x + 10 });\r\n\t\t\tattacker.anim({ x: attacker.x });\r\n\t\t},\r\n\t},\r\n\tconsume: {\r\n\t\tanim(scene, [defender]) {\r\n\t\t\tscene.showEffect('wisp', \r\n\t\t\t\t{ x: defender.leftof(-25), y: defender.y + 40, z: defender.behind(-20), scale: 0.5, opacity: 1, }, \r\n\t\t\t\t{ x: defender.leftof(-15), y: defender.y + 35, z: defender.z, scale: 0, opacity: 0.2, time: 500, }, \r\n\t\t\t\t'swing', 'fade');\r\n\t\t\tdefender.delay(400);\r\n\t\t\tdefender.anim({ y: defender.y + 5, yscale: 1.1, time: 200, }, 'swing');\r\n\t\t\tdefender.anim({ time: 200, }, 'swing');\r\n\t\t\tdefender.anim({ y: defender.y + 5, yscale: 1.1, time: 200, }, 'swing');\r\n\t\t\tdefender.anim({ time: 200, }, 'swing');\r\n\t\t},\r\n\t},\r\n\tleech: {\r\n\t\tanim(scene, [attacker, defender]) {\r\n\t\t\tscene.showEffect('energyball', \r\n\t\t\t\t{ x: defender.x - 30, y: defender.y - 40, z: defender.z, scale: 0.2, opacity: 0.7, time: 0, }, \r\n\t\t\t\t{ x: attacker.x, y: attacker.y, z: attacker.z, time: 500, opacity: 0.1, }, \r\n\t\t\t\t'ballistic2', 'fade');\r\n\t\t\tscene.showEffect('energyball', \r\n\t\t\t\t{ x: defender.x + 40, y: defender.y - 35, z: defender.z, scale: 0.2, opacity: 0.7, time: 50, }, \r\n\t\t\t\t{ x: attacker.x, y: attacker.y, z: attacker.z, time: 550, opacity: 0.1, }, 'linear', 'fade');\r\n\t\t\tscene.showEffect('energyball', \r\n\t\t\t\t{ x: defender.x + 20, y: defender.y - 25, z: defender.z, scale: 0.2, opacity: 0.7, time: 100, }, \r\n\t\t\t\t{ x: attacker.x, y: attacker.y, z: attacker.z, time: 600, opacity: 0.1, }, \r\n\t\t\t\t'ballistic2Under', 'fade');\r\n\t\t},\r\n\t},\r\n\tdrain: {\r\n\t\tanim(scene, [attacker, defender]) {\r\n\t\t\tscene.showEffect('energyball', \r\n\t\t\t\t{ x: defender.x, y: defender.y, z: defender.z, scale: 0.6, opacity: 0.6, time: 0, }, \r\n\t\t\t\t{ x: attacker.x, y: attacker.y, z: attacker.z, time: 500,opacity: 0, }, \r\n\t\t\t\t'ballistic2');\r\n\t\t\tscene.showEffect('energyball', \r\n\t\t\t\t{ x: defender.x, y: defender.y, z: defender.z, scale: 0.6, opacity: 0.6, time: 50, }, \r\n\t\t\t\t{ x: attacker.x, y: attacker.y, z: attacker.z, time: 550, opacity: 0, }, \r\n\t\t\t\t'linear');\r\n\t\t\tscene.showEffect('energyball', \r\n\t\t\t\t{ x: defender.x, y: defender.y, z: defender.z, scale: 0.6, opacity: 0.6, time: 100, }, \r\n\t\t\t\t{ x: attacker.x, y: attacker.y, z: attacker.z, time: 600, opacity: 0, }, \r\n\t\t\t\t'ballistic2Under');\r\n\t\t},\r\n\t},\r\n\thydroshot: {\r\n\t\tanim(scene, [attacker, defender]) {\r\n\t\t\tscene.showEffect('waterwisp', \r\n\t\t\t\t{ x: attacker.x, y: attacker.y, z: attacker.z, scale: 0.4, opacity: 0.3, }, \r\n\t\t\t\t{ x: defender.x + 10, y: defender.y + 5, z: defender.behind(30), scale: 1, opacity: 0.6, }, \r\n\t\t\t'decel', 'explode');\r\n\t\t\tscene.showEffect('waterwisp', \r\n\t\t\t\t{ x: attacker.x, y: attacker.y, z: attacker.z, scale: 0.4, opacity: 0.3, time: 75, }, \r\n\t\t\t\t{ x: defender.x - 10, y: defender.y - 5, z: defender.behind(30), scale: 1, opacity: 0.6, }, \r\n\t\t\t\t'decel', 'explode');\r\n\t\t\tscene.showEffect('waterwisp', \r\n\t\t\t\t{ x: attacker.x, y: attacker.y, z: attacker.z, scale: 0.4, opacity: 0.3, time: 150, }, \r\n\t\t\t\t{ x: defender.x, y: defender.y + 5, z: defender.behind(30), scale: 1, opacity: 0.6, }, \r\n\t\t\t\t'decel', 'explode');\r\n\t\t},\r\n\t},\r\n\tsound: {\r\n\t\tanim(scene, [attacker]) {\r\n\t\t\tscene.showEffect('wisp', \r\n\t\t\t\t{ x: attacker.x, y: attacker.y, z: attacker.z, scale: 0, opacity: 0.7, time: 0, }, \r\n\t\t\t\t{ z: attacker.behind(-50), scale: 5, opacity: 0, time: 400, }, \r\n\t\t\t\t'linear');\r\n\t\t\tscene.showEffect('wisp', \r\n\t\t\t\t{ x: attacker.x, y: attacker.y, z: attacker.z, scale: 0, opacity: 0.7, time: 150, }, \r\n\t\t\t\t{ z: attacker.behind(-50), scale: 5, opacity: 0, time: 600, }, \r\n\t\t\t\t'linear');\r\n\t\t\tscene.showEffect('wisp', \r\n\t\t\t\t{ x: attacker.x, y: attacker.y, z: attacker.z, scale: 0, opacity: 0.7, time: 300, }, \r\n\t\t\t\t{ z: attacker.behind(-50), scale: 5, opacity: 0, time: 800, }, \r\n\t\t\t\t'linear');\r\n\t\t},\r\n\t},\r\n\tgravity: {\r\n\t\tanim(scene, [attacker]) {\r\n\t\t\tattacker.anim({ y: attacker.y - 20, yscale: 0.5, time: 300, }, 'decel');\r\n\t\t\tattacker.delay(200);\r\n\t\t\tattacker.anim({ time: 300, });\r\n\t\t},\r\n\t},\r\n\tfuturesighthit: {\r\n\t\tanim(scene, [defender]) {\r\n\t\t\tscene.backgroundEffect('#AA44BB', 250, 0.6);\r\n\t\t\tscene.backgroundEffect('#AA44FF', 250, 0.6, 400);\r\n\t\t\tdefender.anim({ scale: 1.2, time: 100, });\r\n\t\t\tdefender.anim({ scale: 1, time: 100, });\r\n\t\t\tdefender.anim({ scale: 1.4, time: 150, });\r\n\t\t\tdefender.anim({ scale: 1, time: 150, });\r\n\t\t\tscene.wait(700);\r\n\t\t},\r\n\t},\r\n\tdoomdesirehit: {\r\n\t\tanim(scene, [defender]) {\r\n\t\t\tscene.backgroundEffect('#ffffff', 600, 0.6);\r\n\t\t\tscene.showEffect('fireball', \r\n\t\t\t\t{ x: defender.x + 40, y: defender.y, z: defender.z, scale: 0, opacity: 0.6, }, \r\n\t\t\t\t{ scale: 6, opacity: 0, }, \r\n\t\t\t\t'linear');\r\n\t\t\tscene.showEffect('fireball', \r\n\t\t\t\t{ x: defender.x - 40, y: defender.y - 20, z: defender.z, scale: 0, opacity: 0.6, time: 150, }, \r\n\t\t\t\t{ scale: 6, opacity: 0, }, \r\n\t\t\t\t'linear');\r\n\t\t\tscene.showEffect('fireball', \r\n\t\t\t\t{ x: defender.x + 10, y: defender.y + 20, z: defender.z, scale: 0, opacity: 0.6, time: 300, }, \r\n\t\t\t\t{ scale: 6, opacity: 0, }, \r\n\t\t\t\t'linear');\r\n\t\t\tdefender.delay(100);\r\n\t\t\tdefender.anim({ x: defender.x - 30, time: 75, });\r\n\t\t\tdefender.anim({ x: defender.x + 30, time: 100, });\r\n\t\t\tdefender.anim({ x: defender.x - 30, time: 100, });\r\n\t\t\tdefender.anim({ x: defender.x + 30, time: 100, });\r\n\t\t\tdefender.anim({ x: defender.x, time: 100, });\r\n\t\t},\r\n\t},\r\n\titemoff: {\r\n\t\tanim(scene, [defender]) {\r\n\t\t\tscene.showEffect('pokeball', \r\n\t\t\t\t{ x: defender.x, y: defender.y, z: defender.z, scale: 1, opacity: 1, }, \r\n\t\t\t\t{ x: defender.x, y: defender.y + 40, z: defender.behind(70), opacity: 0, time: 400, }, \r\n\t\t\t\t'ballistic2');\r\n\t\t},\r\n\t},\r\n\tanger: {\r\n\t\tanim(scene, [attacker]) {\r\n\t\t\tscene.showEffect('angry', \r\n\t\t\t\t{ x: attacker.x + 20, y: attacker.y + 20, z: attacker.z, scale: 0.5, opacity: 0.5, time: 0, }, \r\n\t\t\t\t{ scale: 1, opacity: 1, time: 300 }, \r\n\t\t\t\t'ballistic2Under', 'fade');\r\n\t\t\tscene.showEffect('angry', \r\n\t\t\t\t{ x: attacker.x - 20, y: attacker.y + 10, z: attacker.z, scale: 0.5, opacity: 0.5, time: 100, }, \r\n\t\t\t\t{ scale: 1, opacity: 1, time: 400, }, \r\n\t\t\t\t'ballistic2Under', 'fade');\r\n\t\t\tscene.showEffect('angry', \r\n\t\t\t\t{ x: attacker.x, y: attacker.y + 40, z: attacker.z, scale: 0.5, opacity: 0.5, time: 200, }, \r\n\t\t\t\t{ scale: 1, opacity: 1, time: 500,}, \r\n\t\t\t\t'ballistic2Under', 'fade');\r\n\t\t},\r\n\t},\r\n\tbidecharge: {\r\n\t\tanim(scene, [attacker]) {\r\n\t\t\tscene.showEffect('wisp', \r\n\t\t\t\t{ x: attacker.x + 30, y: attacker.y, z: attacker.z, scale: 1, opacity: 1, time: 0, }, \r\n\t\t\t\t{ y: attacker.y + 60, opacity: 0.2, time: 400, }, \r\n\t\t\t'linear', 'fade');\r\n\t\t\tscene.showEffect('wisp', \r\n\t\t\t\t{ x: attacker.x - 30, y: attacker.y, z: attacker.z, scale: 1, opacity: 1, time: 100,}, \r\n\t\t\t\t{y: attacker.y + 60, opacity: 0.2, time: 500, }, \r\n\t\t\t'linear', 'fade');\r\n\t\t\tscene.showEffect('wisp', \r\n\t\t\t\t{ x: attacker.x + 15, y: attacker.y, z: attacker.z, scale: 1, opacity: 1, time: 200, }, \r\n\t\t\t\t{ y: attacker.y + 60, opacity: 0.2, time: 600, }, \r\n\t\t\t\t'linear', 'fade');\r\n\t\t\tscene.showEffect('wisp', \r\n\t\t\t\t{ x: attacker.x - 15, y: attacker.y, z: attacker.z, scale: 1, opacity: 1, time: 300, }, \r\n\t\t\t\t{ y: attacker.y + 60, opacity: 0.2, time: 700, }, \r\n\t\t\t\t'linear', 'fade');\r\n\t\t\tattacker.anim({ x: attacker.x - 2.5, time: 75, }, 'swing');\r\n\t\t\tattacker.anim({ x: attacker.x + 2.5, time: 75, }, 'swing');\r\n\t\t\tattacker.anim({ x: attacker.x - 2.5, time: 75, }, 'swing');\r\n\t\t\tattacker.anim({ x: attacker.x + 2.5, time: 75, }, 'swing');\r\n\t\t\tattacker.anim({ x: attacker.x - 2.5, time: 75, }, 'swing');\r\n\t\t\tattacker.anim({ time: 100, }, 'accel');\r\n\t\t},\r\n\t},\r\n\tbideunleash: {\r\n\t\tanim(scene, [attacker]) {\r\n\t\t\tscene.showEffect('fireball', \r\n\t\t\t\t{ x: attacker.x + 40, y: attacker.y, z: attacker.z, scale: 0, opacity: 0.6, }, \r\n\t\t\t\t{ scale: 6, opacity: 0, }, \r\n\t\t\t\t'linear');\r\n\t\t\tscene.showEffect('fireball', \r\n\t\t\t\t{ x: attacker.x - 40, y: attacker.y - 20, z: attacker.z, scale: 0, opacity: 0.6, time: 150, }, \r\n\t\t\t\t{ scale: 6, opacity: 0, }, \r\n\t\t\t\t'linear');\r\n\t\t\tscene.showEffect('fireball', \r\n\t\t\t\t{ x: attacker.x + 10, y: attacker.y + 20, z: attacker.z, scale: 0, opacity: 0.6, time: 300, }, \r\n\t\t\t\t{ scale: 6, opacity: 0, }, \r\n\t\t\t'linear');\r\n\t\t\tattacker.anim({ x: attacker.x - 30, time: 75, });\r\n\t\t\tattacker.anim({ x: attacker.x + 30, time: 100, });\r\n\t\t\tattacker.anim({ x: attacker.x - 30, time: 100, });\r\n\t\t\tattacker.anim({ x: attacker.x + 30, time: 100, });\r\n\t\t\tattacker.anim({ x: attacker.x - 30, time: 100, });\r\n\t\t\tattacker.anim({ x: attacker.x + 30, time: 100, });\r\n\t\t\tattacker.anim({ x: attacker.x, time: 100, });\r\n\t\t},\r\n\t},\r\n\tspectralthiefboost: {\r\n\t\tanim(scene, [attacker, defender]) {\r\n\t\t\tscene.backgroundEffect('linear-gradient(#000000 30%, #440044', 1400, 0.5);\r\n\t\t\tscene.showEffect('shadowball', \r\n\t\t\t\t{ x: defender.x, y: defender.y - 30, z: defender.z, scale: 0.5, xscale: 0.5, yscale: 1, opacity: 0.5, }, \r\n\t\t\t\t{ scale: 2, xscale: 4, opacity: 0.1, time: 400, }, \r\n\t\t\t'decel', 'fade');\r\n\t\t\tscene.showEffect('poisonwisp', \r\n\t\t\t\t{ x: defender.x, y: defender.y - 25, z: defender.z, scale: 1, }, \r\n\t\t\t\t{ x: defender.x + 50, scale: 3, xscale: 3.5, opacity: 0.3, time: 500, }, \r\n\t\t\t\t'linear', 'fade');\r\n\t\t\tscene.showEffect('poisonwisp', \r\n\t\t\t\t{ x: defender.x, y: defender.y - 25, z: defender.z, scale: 1, }, \r\n\t\t\t\t{ x: defender.x - 50, scale: 3, xscale: 3.5, opacity: 0.3, time: 500, }, \r\n\t\t\t\t'linear', 'fade');\r\n\t\t\tscene.showEffect('shadowball', \r\n\t\t\t\t{ x: defender.x + 35, y: defender.y, z: defender.z, opacity: 0.4, scale: 0.25, time: 50, }, \r\n\t\t\t\t{ y: defender.y - 40, opacity: 0, time: 300, }, \r\n\t\t\t'accel');\r\n\t\t\tscene.showEffect('shadowball', \r\n\t\t\t\t{ x: defender.x - 35, y: defender.y, z: defender.z, opacity: 0.4, scale: 0.25, time: 100, }, \r\n\t\t\t\t{ y: defender.y - 40, opacity: 0, time: 350, }, \r\n\t\t\t\t'accel');\r\n\t\t\tscene.showEffect('shadowball', \r\n\t\t\t\t{ x: defender.x + 15, y: defender.y, z: defender.z, opacity: 0.4, scale: 0.5, time: 150, }, \r\n\t\t\t\t{ y: defender.y - 40, opacity: 0, time: 400, }, \r\n\t\t\t\t'accel');\r\n\t\t\tscene.showEffect('shadowball', \r\n\t\t\t\t{ x: defender.x + 15, y: defender.y, z: defender.z, opacity: 0.4, scale: 0.25, time: 200, }, \r\n\t\t\t\t{ y: defender.y - 40, opacity: 0, time: 450, }, \r\n\t\t\t\t'accel');\r\n\t\t\tscene.showEffect('poisonwisp', \r\n\t\t\t\t{ x: defender.x - 50, y: defender.y - 40, z: defender.z, scale: 2, opacity: 0.3, time: 300, }, \r\n\t\t\t\t{ x: attacker.x - 50, y: attacker.y - 40, z: attacker.z, time: 900, }, \r\n\t\t\t\t'decel', 'fade');\r\n\t\t\tscene.showEffect('poisonwisp', \r\n\t\t\t\t{ x: defender.x - 50, y: defender.y - 40, z: defender.z, scale: 2, opacity: 0.3, time: 400, }, \r\n\t\t\t\t{ x: attacker.x - 50, y: attacker.y - 40, z: attacker.z, time: 900, }, \r\n\t\t\t\t'decel', 'fade');\r\n\t\t\tscene.showEffect('poisonwisp', \r\n\t\t\t\t{ x: defender.x, y: defender.y - 40, z: defender.z, scale: 2, opacity: 0.3, time: 450, }, \r\n\t\t\t\t{ x: attacker.x, y: attacker.y - 40, z: attacker.z, time: 950, }, \r\n\t\t\t\t'decel', 'fade');\r\n\t\t\tscene.showEffect('shadowball', \r\n\t\t\t\t{ x: attacker.x, y: attacker.y - 30, z: attacker.z, scale: 0, xscale: 0.5, yscale: 1, opacity: 0.5, time: 750, }, \r\n\t\t\t\t{ scale: 2, xscale: 4, opacity: 0.1, time: 1200, }, \r\n\t\t\t\t'decel', 'fade');\r\n\t\t\tscene.showEffect('shadowball', \r\n\t\t\t\t{ x: attacker.x + 35, y: attacker.y - 40, z: attacker.z, opacity: 0.4, scale: 0.25, time: 750, }, \r\n\t\t\t\t{ y: attacker.y, opacity: 0, time: 1000, }, \r\n\t\t\t\t'decel');\r\n\t\t\tscene.showEffect('shadowball', \r\n\t\t\t\t{ x: attacker.x - 35, y: attacker.y - 40, z: attacker.z, opacity: 1, scale: 0.25, time: 800, }, \r\n\t\t\t\t{ y: attacker.y, opacity: 0, time: 1150, }, \r\n\t\t\t\t'decel');\r\n\t\t\tscene.showEffect('shadowball', \r\n\t\t\t\t{ x: attacker.x + 15, y: attacker.y - 40, z: attacker.z, opacity: 1, scale: 0.25, time: 950, }, \r\n\t\t\t\t{ y: attacker.y, opacity: 0, time: 1200, }, \r\n\t\t\t\t'decel');\r\n\t\t\tscene.showEffect('shadowball', \r\n\t\t\t\t{ x: attacker.x + 15, y: attacker.y - 40, z: attacker.z, opacity: 1, scale: 0.25, time: 1000, }, \r\n\t\t\t\t{ y: attacker.y, opacity: 0, time: 1350, }, \r\n\t\t\t\t'decel');\r\n\t\t\tscene.showEffect('poisonwisp', \r\n\t\t\t\t{ x: attacker.x, y: attacker.y - 25, z: attacker.z, scale: 2, opacity: 1, time: 750, }, \r\n\t\t\t\t{ x: attacker.x + 75, opacity: 0.3, time: 1200, }, \r\n\t\t\t\t'linear', 'fade');\r\n\t\t\tscene.showEffect('poisonwisp', \r\n\t\t\t\t{ x: attacker.x, y: attacker.y - 25, z: attacker.z, scale: 2, opacity: 1, time: 750, }, \r\n\t\t\t\t{ x: attacker.x - 75, opacity: 0.3, time: 1200, }, \r\n\t\t\t\t'linear', 'fade');\r\n\t\t\tdefender.anim({ x: defender.x - 15, time: 75, });\r\n\t\t\tdefender.anim({ x: defender.x + 15, time: 100, });\r\n\t\t\tdefender.anim({ x: defender.x - 15, time: 100, });\r\n\t\t\tdefender.anim({ x: defender.x + 15, time: 100, });\r\n\t\t\tdefender.anim({ x: defender.x - 15, time: 100, });\r\n\t\t\tdefender.anim({ x: defender.x + 15, time: 100, });\r\n\t\t\tdefender.anim({ x: defender.x, time: 100, });\r\n\t\t},\r\n\t},\r\n\tschoolingin: {\r\n\t\tanim(scene, [attacker]) {\r\n\t\t\tscene.backgroundEffect('#0000DD', 600, 0.2);\r\n\t\t\tscene.showEffect('wisp', \r\n\t\t\t\t{ x: attacker.x, y: attacker.y, z: attacker.z, scale: 2.5, opacity: 1, }, \r\n\t\t\t\t{ scale: 3, time: 600, }, \r\n\t\t\t\t'linear', 'explode');\r\n\t\t\tscene.showEffect('waterwisp', \r\n\t\t\t\t{ x: attacker.x, y: attacker.y, z: attacker.z, scale: 3, opacity: 0.3, }, \r\n\t\t\t\t{ scale: 3.25, time: 600, }, \r\n\t\t\t\t'linear', 'explode');\r\n\t\t\tscene.showEffect('iceball', \r\n\t\t\t\t{ x: attacker.leftof(200), y: attacker.y + 40, z: attacker.z, scale: 0.5, opacity: 0.5, }, \r\n\t\t\t\t{ x: attacker.x, y: attacker.y, z: attacker.z, opacity: 0, time: 200, }, \r\n\t\t\t\t'ballistic', 'fade');\r\n\t\t\tscene.showEffect('iceball', \r\n\t\t\t\t{ x: attacker.leftof(-140), y: attacker.y - 60, z: attacker.z, scale: 0.5, opacity: 0.5, time: 100, }, \r\n\t\t\t\t{ x: attacker.x, y: attacker.y, z: attacker.z, opacity: 0,time: 300, }, \r\n\t\t\t\t'ballistic2Under', 'fade');\r\n\t\t\tscene.showEffect('iceball', \r\n\t\t\t\t{ x: attacker.leftof(-140), y: attacker.y + 50, z: attacker.behind(170), scale: 0.5, opacity: 0.5, time: 200, }, \r\n\t\t\t\t{ x: attacker.x, y: attacker.y, z: attacker.z,opacity: 0, time: 400, }, \r\n\t\t\t'ballistic2', 'fade');\r\n\t\t\tscene.showEffect('iceball', \r\n\t\t\t\t{ x: attacker.x, y: attacker.y + 30, z: attacker.behind(-250), scale: 0.5, opacity: 0.5, time: 200, }, \r\n\t\t\t\t{ x: attacker.x, y: attacker.y, z: attacker.z, opacity: 0, time: 500, }, \r\n\t\t\t\t'ballistic', 'fade');\r\n\t\t\tscene.showEffect('iceball', \r\n\t\t\t\t{ x: attacker.leftof(240), y: attacker.y - 80, z: attacker.z, scale: 0.5, opacity: 0.5, time: 300, }, \r\n\t\t\t\t{ x: attacker.x, y: attacker.y, z: attacker.z, opacity: 0, time: 600, }, \r\n\t\t\t\t'ballistic2Under');\r\n\t\t},\r\n\t},\r\n\tschoolingout: {\r\n\t\tanim(scene, [attacker]) {\r\n\t\t\tscene.backgroundEffect('#0000DD', 600, 0.2);\r\n\t\t\tscene.showEffect('wisp', \r\n\t\t\t\t{ x: attacker.x, y: attacker.y, z: attacker.z, scale: 3, opacity: 1, }, \r\n\t\t\t\t{ scale: 2, time: 600, }, \r\n\t\t\t\t'linear', 'explode');\r\n\t\t\tscene.showEffect('waterwisp', \r\n\t\t\t\t{ x: attacker.x, y: attacker.y, z: attacker.z, scale: 3.25, opacity: 0.3, }, \r\n\t\t\t\t{ scale: 2.5, time: 600, }, \r\n\t\t\t\t'linear', 'explode');\r\n\t\t\tscene.showEffect('iceball', \r\n\t\t\t\t{ x: attacker.x, y: attacker.y, z: attacker.z, scale: 0.5, opacity: 0, }, \r\n\t\t\t\t{ x: attacker.leftof(200), y: attacker.y + 40, z: attacker.z, scale: 0.5, opacity: 0.5, time: 200, }, \r\n\t\t\t\t'ballistic', 'fade');\r\n\t\t\tscene.showEffect('iceball', \r\n\t\t\t\t{ x: attacker.x, y: attacker.y, z: attacker.z, scale: 0.5, opacity: 0, time: 100, }, \r\n\t\t\t\t{ x: attacker.leftof(-140), y: attacker.y - 60, z: attacker.z, opacity: 0.5, time: 300, }, \r\n\t\t\t\t'ballistic2Under', 'fade');\r\n\t\t\tscene.showEffect('iceball', \r\n\t\t\t\t{ x: attacker.x, y: attacker.y, z: attacker.z, scale: 0.5, opacity: 0, time: 200, }, \r\n\t\t\t\t{ x: attacker.leftof(-140), y: attacker.y + 50, z: attacker.behind(170), opacity: 0.5,time: 400, }, \r\n\t\t\t\t'ballistic2', 'fade');\r\n\t\t\tscene.showEffect('iceball', \r\n\t\t\t\t{ x: attacker.x, y: attacker.y, z: attacker.z, scale: 0.5, opacity: 0, time: 200, }, \r\n\t\t\t\t{ x: attacker.x, y: attacker.y + 30, z: attacker.behind(-250), opacity: 0.5, time: 500, }, \r\n\t\t\t\t'ballistic', 'fade');\r\n\t\t\tscene.showEffect('iceball', \r\n\t\t\t\t{ x: attacker.x, y: attacker.y, z: attacker.z, scale: 0.5, opacity: 0, time: 300, }, \r\n\t\t\t\t{ x: attacker.leftof(240), y: attacker.y - 80, z: attacker.z, opacity: 0.5, time: 600, }, \r\n\t\t\t\t'ballistic2Under');\r\n\t\t},\r\n\t},\r\n\tprimalalpha: {\r\n\t\tanim(scene, [attacker]) {\r\n\t\t\tscene.backgroundEffect('#0000DD', 500, 0.4);\r\n\t\t\tscene.showEffect('iceball', \r\n\t\t\t\t{ x: attacker.x, y: attacker.y, z: attacker.z, scale: 2, opacity: 0.2, time: 0, }, \r\n\t\t\t\t{ scale: 0.5, opacity: 1, time: 300, }, \r\n\t\t\t\t'linear', 'fade');\r\n\t\t\tscene.showEffect('iceball', \r\n\t\t\t\t{ x: attacker.x, y: attacker.y, z: attacker.z, scale: 0.5, opacity: 1, time: 300, }, \r\n\t\t\t\t{ scale: 4, opacity: 0, time: 700, }, \r\n\t\t\t\t'linear', 'fade');\r\n\t\t\tscene.showEffect('shadowball', \r\n\t\t\t\t{ x: attacker.x, y: attacker.y, z: attacker.z,scale: 0.5, opacity: 0.5, time: 300, }, \r\n\t\t\t\t{ scale: 5, opacity: 0, time: 600, }, \r\n\t\t\t\t'linear', 'fade');\r\n\t\t\tscene.showEffect('alpha', \r\n\t\t\t\t{ x: attacker.x, y: attacker.y, z: attacker.z, scale: 0.5, opacity: 1, time: 300, }, \r\n\t\t\t\t{ scale: 2.5, opacity: 0, time: 600, }, \r\n\t\t\t\t'decel');\r\n\t\t},\r\n\t},\r\n\tprimalomega: {\r\n\t\tanim(scene, [attacker]) {\r\n\t\t\tscene.backgroundEffect('linear-gradient(#390000 30%, #B84038)', 500, 0.4);\r\n\t\t\tscene.showEffect('flareball', \r\n\t\t\t\t{ x: attacker.x, y: attacker.y, z: attacker.z, scale: 2, opacity: 0.2, time: 0, }, \r\n\t\t\t\t{ scale: 0.5, opacity: 1, time: 300, }, \r\n\t\t\t\t'linear', 'fade');\r\n\t\t\tscene.showEffect('flareball', \r\n\t\t\t\t{ x: attacker.x, y: attacker.y, z: attacker.z, scale: 0.5, opacity: 1, time: 300, }, \r\n\t\t\t\t{ scale: 4, opacity: 0, time: 700, }, \r\n\t\t\t\t'linear', 'fade');\r\n\t\t\tscene.showEffect('shadowball', \r\n\t\t\t\t{ x: attacker.x, y: attacker.y, z: attacker.z, scale: 0.5, opacity: 0.5, time: 300, }, \r\n\t\t\t\t{ scale: 5, opacity: 0, time: 600, }, \r\n\t\t\t\t'linear', 'fade');\r\n\t\t\tscene.showEffect('omega', \r\n\t\t\t\t{ x: attacker.x, y: attacker.y, z: attacker.z, scale: 0.5, opacity: 1, time: 300, }, \r\n\t\t\t\t{ scale: 2.5, opacity: 0, time: 600, }, \r\n\t\t\t\t'decel');\r\n\t\t},\r\n\t},\r\n\tmegaevo: {\r\n\t\tanim(scene, [attacker]) {\r\n\t\t\tscene.backgroundEffect('#835BA5', 500, 0.6);\r\n\t\t\tscene.showEffect('iceball', \r\n\t\t\t\t{ x: attacker.x, y: attacker.y, z: attacker.z, scale: 2, opacity: 0.2, time: 0, }, \r\n\t\t\t\t{ scale: 0.5, opacity: 1, time: 300, }, \r\n\t\t\t\t'linear', 'fade');\r\n\t\t\tscene.showEffect('iceball', \r\n\t\t\t\t{ x: attacker.x, y: attacker.y, z: attacker.z, scale: 0.5, opacity: 1, time: 300, }, \r\n\t\t\t\t{ scale: 4, opacity: 0, time: 700, }, \r\n\t\t\t\t'linear', 'fade');\r\n\t\t\tscene.showEffect('mistball', \r\n\t\t\t\t{ x: attacker.x, y: attacker.y, z: attacker.z, scale: 0.5, opacity: 0.5, time: 300, }, \r\n\t\t\t\t{ scale: 5, opacity: 0, time: 600, }, \r\n\t\t\t\t'linear', 'fade');\r\n\t\t\tscene.showEffect('rainbow', \r\n\t\t\t\t{ x: attacker.x, y: attacker.y, z: attacker.z, scale: 0.5, opacity: 1, time: 300, }, \r\n\t\t\t\t{ scale: 5, opacity: 0, time: 600, }, \r\n\t\t\t\t'linear', 'fade');\r\n\t\t},\r\n\t},\r\n\tzpower: {\r\n\t\tanim(scene, [attacker]) {\r\n\t\t\tscene.backgroundEffect('linear-gradient(#000000 20%, #0000DD)', 1800, 0.4);\r\n\t\t\tscene.showEffect('electroball', \r\n\t\t\t\t{ x: attacker.x - 60, y: attacker.y + 40, z: attacker.z, scale: 0.7, opacity: 0.7, time: 0, }, \r\n\t\t\t\t{ x: attacker.x, y: attacker.y, scale: 0.2, opacity: 0.2, time: 300, }, \r\n\t\t\t\t'linear', 'fade');\r\n\t\t\tscene.showEffect('electroball', \r\n\t\t\t\t{ x: attacker.x + 60, y: attacker.y - 5, z: attacker.z, scale: 0.7, opacity: 0.7, time: 100, }, \r\n\t\t\t\t{ x: attacker.x, y: attacker.y, scale: 0.2, opacity: 0.2, time: 300, }, \r\n\t\t\t\t'linear', 'fade');\r\n\t\t\tscene.showEffect('electroball', \r\n\t\t\t\t{ x: attacker.x - 30, y: attacker.y + 60, z: attacker.z, scale: 0.7, opacity: 0.7, time: 100, }, \r\n\t\t\t\t{ x: attacker.x, y: attacker.y, scale: 0.2, opacity: 0.2, time: 400, }, \r\n\t\t\t\t'linear', 'fade');\r\n\t\t\tscene.showEffect('electroball', \r\n\t\t\t\t{ x: attacker.x + 20, y: attacker.y - 50, z: attacker.z, scale: 0.7, opacity: 0.7, time: 100, }, \r\n\t\t\t\t{ x: attacker.x, y: attacker.y, scale: 0.2, opacity: 0.2, time: 400, }, \r\n\t\t\t\t'linear', 'fade');\r\n\t\t\tscene.showEffect('electroball', \r\n\t\t\t\t{ x: attacker.x - 70, y: attacker.y - 50, z: attacker.z, scale: 0.7, opacity: 0.7, time: 200, }, \r\n\t\t\t\t{ x: attacker.x, y: attacker.y, scale: 0.2, opacity: 0.2, time: 500, }, \r\n\t\t\t\t'linear', 'fade');\r\n\t\t\tscene.showEffect('zsymbol', \r\n\t\t\t\t{ x: attacker.x, y: attacker.y, z: attacker.z, scale: 0.7, opacity: 1, time: 500, }, \r\n\t\t\t\t{ scale: 1, opacity: 0.5, time: 800, }, \r\n\t\t\t\t'decel', 'explode');\r\n\t\t\tscene.showEffect(attacker.sp, \r\n\t\t\t\t{ x: attacker.x, y: attacker.y, z: attacker.z,opacity: 0.3, time: 800, }, \r\n\t\t\t\t{ y: attacker.y + 20, scale: 2, opacity: 0, time: 1200, }, \r\n\t\t\t\t'accel');\r\n\t\t\tscene.showEffect(attacker.sp, \r\n\t\t\t\t{ x: attacker.x, y: attacker.y, z: attacker.z, opacity: 0.3, time: 1000, }, \r\n\t\t\t\t{ y: attacker.y + 20, scale: 2, opacity: 0, time: 1400, }, \r\n\t\t\t\t'accel');\r\n\t\t\tscene.showEffect(attacker.sp, \r\n\t\t\t\t{ x: attacker.x, y: attacker.y, z: attacker.z, opacity: 0.3, time: 1200, }, \r\n\t\t\t\t{ y: attacker.y + 20, scale: 2, opacity: 0, time: 1600, }, \r\n\t\t\t\t'accel');\r\n\t\t},\r\n\t},\r\n\tpowerconstruct: {\r\n\t\tanim(scene, [attacker]) {\r\n\t\t\tlet xf = [1, -1, 1, -1];\r\n\t\t\tlet yf = [1, -1, -1, 1];\r\n\t\t\tlet xf2 = [1, 0, -1, 0];\r\n\t\t\tlet yf2 = [0, 1, 0, -1];\r\n\t\t\tscene.backgroundEffect('#000000', 1000, 0.7);\r\n\t\t\tfor (let i = 0; i < 4; i++) {\r\n\t\t\t\tscene.showEffect('energyball', \r\n\t\t\t\t\t{ x: attacker.x + 150 * xf[i], y: attacker.y - 50, z: attacker.z + 70 * yf[i], scale: 0.1,xscale: 0.5, opacity: 0.4, }, \r\n\t\t\t\t\t{ x: attacker.x, y: attacker.y - 50, z: attacker.z, scale: 0.3, xscale: 0.8, opacity: 0, time: 500, }, \r\n\t\t\t\t\t'decel', 'fade');\r\n\t\t\t\tscene.showEffect('energyball', \r\n\t\t\t\t\t{ x: attacker.x + 200 * xf2[i], y: attacker.y - 50, z: attacker.z + 90 * yf2[i], scale: 0.1, xscale: 0.5, opacity: 0.4, }, \r\n\t\t\t\t\t{ x: attacker.x,y: attacker.y - 50, z: attacker.z, scale: 0.3, xscale: 0.8, opacity: 0, time: 500, }, \r\n\t\t\t\t\t'decel', 'fade');\r\n\t\t\t\tscene.showEffect('energyball', \r\n\t\t\t\t\t{ x: attacker.x + 50 * xf[i], y: attacker.y - 50, z: attacker.z + 100 * yf[i], scale: 0.1, xscale: 0.5, opacity: 0.4, time: 200,}, \r\n\t\t\t\t\t{ x: attacker.x, y: attacker.y - 50, z: attacker.z, scale: 0.3, xscale: 0.8, opacity: 0, time: 500, }, \r\n\t\t\t\t\t'decel', 'fade');\r\n\t\t\t\tscene.showEffect('energyball', \r\n\t\t\t\t\t{ x: attacker.x + 100 * xf2[i], y: attacker.y - 50, z: attacker.z + 90 * yf2[i], scale: 0.1, xscale: 0.5, opacity: 0.4, time: 200, }, \r\n\t\t\t\t\t{ x: attacker.x, y: attacker.y - 50, z: attacker.z, scale: 0.3, xscale: 0.8, opacity: 0, time: 500, }, \r\n\t\t\t\t\t'decel', 'fade');\r\n\t\t\t}\r\n\t\t\tscene.showEffect('energyball', \r\n\t\t\t\t{ x: attacker.x, y: attacker.y - 25, z: attacker.z, scale: 3, opacity: 0, time: 50, }, \r\n\t\t\t\t{ scale: 1, opacity: 0.8, time: 300, }, \r\n\t\t\t\t'linear', 'fade');\r\n\t\t\tscene.showEffect('energyball', \r\n\t\t\t\t{ x: attacker.x, y: attacker.y - 25, z: attacker.z, scale: 3.5, opacity: 0, time: 150, }, \r\n\t\t\t\t{ scale: 1.5, opacity: 1, time: 350, }, \r\n\t\t\t\t'linear', 'fade');\r\n\t\t\tscene.showEffect('energyball', \r\n\t\t\t\t{ x: attacker.x, y: attacker.y - 25, z: attacker.z, scale: 0.5, opacity: 1, time: 200, }, \r\n\t\t\t\t{ scale: 3, opacity: 0, time: 600, }, \r\n\t\t\t\t'linear', 'fade');\r\n\t\t\tscene.showEffect('wisp', \r\n\t\t\t\t{ x: attacker.x, y: attacker.y - 25, z: attacker.z, scale: 1, opacity: 0.6, time: 100, }, \r\n\t\t\t\t{ scale: 3.5, opacity: 0.8, time: 500, }, \r\n\t\t\t\t'linear', 'explode');\r\n\t\t},\r\n\t},\r\n\tultraburst: {\r\n\t\tanim(scene, [attacker]) {\r\n\t\t\tscene.backgroundEffect('#000000', 600, 0.5);\r\n\t\t\tscene.backgroundEffect('#ffffff', 500, 1, 550);\r\n\t\t\tscene.showEffect('wisp', \r\n\t\t\t\t{ x: attacker.x - 60, y: attacker.y + 40, z: attacker.z, scale: 0.7, opacity: 0.7, time: 0, }, \r\n\t\t\t\t{ x: attacker.x, y: attacker.y, scale: 0.2, opacity: 0.2, time: 150, }, \r\n\t\t\t\t'linear', 'fade');\r\n\t\t\tscene.showEffect('wisp', \r\n\t\t\t\t{ x: attacker.x + 60, y: attacker.y - 5, z: attacker.z, scale: 0.7, opacity: 0.7, time: 100, }, \r\n\t\t\t\t{ x: attacker.x, y: attacker.y, scale: 0.2, opacity: 0.2, time: 150, }, \r\n\t\t\t\t'linear', 'fade');\r\n\t\t\tscene.showEffect('wisp', \r\n\t\t\t\t{ x: attacker.x - 30, y: attacker.y + 60, z: attacker.z, scale: 0.7, opacity: 0.7, time: 100, }, \r\n\t\t\t\t{ x: attacker.x, y: attacker.y, scale: 0.2, opacity: 0.2, time: 250, }, \r\n\t\t\t\t'linear', 'fade');\r\n\t\t\tscene.showEffect('wisp', \r\n\t\t\t\t{ x: attacker.x + 20, y: attacker.y - 50, z: attacker.z, scale: 0.7, opacity: 0.7, time: 100, }, \r\n\t\t\t\t{ x: attacker.x, y: attacker.y, scale: 0.2, opacity: 0.2, time: 250, }, \r\n\t\t\t\t'linear', 'fade');\r\n\t\t\tscene.showEffect('wisp', \r\n\t\t\t\t{ x: attacker.x - 70, y: attacker.y - 50, z: attacker.z, scale: 0.7, opacity: 0.7, time: 100, }, \r\n\t\t\t\t{ x: attacker.x, y: attacker.y, scale: 0.2, opacity: 0.2, time: 300, }, \r\n\t\t\t\t'linear', 'fade');\r\n\t\t\tscene.showEffect('wisp', \r\n\t\t\t\t{ x: attacker.x, y: attacker.y, z: attacker.z, scale: 1.5, opacity: 1, }, \r\n\t\t\t\t{ scale: 4, time: 600, }, \r\n\t\t\t\t'linear', 'explode');\r\n\t\t\tscene.showEffect('electroball', \r\n\t\t\t\t{ x: attacker.x, y: attacker.y, z: attacker.z, scale: 2, opacity: 0, }, \r\n\t\t\t\t{ scale: 2.25, opacity: 0.1, time: 600, }, \r\n\t\t\t\t'linear', 'explode');\r\n\t\t\tscene.showEffect('energyball', \r\n\t\t\t\t{ x: attacker.x, y: attacker.y, z: attacker.z, scale: 2, opacity: 0, time: 200, }, \r\n\t\t\t\t{ scale: 2.25, opacity: 0.1, time: 600, }, \r\n\t\t\t\t'linear', 'explode');\r\n\t\t\tscene.showEffect('electroball', \r\n\t\t\t\t{ x: attacker.x, y: attacker.y, z: attacker.z, scale: 6, opacity: 0.2, }, \r\n\t\t\t\t{ scale: 1, opacity: 0, time: 300, }, \r\n\t\t\t\t'linear');\r\n\t\t\tscene.showEffect('electroball', \r\n\t\t\t\t{ x: attacker.x, y: attacker.y, z: attacker.z, scale: 6, opacity: 0.2, time: 150, }, \r\n\t\t\t\t{ scale: 1, opacity: 0, time: 450, }, \r\n\t\t\t\t'linear');\r\n\t\t\tscene.showEffect('electroball', \r\n\t\t\t\t{ x: attacker.x, y: attacker.y, z: attacker.z, scale: 6, opacity: 0.2, time: 300, }, \r\n\t\t\t\t{ scale: 1, opacity: 0, time: 600, }, \r\n\t\t\t\t'linear');\r\n\t\t\tscene.showEffect('ultra', \r\n\t\t\t\t{ x: attacker.x, y: attacker.y, z: attacker.z, scale: 0.5, opacity: 1, time: 600, }, \r\n\t\t\t\t{ scale: 1, opacity: 0, time: 900, }, \r\n\t\t\t\t'decel');\r\n\t\t\tscene.showEffect('iceball', \r\n\t\t\t\t{ x: attacker.x, y: attacker.y - 60, z: attacker.z, scale: 0.5, xscale: 0.25, yscale: 0, opacity: 0.5, time: 600, }, \r\n\t\t\t\t{ scale: 2, xscale: 6, yscale: 1, opacity: 0, time: 800, }, \r\n\t\t\t\t'linear');\r\n\t\t\tscene.showEffect('iceball', \r\n\t\t\t\t{ x: attacker.x, y: attacker.y - 60, z: attacker.z, scale: 0.5, xscale: 0.25, yscale: 0.75, opacity: 0.5, time: 800, }, \r\n\t\t\t\t{ scale: 2, xscale: 6, opacity: 0.1, time: 1000, }, \r\n\t\t\t\t'linear');\r\n\t\t},\r\n\t},\r\n};\r\n//region Status Animations\r\nexport const BattleStatusAnims: AnimTable = {\r\n\taura: {\r\n\tanim(scene, [attacker]) {\r\n\t\t// Reuse the Z-move â€œpower upâ€ particle sequence\r\n\t\tBattleOtherAnims.zpower.anim(scene, [attacker]);\r\n\t},\r\n},\r\n\tbrn: {\r\n\t\tanim(scene, [attacker]) {\r\n\t\t\tscene.showEffect('fireball', \r\n\t\t\t\t{ x: attacker.x - 20, y: attacker.y - 15, z: attacker.z, scale: 0.2, opacity: 0.3, }, \r\n\t\t\t\t{ x: attacker.x + 40, y: attacker.y + 15, z: attacker.z, scale: 1, opacity: 1, time: 300, }, \r\n\t\t\t\t'swing', 'fade');\r\n\t\t},\r\n\t},\r\n\tpsn: {\r\n\t\tanim(scene, [attacker]) {\r\n\t\t\tscene.showEffect('poisonwisp', \r\n\t\t\t\t{ x: attacker.x + 30, y: attacker.y - 40, z: attacker.z, scale: 0.2, opacity: 1, time: 0, }, \r\n\t\t\t\t{ y: attacker.y, scale: 1, opacity: 0.5, time: 300, }, \r\n\t\t\t\t'decel', 'fade');\r\n\t\t\tscene.showEffect('poisonwisp', \r\n\t\t\t\t{ x: attacker.x - 30, y: attacker.y - 40, z: attacker.z, scale: 0.2, opacity: 1, time: 100, }, \r\n\t\t\t\t{ y: attacker.y, scale: 1, opacity: 0.5, time: 400, }, \r\n\t\t\t\t'decel', 'fade');\r\n\t\t\tscene.showEffect('poisonwisp', \r\n\t\t\t\t{ x: attacker.x, y: attacker.y - 40, z: attacker.z, scale: 0.2, opacity: 1, time: 200, }, \r\n\t\t\t\t{ y: attacker.y, scale: 1, opacity: 0.5, time: 500, }, \r\n\t\t\t\t'decel', 'fade');\r\n\t\t},\r\n\t},\r\n\tslp: {\r\n\t\tanim(scene, [attacker]) {\r\n\t\t\tscene.showEffect('wisp', \r\n\t\t\t\t{ x: attacker.x, y: attacker.y + 20, z: attacker.z, scale: 0.5, opacity: 0.1, }, \r\n\t\t\t\t{ x: attacker.x, y: attacker.y + 20, z: attacker.behind(-50), scale: 1.5, opacity: 1, time: 400, }, \r\n\t\t\t\t'ballistic2Under', 'fade');\r\n\t\t\tscene.showEffect('wisp', \r\n\t\t\t\t{ x: attacker.x, y: attacker.y + 20, z: attacker.z, scale: 0.5, opacity: 0.1, time: 200, }, \r\n\t\t\t\t{ x: attacker.x, y: attacker.y + 20, z: attacker.behind(-50), scale: 1.5, opacity: 1, time: 600, }, \r\n\t\t\t\t'ballistic2Under', 'fade');\r\n\t\t},\r\n\t},\r\n\tpar: {\r\n\t\tanim(scene, [attacker]) {\r\n\t\t\tscene.showEffect('electroball', \r\n\t\t\t\t{ x: attacker.x, y: attacker.y, z: attacker.z, scale: 1.5, opacity: 0.2, }, \r\n\t\t\t\t{ scale: 2, opacity: 0.1, time: 300, }, \r\n\t\t\t\t'linear', 'fade');\r\n\t\t\tattacker.delay(100);\r\n\t\t\tattacker.anim({ x: attacker.x - 1, time: 75, }, 'swing');\r\n\t\t\tattacker.anim({ x: attacker.x + 1, time: 75, }, 'swing');\r\n\t\t\tattacker.anim({ x: attacker.x - 1, time: 75, }, 'swing');\r\n\t\t\tattacker.anim({ x: attacker.x + 1, time: 75, }, 'swing');\r\n\t\t\tattacker.anim({ x: attacker.x - 1, time: 75, }, 'swing');\r\n\t\t\tattacker.anim({ time: 100, }, 'accel');\r\n\t\t},\r\n\t},\r\n\tfrz: {\r\n\t\tanim(scene, [attacker]) {\r\n\t\t\tscene.showEffect('icicle', \r\n\t\t\t\t{ x: attacker.x - 30, y: attacker.y, z: attacker.z, scale: 0.5, opacity: 0.5, time: 200, }, \r\n\t\t\t\t{ scale: 0.9, opacity: 0, time: 600, }, \r\n\t\t\t\t'linear', 'fade');\r\n\t\t\tscene.showEffect('icicle', \r\n\t\t\t\t{ x: attacker.x, y: attacker.y - 30, z: attacker.z, scale: 0.5, opacity: 0.5, time: 300, }, \r\n\t\t\t\t{ scale: 0.9, opacity: 0, time: 650, }, \r\n\t\t\t\t'linear', 'fade');\r\n\t\t\tscene.showEffect('icicle', \r\n\t\t\t\t{ x: attacker.x + 15, y: attacker.y, z: attacker.z, scale: 0.5, opacity: 0.5, time: 400, }, \r\n\t\t\t\t{ scale: 0.9, opacity: 0, time: 700, }, \r\n\t\t\t\t'linear', 'fade');\r\n\t\t\tscene.showEffect('wisp', \r\n\t\t\t\t{ x: attacker.x, y: attacker.y, z: attacker.z, scale: 1, opacity: 0.5, }, \r\n\t\t\t\t{ scale: 3, opacity: 0, time: 600, }, \r\n\t\t\t\t'linear', 'fade');\r\n\t\t},\r\n\t},\r\n\tflinch: {\r\n\t\tanim(scene, [attacker]) {\r\n\t\t\tscene.showEffect('shadowball', \r\n\t\t\t\t{ x: attacker.x, y: attacker.y, z: attacker.z, scale: 1, opacity: 0.2, }, \r\n\t\t\t\t{ scale: 3, opacity: 0.1, time: 300, }, \r\n\t\t\t\t'linear', 'fade');\r\n\t\t},\r\n\t},\r\n\tattracted: {\r\n\t\tanim(scene, [attacker]) {\r\n\t\t\tscene.showEffect('heart', \r\n\t\t\t\t{ x: attacker.x + 20, y: attacker.y + 20, z: attacker.z, scale: 0.5, opacity: 0.5, time: 0, }, \r\n\t\t\t\t{ scale: 1, opacity: 1, time: 300, }, \r\n\t\t\t\t'ballistic2Under', 'fade');\r\n\t\t\tscene.showEffect('heart', \r\n\t\t\t\t{ x: attacker.x - 20, y: attacker.y + 10, z: attacker.z, scale: 0.5, opacity: 0.5, time: 100, }, \r\n\t\t\t\t{ scale: 1, opacity: 1, time: 400, }, \r\n\t\t\t\t'ballistic2Under', 'fade');\r\n\t\t\tscene.showEffect('heart', \r\n\t\t\t\t{ x: attacker.x, y: attacker.y + 40, z: attacker.z, scale: 0.5, opacity: 0.5, time: 200, }, \r\n\t\t\t\t{ scale: 1, opacity: 1, time: 500, }, \r\n\t\t\t\t'ballistic2Under', 'fade');\r\n\t\t},\r\n\t},\r\n\tcursed: {\r\n\t\tanim(scene, [attacker]) {\r\n\t\t\tscene.backgroundEffect('#000000', 700, 0.2);\r\n\t\t\tattacker.delay(300);\r\n\t\t\tattacker.anim({ x: attacker.x - 5, time: 50 });\r\n\t\t\tattacker.anim({ x: attacker.x + 5, time: 50 });\r\n\t\t\tattacker.anim({ x: attacker.x - 5, time: 50 });\r\n\t\t\tattacker.anim({ x: attacker.x + 5, time: 50 });\r\n\t\t\tattacker.anim({ x: attacker.x, time: 50 });\r\n\t\t\tscene.showEffect(attacker.sp, \r\n\t\t\t\t{ x: attacker.x, y: attacker.y, z: attacker.z, opacity: 0.5, time: 0, }, \r\n\t\t\t\t{ z: attacker.behind(20), opacity: 0, time: 600, }, \r\n\t\t\t\t'decel');\r\n\t\t},\r\n\t},\r\n\tconfused: {\r\n\t\tanim(scene, [attacker]) {\r\n\t\t\tscene.showEffect('electroball', \r\n\t\t\t\t{ x: attacker.x + 50, y: attacker.y + 30, z: attacker.z, scale: 0.1, opacity: 1, time: 400, }, \r\n\t\t\t\t{ x: attacker.x - 50, scale: 0.15, opacity: 0.4, time: 600, }, \r\n\t\t\t\t'linear', 'fade');\r\n\t\t\tscene.showEffect('electroball', \r\n\t\t\t\t{ x: attacker.x - 50, y: attacker.y + 30, z: attacker.z, scale: 0.1, opacity: 1, time: 400, }, \r\n\t\t\t\t{ x: attacker.x + 50, scale: 0.15, opacity: 0.4, time: 600, }, \r\n\t\t\t\t'linear', 'fade');\r\n\t\t\tscene.showEffect('electroball', \r\n\t\t\t\t{ x: attacker.x + 50, y: attacker.y + 30, z: attacker.z, scale: 0.1, opacity: 1, time: 600, }, \r\n\t\t\t\t{ x: attacker.x - 50, scale: 0.4, opacity: 0.4, time: 800, }, \r\n\t\t\t\t'linear', 'fade');\r\n\t\t\tscene.showEffect('electroball', \r\n\t\t\t\t{ x: attacker.x - 50, y: attacker.y + 30, z: attacker.z, scale: 0.15, opacity: 1, time: 600, }, \r\n\t\t\t\t{ x: attacker.x + 50, scale: 0.4, opacity: 0.4, time: 800, }, \r\n\t\t\t\t'linear', 'fade');\r\n\t\t},\r\n\t},\r\n\tconfusedselfhit: {\r\n\t\tanim(scene, [attacker]) {\r\n\t\t\tscene.showEffect('wisp', \r\n\t\t\t\t{ x: attacker.x, y: attacker.y, z: attacker.z, scale: 0, opacity: 0.5, }, \r\n\t\t\t\t{ scale: 2, opacity: 0, time: 200, }, \r\n\t\t\t\t'linear');\r\n\t\t\tattacker.delay(50);\r\n\t\t\tattacker.anim({ x: attacker.leftof(2), z: attacker.behind(5), time: 100, }, 'swing');\r\n\t\t\tattacker.anim({ time: 300, }, 'swing');\r\n\t\t},\r\n\t},\r\n};\r\nBattleStatusAnims['focuspunch'] = { anim: BattleStatusAnims['flinch'].anim };"],"mappings":"sSAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GARA;;;;;;;;;;;;;;;;;;;;;AA6BaA,WAAW;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkDvB,SAAAA,YAAYC,MAAc,CAAEC,MAAc,CAAEC,SAAiB,CAAE,KAAAC,KAAA,WAjD/DH,MAAM,aACNI,SAAS,CAAG,IAAI,MAChBC,YAAY,CAAG,CAAC,MAEhBC,GAAG,CAAG,CAAC,MACPC,GAAG,CAAG,EAAE,MAERC,WAAW,CAAG,CAAC,MACfC,SAAS,CAAG,CAAC,MACbR,MAAM,aACNS,OAAO,CAAW,IAAI,MACtBC,QAAQ,CAAW,IAAI,MACvBC,GAAG,aACHC,QAAQ,CAAW,IAAI,MACvBC,QAAQ,CAAW,IAAI,MACvBC,SAAS,CAAW,IAAI,MACxBC,GAAG,CAAW,IAAI,MAClBC,OAAO,CAAW,IAAI,MACtBC,QAAQ,CAAqB,CAAC,IAAI,CAAG,IAAI,CAAE,MAC3CC,aAAa,CAAqB,CAAC,IAAI,CAAG,IAAI,CAAE,MAChDC,KAAK,CAAW,IAAI,MACpBC,GAAG,CAAW,IAAI,MAClBC,QAAQ,CAAW,IAAI,MACvBC,SAAS,CAAW,IAAI,MACxBC,cAAc,CAAW,IAAI,MAC7BC,KAAK,CAAW,IAAI,MACpBC,WAAW,CAAW,IAAI,MAC1BC,MAAM,CAAW,IAAI,MACrBC,cAAc,CAAW,IAAI,MAC7BC,SAAS,CAAW,IAAI,MACxBC,QAAQ,aACRC,cAAc,CAA6D,CAAC,CAAC,CAAC,CAAE,CAAC,CAAC,CAAC,MACnFC,WAAW,CAAG,CAAC,MACfC,aAAa,CAAG,CAAC,MACjBC,GAAG,CAAqB,IAAI,MAC5BC,aAAa,CAAG,EAAE,MAClBC,MAAM,CAAG,CAAC,MACVC,YAAY,CAAwC,CAAC,CAAC,MACtDC,cAAc,CAAG,KAAK,MACtBC,cAAc,CAAG,KAAK,MACtBC,iBAAiB,CAAG,CAAC,MACrBC,UAAU,CAAG,EAAE,MACfC,UAAU,CAAG,EAAE,MAEfC,UAAU,CAAG,CAAC,MACdC,iBAAiB,CAAG,CAAC,MACrBC,QAAQ,CAAG,CAAC,MAEZC,gBAAgB,CAAGC,CAAC,CAAC,CAAC;AAErB,IAAI,CAAC/C,MAAM,CAAGA,MAAM;AACpBC,MAAM,CAAC+C,QAAQ,CAAC,QAAQ,CAAC;AACzB,IAAI,CAAC/C,MAAM,CAAGA,MAAM;AACpB,IAAI,CAACW,GAAG,CAAG,GAAI,CAAAqC,SAAS,CAAC/C,SAAS,CAAC,CAAC,CAAC,CAAoB,IAAI,CAAC;;;;;AAKhE,KAAAgD,WAAA,CAAAC,cAAA;AACC,GAAM,CAAAC,MAAM,CAAG,IAAI,CAACxC,GAAU;;AAE9B,GAAM,CAAAyC,OAAO,EAAAH,WAAA,CAAGE,MAAM,CAACE,GAAG,eAAVJ,WAAA,CAAYK,IAAI,CAAC,IAAI,CAAC3C,GAAG,CAAC;AAC1C,GAAIyC,OAAO,CAAE;AACZD,MAAM,CAACE,GAAG,CAAG,UAAoB;AAChC,GAAM,CAAAE,GAAG,CAAGH,OAAO,CAAAI,KAAA,QAAAC,SAAQ,CAAC;AAC5BC,OAAO,CAACC,OAAO,CAAC,CAAC,CAACC,IAAI,CAAC,iBAAM,CAAA1D,KAAI,CAAC2D,aAAa,CAAC,CAAC,GAAC;AAClD,MAAO,CAAAN,GAAG;AACX,CAAC;AACF;;AAEA,GAAM,CAAAO,UAAU,EAAAZ,cAAA,CAAGC,MAAM,CAACY,MAAM,eAAbb,cAAA,CAAeI,IAAI,CAAC,IAAI,CAAC3C,GAAG,CAAC;AAChD,GAAImD,UAAU,CAAE;AACfX,MAAM,CAACY,MAAM,CAAG,UAAoB;AACnC,GAAM,CAAAR,GAAG,CAAGO,UAAU,CAAAN,KAAA,QAAAC,SAAQ,CAAC;AAC/BC,OAAO,CAACC,OAAO,CAAC,CAAC,CAACC,IAAI,CAAC,iBAAM,CAAA1D,KAAI,CAAC2D,aAAa,CAAC,CAAC,GAAC;AAClD,MAAO,CAAAN,GAAG;AACX,CAAC;AACF;AACD;AACE,IAAI,CAAC5C,GAAG,CAACqD,YAAY,CAAEC,WAAW,CAAG,SAACC,SAAiB,CAAK;AAC3D,GAAI,CAACA,SAAS,CAAE,MAAO,EAAE;AACzB,GAAInE,MAAM,CAACoE,WAAW,EAAIpE,MAAM,CAACqE,cAAc,CAAE;AAChD,GAAM,CAAAC,OAAO,CAAGtE,MAAM,CAACuE,UAAU,CAACJ,SAAS,CAAC;AAC5C,GAAIG,OAAO,CAAE,MAAO,CAAAA,OAAO,CAACE,YAAY;AACzC;AACA,GAAI,CAACL,SAAS,CAACM,UAAU,CAAC,GAAG,CAAC,CAAE,MAAO,aAAa,CAAGN,SAAS,CAAG,KAAK;AACxE,GAAIA,SAAS,CAACO,MAAM,CAAC,CAAC,CAAC,GAAK,GAAG,CAAE,MAAO,CAAAC,gBAAgB,CAACC,aAAa,CAACT,SAAS,CAACU,KAAK,CAAC,CAAC,CAAC,CAACC,IAAI,CAAC,CAAC,CAAC,CAAC;AAC7F,GAAIX,SAAS,CAACO,MAAM,CAAC,CAAC,CAAC,GAAK,GAAG,CAAE,MAAO,CAAAC,gBAAgB,CAACC,aAAa,CAACT,SAAS,CAACU,KAAK,CAAC,CAAC,CAAC,CAACC,IAAI,CAAC,CAAC,CAAC;AACtG,MAAO,aAAa,CAAGX,SAAS,CAAG,KAAK;AACzC,CAAC;AACD,GAAI,CAAA1D,SAAS,CAAG,CAAC;AACjB,GAAIT,MAAM,CAAC+E,EAAE,CAAE;AACdtE,SAAS,CAAGuE,QAAQ,CAAChF,MAAM,CAAC+E,EAAE,CAACF,KAAK,CAAC7E,MAAM,CAAC+E,EAAE,CAACE,WAAW,CAAC,GAAG,CAAC,CAAG,CAAC,CAAC,CAAE,EAAE,CAAC;AACzE,GAAI,IAAI,CAACjF,MAAM,CAAC+E,EAAE,CAACG,QAAQ,CAAC,SAAS,CAAC,CAAE,IAAI,CAAC3E,GAAG,CAAG,SAAS;AAC7D;AACA,GAAI,CAACE,SAAS,CAAE,CAAEA,SAAS,CAAG0E,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,CAAC,CAAC,CAAG,OAAO,CAAC,CAAE;AACnE,IAAI,CAAC5E,SAAS,CAAGA,SAAS;AAC1B,IAAI,CAACqB,QAAQ,CAAG,GAAI,CAAAwD,cAAc,CAACtF,MAAM,CAAC;AAC1C,IAAI,CAAC8B,QAAQ,CAACyD,MAAM,CAACtF,MAAM,CAAC,CAAC,CAAC,CAAC;AAC/B,IAAI,CAACuF,cAAc,CAAC,CAAC;;AAEtB,CAAC,IAAAC,MAAA,CAAA1F,WAAA,CAAA2F,SAAA,CAAAD,MAAA;AACDE,KAAK,CAAL,SAAAA,KAAKA,CAAA,CAAG;AACP,IAAI,CAACC,SAAS,CAAC,CAAC;;AAEhB,GAAI,IAAI,CAACjF,QAAQ,CAAE,CAAE,IAAI,CAACC,GAAG,CAAC+E,KAAK,CAAC,CAAC,CAAE,CAAC;AACnC;AACJ,IAAI,CAAChF,QAAQ,CAAGoC,CAAC,CAAC,oCAAoC,CAAC;AACvDA,CAAC,CAAC,IAAI,CAACnC,GAAG,CAACiF,IAAI,CAAC,CAACC,OAAO,CAAC,IAAI,CAACnF,QAAQ,CAAC;AACxC;;AAEA,IAAI,CAACV,MAAM,CAAC8F,KAAK,CAAC,CAAC;AACnB,IAAI,CAACvE,cAAc,CAAGuB,CAAC,CAAC,kFAAkF,CAAC;AAC3G,IAAI,CAACrC,OAAO,CAAGqC,CAAC,CAAC,iCAAiC,CAAC;AACnD,IAAI,CAAC9C,MAAM,CAAC+F,MAAM,CAAC,IAAI,CAACxE,cAAc,CAAC;AACvC,IAAI,CAACvB,MAAM,CAAC+F,MAAM,CAAC,IAAI,CAACtF,OAAO,CAAC;AAChC,IAAI,CAACM,GAAG,CAAG+B,CAAC,CAAC,oDAAoD,CAAGkD,GAAG,CAACC,cAAc,CAAG,IAAI,CAAC/D,aAAa,CAAG,qCAAqC,CAAC;AACpJ,IAAI,CAACtB,QAAQ,CAAGkC,CAAC,CAAC,6BAA6B,CAAC;AAChD,IAAI,CAACjC,QAAQ,CAAGiC,CAAC,CAAC,6BAA6B,CAAC;AAChD,IAAI,CAAChC,SAAS,CAAGgC,CAAC,CAAC,aAAa,CAAC;AACjC,IAAI,CAAC9B,OAAO,CAAG8B,CAAC,CAAC,aAAa,CAAC;AAC/B,IAAI,CAAC7B,QAAQ,CAAG,CAAC6B,CAAC,CAAC,aAAa,CAAC,CAAEA,CAAC,CAAC,aAAa,CAAC,CAAC;AACpD,IAAI,CAAC5B,aAAa,CAAG,CAAC4B,CAAC,CAAC,aAAa,CAAC,CAAEA,CAAC,CAAC,aAAa,CAAC,CAAC;AACzD,IAAI,CAAChB,cAAc,CAAG,CAAC,CAAC,CAAC,CAAE,CAAC,CAAC,CAAC;AAC9B,IAAI,CAACd,OAAO,CAAC+E,MAAM,CAAC,IAAI,CAAC9E,QAAQ,CAAC,CAAC,CAAC,CAAC;AACrC,IAAI,CAACD,OAAO,CAAC+E,MAAM,CAAC,IAAI,CAAC7E,aAAa,CAAC,CAAC,CAAC,CAAC;AAC1C,IAAI,CAACF,OAAO,CAAC+E,MAAM,CAAC,IAAI,CAAC7E,aAAa,CAAC,CAAC,CAAC,CAAC;AAC1C,IAAI,CAACF,OAAO,CAAC+E,MAAM,CAAC,IAAI,CAAC9E,QAAQ,CAAC,CAAC,CAAC,CAAC;AACrC,IAAI,CAACE,KAAK,CAAG2B,CAAC,CAAC,8DAA8D,CAAC;AAC9E,IAAI,CAAC1B,GAAG,CAAG0B,CAAC,CAAC,aAAa,CAAC;AAC3B,IAAI,CAACzB,QAAQ,CAAGyB,CAAC,CAAC,yEAAyE,CAAC;AAC5F,IAAI,CAACxB,SAAS,CAAGwB,CAAC,CAAC,iFAAiF,CAAC;AACrG,IAAI,CAACtB,KAAK,CAAGsB,CAAC,CAAC,aAAa,CAAC;AAC7B,IAAI,CAACrB,WAAW,CAAGqB,CAAC,CAAC,wCAAwC,CAAC;AAC9D,IAAI,CAACpB,MAAM,CAAGoB,CAAC,CAAC,aAAa,CAAC;AAC9B,IAAI,CAACnB,cAAc,CAAGmB,CAAC,CAAC,uFAAuF,CAAC;AAChH,IAAI,CAAClB,SAAS,CAAGkB,CAAC,CAAC,8BAA8B,CAAC;AAClD,IAAI,CAACrC,OAAO,CAACsF,MAAM,CAAC,IAAI,CAAChF,GAAG,CAAC;AAC7B,IAAI,CAACN,OAAO,CAACsF,MAAM,CAAC,IAAI,CAACnF,QAAQ,CAAC;AAClC,IAAI,CAACH,OAAO,CAACsF,MAAM,CAAC,IAAI,CAAClF,QAAQ,CAAC;AAClC,IAAI,CAACJ,OAAO,CAACsF,MAAM,CAAC,IAAI,CAACjF,SAAS,CAAC;AACnC,IAAI,CAACL,OAAO,CAACsF,MAAM,CAAC,IAAI,CAAC/E,OAAO,CAAC;AACjC,IAAI,CAACP,OAAO,CAACsF,MAAM,CAAC,IAAI,CAAC5E,KAAK,CAAC;AAC/B,IAAI,CAACV,OAAO,CAACsF,MAAM,CAAC,IAAI,CAAC3E,GAAG,CAAC;AAC7B,IAAI,CAACX,OAAO,CAACsF,MAAM,CAAC,IAAI,CAAC1E,QAAQ,CAAC;AAClC,IAAI,CAACZ,OAAO,CAACsF,MAAM,CAAC,IAAI,CAACzE,SAAS,CAAC;AACnC,IAAI,CAACb,OAAO,CAACsF,MAAM,CAAC,IAAI,CAACvE,KAAK,CAAC;AAC/B,IAAI,CAACf,OAAO,CAACsF,MAAM,CAAC,IAAI,CAACtE,WAAW,CAAC;AACrC,IAAI,CAAChB,OAAO,CAACsF,MAAM,CAAC,IAAI,CAACrE,MAAM,CAAC;AAChC,IAAI,CAACjB,OAAO,CAACsF,MAAM,CAAC,IAAI,CAACpE,cAAc,CAAC;AACxC,IAAI,CAAClB,OAAO,CAACsF,MAAM,CAAC,IAAI,CAACnE,SAAS,CAAC;AACnC,GAAI,CAAC,IAAI,CAACzB,SAAS,CAAE,CAAE,IAAI,CAACM,OAAO,CAACsF,MAAM,CAAC,wDAAwD,CAAC,CAAE;AACtG,IAAI,CAAC1D,cAAc,CAAG,KAAK;AAC3B,IAAI,CAACK,UAAU,CAAG,CAAC;AACnB,IAAI,CAACC,iBAAiB,CAAG,CAAC;AAC1B,IAAI,CAACF,UAAU,CAAG,EAAE;AACpB,IAAI,CAACD,UAAU,CAAG,EAAE;AACpB,IAAI,CAAC7B,GAAG,CAACqD,YAAY,CAAEkC,WAAW,CAAG,IAAI,CAACnG,MAAM,CAACoG,MAAM,CAACC,MAAM;AAC9D,IAAI,CAACC,UAAU,CAAC,IAAI,CAAC;AACtB,CAAC,CAAAb,MAAA;AACDc,YAAY,CAAZ,SAAAA,YAAYA,CAAA,CAAG;AACd,IAAI,CAAC7F,OAAO,CAACsF,MAAM,CAAC,wDAAwD,CAAC;AAC7E,IAAI,CAAC/F,MAAM,CAACuG,IAAI,CAAC,gBAAgB,CAAC,CAACC,MAAM,CAAC,CAAC;AAC3C,IAAI,CAACC,aAAa,CAAC,CAAC;AACpB,IAAI,CAACtG,SAAS,CAAG,KAAK;AACtB,IAAI,CAACsB,WAAW,CAACqE,KAAK,CAAC,CAAC,CAACY,GAAG,CAAC;AAC5BC,OAAO,CAAE,CAAC;AACVC,MAAM,CAAE;AACT,CAAC,CAAC;AACH,CAAC,CAAApB,MAAA;AACDiB,aAAa,CAAb,SAAAA,aAAaA,CAAA,CAAG;AACf,IAAI,CAAClE,iBAAiB,EAAE;AACxB,IAAI,CAAC9B,OAAO,CAAC8F,IAAI,CAAC,WAAW,CAAC,CAACM,MAAM,CAAC,CAAC;AACvC,IAAI,CAACzF,GAAG,CAAC0E,KAAK,CAAC,CAAC;AACjB,CAAC,CAAAN,MAAA;AACDsB,WAAW,CAAX,SAAAA,WAAWA,CAAA,CAAG;AACb,GAAI,IAAI,CAAC3G,SAAS,CAAE;AACpB2C,CAAC,CAACiE,EAAE,CAACC,GAAG,CAAG,KAAK;AAChB,IAAI,CAAC7G,SAAS,CAAG,IAAI;AACrB,IAAI,CAACM,OAAO,CAAC8F,IAAI,CAAC,UAAU,CAAC,CAACC,MAAM,CAAC,CAAC;AACtC,IAAI,CAACS,cAAc,CAAC,CAAC,CAAC,QAAAC,GAAA,GAAAC,mBAAA;AACH,IAAI,CAACpH,MAAM,CAACqH,KAAK,CAAAF,GAAA,CAAAC,mBAAA,CAAAE,MAAA,CAAAH,GAAA,GAAE,CAAjC,GAAM,CAAAI,IAAI,CAAAH,mBAAA,CAAAD,GAAA,UAAAK,GAAA,GAAAC,cAAA,CAA+CF,IAAI,CAACjD,OAAO,CAAAkD,GAAA,CAAAC,cAAA,CAAAH,MAAA,CAAAE,GAAA,GAAE,CAA/B,GAAM,CAAAlD,OAAO,CAAAmD,cAAA,CAAAD,GAAA,EAAoBlD,OAAO,CAACoD,MAAM,CAAC/B,KAAK,CAACrB,OAAO,CAAC,CAAE,CAAE;AAC/G,IAAI,CAACqD,aAAa,CAAC,IAAI,CAAC;AACxB,IAAI,CAACC,SAAS,CAAC,CAAC;AAChB,IAAI,CAACC,mBAAmB,CAAC,CAAC;AAC3B,CAAC,CAAApC,MAAA;AACDqC,KAAK,CAAL,SAAAA,KAAKA,CAAA,CAAG,KAAAC,MAAA;AACP,IAAI,CAACrB,aAAa,CAAC,CAAC;AACpB,IAAI,CAACsB,SAAS,CAAC,CAAC;AAChB,GAAI,CAAC,IAAI,CAAChI,MAAM,CAACiI,OAAO,CAAE;AACzB,IAAI,CAAChI,MAAM,CAAC+F,MAAM,CAAC,qPAAqP,CAAC;AACzQ,IAAI,CAAC/F,MAAM,CAACuG,IAAI,CAAC,wCAAwC,CAAC,CAAC0B,KAAK,CAAC,UAAM;AACtEH,MAAI,CAACI,OAAO,CAAC,IAAI,CAAC;AAClBJ,MAAI,CAAC/H,MAAM,CAACoI,IAAI,CAAC,CAAC;AACnB,CAAC,CAAC;AACH;AACA,IAAI,CAACnI,MAAM,CAACuG,IAAI,CAAC,kCAAkC,CAAC,CAAC0B,KAAK,CAAC,iBAAM,CAAAH,MAAI,CAAC/H,MAAM,CAACoI,IAAI,CAAC,CAAC,GAAC;AACrF,CAAC,CAAA3C,MAAA;AACD4C,MAAM,CAAN,SAAAA,MAAMA,CAAA,CAAG;AACR,IAAI,CAACpI,MAAM,CAACuG,IAAI,CAAC,gBAAgB,CAAC,CAACC,MAAM,CAAC,CAAC;AAC3C,IAAI,CAACuB,SAAS,CAAC,CAAC;AACjB,CAAC,CAAAvC,MAAA;AACD0C,OAAO,CAAP,SAAAA,OAAOA,CAACG,KAAc,CAAE,CAAEC,WAAW,CAACJ,OAAO,CAACG,KAAK,CAAC,CAAE,CAAC,CAAA7C,MAAA;AACvD+C,IAAI,CAAJ,SAAAA,IAAIA,CAACC,IAAY,CAAE;AAClB,GAAI,CAAC,IAAI,CAACrI,SAAS,CAAE;AACrB,IAAI,CAACuC,UAAU,EAAI8F,IAAI;AACxB,CAAC,CAAAhD,MAAA;;AAEDiD,SAAS,CAAT,SAAAA,SAASA,CAAChB,MAAqB,CAAE,CAAE,GAAIA,MAAM,CAACiB,GAAG,CAAE,IAAI,CAACzH,QAAQ,CAAC,CAACwG,MAAM,CAACkB,aAAa,CAAC,CAAC5C,MAAM,CAAC0B,MAAM,CAACiB,GAAG,CAAC,CAAE,CAAC,CAAAlD,MAAA;AAC7GoD,UAAU,CAAV,SAAAA,UAAUA;AACTC,MAA2B,CAAEC,KAAe,CAAEC,GAAa;AAC3DC,UAAkB,CAAEC,KAAc,CAAEC,aAAkC;AACrE;AACD,GAAI,MAAO,CAAAL,MAAM,GAAK,QAAQ,CAAEA,MAAM,CAAGM,aAAa,CAACN,MAAM,CAAC;AAC9D,GAAI,CAAAO,OAAO,CAAGtG,CAAC,eAAc+F,MAAM,CAACQ,GAAG,kDAA+C,CAAC;AACvF,IAAI,CAACjI,GAAG,CAAC2E,MAAM,CAACqD,OAAO,CAAC;AACxB,GAAIF,aAAa,CAAEE,OAAO,CAAC1C,GAAG,CAACwC,aAAa,CAAC;AAC7CE,OAAO,CAAG,IAAI,CAAChI,GAAG,CAACkI,QAAQ,CAAC,CAAC,CAACC,IAAI,CAAC,CAAC;AACpC,MAAO,KAAI,CAACC,aAAa,CAACJ,OAAO,CAAEP,MAAM,CAAEC,KAAK,CAAEC,GAAG,CAAEC,UAAU,CAAEC,KAAK,CAAC;AAC1E,CAAC,CAAAzD,MAAA;AACDgE,aAAa,CAAb,SAAAA,aAAaA;AACZJ,OAAe,CAAEP,MAA2B,CAAEC,KAAe,CAAEC,GAAa;AAC5EC,UAAkB,CAAEC,KAAc,CAAEC,aAAkC;AACrE;AACD,GAAI,MAAO,CAAAL,MAAM,GAAK,QAAQ,CAAEA,MAAM,CAAGM,aAAa,CAACN,MAAM,CAAC;AAC9D,GAAI,CAACC,KAAK,CAACN,IAAI,CAAEM,KAAK,CAACN,IAAI,CAAG,CAAC;AAC/B,GAAI,CAACO,GAAG,CAACP,IAAI,CAAEO,GAAG,CAACP,IAAI,CAAGM,KAAK,CAACN,IAAI,CAAG,GAAG;AAC1CM,KAAK,CAACN,IAAI,EAAI,IAAI,CAAC9F,UAAU;AAC7BqG,GAAG,CAACP,IAAI,EAAI,IAAI,CAAC9F,UAAU;AAC3B,GAAI,CAACqG,GAAG,CAACU,KAAK,EAAIV,GAAG,CAACU,KAAK,GAAK,CAAC,EAAIX,KAAK,CAACW,KAAK,CAAEV,GAAG,CAACU,KAAK,CAAGX,KAAK,CAACW,KAAK;AACzE,GAAI,CAACV,GAAG,CAACW,MAAM,EAAIX,GAAG,CAACW,MAAM,GAAK,CAAC,EAAIZ,KAAK,CAACY,MAAM,CAAEX,GAAG,CAACW,MAAM,CAAGZ,KAAK,CAACY,MAAM;AAC9E,GAAI,CAACX,GAAG,CAACY,MAAM,EAAIZ,GAAG,CAACY,MAAM,GAAK,CAAC,EAAIb,KAAK,CAACa,MAAM,CAAEZ,GAAG,CAACY,MAAM,CAAGb,KAAK,CAACa,MAAM;AAC9EZ,GAAG,CAAAa,MAAA,CAAAC,MAAA,IAAQf,KAAK,CAAKC,GAAG,CAAE;AAC1B,GAAI,CAAAe,QAAQ,CAAG,IAAI,CAACC,GAAG,CAACjB,KAAK,CAAED,MAAM,CAAC;AACtC,GAAI,CAAAmB,MAAM,CAAG,IAAI,CAACC,IAAI,CAAClB,GAAG,CAAEF,MAAM,CAAEG,UAAU,CAAEF,KAAK,CAAC;AACtD,GAAIA,KAAK,CAACN,IAAI,CAAE;AACfY,OAAO,CAAC1C,GAAG,CAAAkD,MAAA,CAAAC,MAAA,IAAMC,QAAQ,EAAEnD,OAAO,CAAE,CAAC,EAAE,CAAC;AACxCyC,OAAO,CAACc,KAAK,CAACpB,KAAK,CAACN,IAAI,CAAC,CAAC2B,OAAO,CAAC,CAAExD,OAAO,CAAEmD,QAAQ,CAACnD,OAAS,CAAC,CAAE,CAAC,CAAC;AACrE,CAAC,IAAM,IAAIyC,OAAO,CAACgB,KAAK,CAAC,CAAC,CAAC/C,MAAM,CAAE,CAAE+B,OAAO,CAACe,OAAO,CAACL,QAAQ,CAAE,CAAC,CAAC,CAAE,CAAC;AAC/D,CAAEV,OAAO,CAAC1C,GAAG,CAACoD,QAAQ,CAAC,CAAE;AAC9BV,OAAO,CAACe,OAAO,CAACH,MAAM,CAAEjB,GAAG,CAACP,IAAI,CAAIM,KAAK,CAACN,IAAI,CAAC;AAC/C,GAAIS,KAAK,GAAK,MAAM,CAAE,CAAEG,OAAO,CAACe,OAAO,CAAC,CAAExD,OAAO,CAAE,CAAG,CAAC,CAAE,GAAG,CAAC,CAAE;AAC/D,GAAIsC,KAAK,GAAK,SAAS,CAAE;AACxB,GAAIF,GAAG,CAACU,KAAK,CAAEV,GAAG,CAACU,KAAK,EAAI,CAAC;AAC7B,GAAIV,GAAG,CAACW,MAAM,CAAEX,GAAG,CAACW,MAAM,EAAI,CAAC;AAC/B,GAAIX,GAAG,CAACY,MAAM,CAAEZ,GAAG,CAACY,MAAM,EAAI,CAAC;AAC/BZ,GAAG,CAACpC,OAAO,CAAG,CAAC;AACf,GAAI,CAAA0D,SAAS,CAAG,IAAI,CAACN,GAAG,CAAChB,GAAG,CAAEF,MAAM,CAAC;AACrCO,OAAO,CAACe,OAAO,CAACE,SAAS,CAAE,GAAG,CAAC;AAChC;AACA,IAAI,CAACC,OAAO,CAAClB,OAAO,CAAC;AACrB,MAAO,CAAAA,OAAO;AACf,CAAC,CAAA5D,MAAA;AACD+E,gBAAgB,CAAhB,SAAAA,gBAAgBA,CAACC,EAAU,CAAEC,QAAgB,CAA0B,IAAxB,CAAA9D,OAAO,CAAAlD,SAAA,CAAA4D,MAAA,IAAA5D,SAAA,MAAAiH,SAAA,CAAAjH,SAAA,IAAG,CAAC,IAAE,CAAAyG,KAAK,CAAAzG,SAAA,CAAA4D,MAAA,IAAA5D,SAAA,MAAAiH,SAAA,CAAAjH,SAAA,IAAG,CAAC;AACpE,GAAI,CAAA2F,OAAO,CAAGtG,CAAC,CAAC,gCAAgC,CAAC;AACjDsG,OAAO,CAAC1C,GAAG,CAAC;AACXiE,UAAU,CAAEH,EAAE;AACdI,OAAO,CAAE,OAAO;AAChBjE,OAAO,CAAE;AACV,CAAC,CAAC;AACF,IAAI,CAAC7F,SAAS,CAACiF,MAAM,CAACqD,OAAO,CAAC;AAC9BA,OAAO,CAACc,KAAK,CAACA,KAAK,CAAC,CAACC,OAAO,CAAC,CAAExD,OAAO,CAAPA,OAAS,CAAC;AACzC,GAAG,CAAC,CAACuD,KAAK,CAACO,QAAQ,CAAG,GAAG,CAAC;AAC1BrB,OAAO,CAACe,OAAO,CAAC,CAAExD,OAAO,CAAE,CAAG,CAAC,CAAE,GAAG,CAAC;AACtC,CAAC,CAAAnB,MAAA;;AAEDuE,GAAG,CAAH,SAAAA,GAAGA,CAACc,GAAa,CAAEC,GAAe,CAAE;AACnCD,GAAG,CAAAjB,MAAA,CAAAC,MAAA;AACFkB,CAAC,CAAE,CAAC;AACJC,CAAC,CAAE,CAAC;AACJC,CAAC,CAAE,CAAC;AACJxB,KAAK,CAAE,CAAC;AACR9C,OAAO,CAAE,CAAC;AACPkE,GAAG,CACN;;AACD,GAAI,CAACA,GAAG,CAACnB,MAAM,EAAImB,GAAG,CAACnB,MAAM,GAAK,CAAC,CAAEmB,GAAG,CAACnB,MAAM,CAAGmB,GAAG,CAACpB,KAAK;AAC3D,GAAI,CAACoB,GAAG,CAAClB,MAAM,EAAIkB,GAAG,CAAClB,MAAM,GAAK,CAAC,CAAEkB,GAAG,CAAClB,MAAM,CAAGkB,GAAG,CAACpB,KAAK;AAC3D,GAAI,CAAAyB,IAAI,CAAG,GAAG;AACd,GAAI,CAAAC,GAAG,CAAG,GAAG;AACb,GAAI,CAAA1B,KAAK,CAAIqB,GAAG,CAACzK,GAAG,GAAK,CAAC;AACzB,GAAG,CAAKwK,GAAG,CAACI,CAAC,CAAK,GAAI;AACtB,GAAG,CAAG,GAAG,EAAKJ,GAAG,CAACI,CAAC,CAAK,GAAG,CAAE;AAC9B,GAAIxB,KAAK,CAAG,GAAG,CAAEA,KAAK,CAAG,GAAG;AAC5ByB,IAAI,EAAI,CAAC,GAAG,CAAG,GAAG,GAAML,GAAG,CAACI,CAAC,CAAK,GAAG,CAAC;AACtCE,GAAG,EAAI,CAAC,GAAG,CAAG,GAAG,GAAMN,GAAG,CAACI,CAAC,CAAK,GAAG,CAAC;AACrCC,IAAI,EAAIhG,IAAI,CAACC,KAAK,CAAC0F,GAAG,CAACE,CAAC,CAAItB,KAAK,CAAC;AAClC0B,GAAG,EAAIjG,IAAI,CAACC,KAAK,CAAC0F,GAAG,CAACG,CAAC,CAAIvB,KAA+B,CAAC;AAC3D,GAAI,CAAA2B,KAAK,CAAGlG,IAAI,CAACC,KAAK,CAAC2F,GAAG,CAACO,CAAC,CAAG5B,KAAK,CAAGoB,GAAG,CAACnB,MAAO,CAAC;AACnD,GAAI,CAAA9C,MAAM,CAAG1B,IAAI,CAACC,KAAK,CAAC2F,GAAG,CAACQ,CAAC,CAAG7B,KAAK,CAAGoB,GAAG,CAAClB,MAAO,CAAC;AACpD,GAAI,CAAA4B,OAAO,CAAGrG,IAAI,CAACC,KAAK,CAAC,CAAC2F,GAAG,CAACQ,CAAC,CAAG,CAACR,GAAG,CAACE,CAAC,EAAI,CAAC,EAAI,CAAC,EAAIvB,KAAK,CAAGoB,GAAG,CAAClB,MAAO,CAAC;AAC1EuB,IAAI,EAAIhG,IAAI,CAACC,KAAK,CAACiG,KAAK,CAAG,CAAC,CAAC;AAC7BD,GAAG,EAAIjG,IAAI,CAACC,KAAK,CAACoG,OAAO,CAAG,CAAC,CAAC;AAC9B,GAAI,CAAAxB,GAAuB,CAAG;AAC7BmB,IAAI,CAAJA,IAAI;AACJC,GAAG,CAAHA,GAAG;AACHC,KAAK,CAALA,KAAK;AACLxE,MAAM,CAANA,MAAM;AACND,OAAO,CAAEkE,GAAG,CAAClE;AACd,CAAC;AACD,GAAIkE,GAAG,CAACD,OAAO,CAAEb,GAAG,CAACa,OAAO,CAAGC,GAAG,CAACD,OAAO;AAC1C,MAAO,CAAAb,GAAG;AACX,CAAC,CAAAvE,MAAA;;AAEDyE,IAAI,CAAJ,SAAAA,IAAIA,CAACY,GAAa,CAAEC,GAAe,CAAE9B,UAAmB,CAAEwC,MAAiB,CAAsB;AAChG,GAAM,CAAAzB,GAAG,CAAG,IAAI,CAACA,GAAG,CAACc,GAAG,CAAEC,GAAG,CAAC;AAC9B,GAAM,CAAAW,MAAM,CAAID,MAAM,CAAG,IAAI,CAACzB,GAAG,CAACyB,MAAM,CAAEV,GAAG,CAAC,CAAG,IAAK;AACtD,GAAI,CAAAY,aAAa,CAAG,CAAER,IAAI,CAAE,QAAQ,CAAEC,GAAG,CAAE,QAAQ,CAAEC,KAAK,CAAE,QAAQ,CAAExE,MAAM,CAAE,QAAQ,CAAED,OAAO,CAAE,QAAU,CAAC;AAC5G,GAAIqC,UAAU,GAAK,WAAW,CAAE,CAAE0C,aAAa,CAACP,GAAG,CAAIpB,GAAG,CAACoB,GAAG,CAAGM,MAAM,CAAEN,GAAG,CAAG,aAAa,CAAG,eAAgB,CAAE;AACjH,GAAInC,UAAU,GAAK,gBAAgB,CAAE,CAAE0C,aAAa,CAACP,GAAG,CAAIpB,GAAG,CAACoB,GAAG,CAAGM,MAAM,CAAEN,GAAG,CAAG,eAAe,CAAG,aAAc,CAAE;AACtH,GAAInC,UAAU,GAAK,YAAY,CAAE,CAAE0C,aAAa,CAACP,GAAG,CAAIpB,GAAG,CAACoB,GAAG,CAAGM,MAAM,CAAEN,GAAG,CAAG,QAAQ,CAAG,UAAW,CAAE;AACxG,GAAInC,UAAU,GAAK,gBAAgB,CAAE,CAAE0C,aAAa,CAACP,GAAG,CAAIN,GAAG,CAACI,CAAC,CAAI,CAAC,CAAG,QAAQ,CAAG,UAAW,CAAE;AACjG,GAAIjC,UAAU,GAAK,iBAAiB,CAAE,CAAE0C,aAAa,CAACP,GAAG,CAAIpB,GAAG,CAACoB,GAAG,CAAGM,MAAM,CAAEN,GAAG,CAAG,UAAU,CAAG,QAAS,CAAE;AAC7G,GAAInC,UAAU,GAAK,OAAO,CAAE;AAC3B0C,aAAa,CAACR,IAAI,CAAG,OAAO;AAC5BQ,aAAa,CAACP,GAAG,CAAG,OAAO;AAC3BO,aAAa,CAACN,KAAK,CAAG,OAAO;AAC7BM,aAAa,CAAC9E,MAAM,CAAG,OAAO;AAC/B;AACA,GAAIoC,UAAU,GAAK,OAAO,CAAE;AAC3B0C,aAAa,CAACR,IAAI,CAAG,UAAU;AAC/BQ,aAAa,CAACP,GAAG,CAAG,UAAU;AAC9BO,aAAa,CAACN,KAAK,CAAG,UAAU;AAChCM,aAAa,CAAC9E,MAAM,CAAG,UAAU;AAClC;AACA,GAAIoC,UAAU,GAAK,OAAO,CAAE;AAC3B0C,aAAa,CAACR,IAAI,CAAG,QAAQ;AAC7BQ,aAAa,CAACP,GAAG,CAAG,QAAQ;AAC5BO,aAAa,CAACN,KAAK,CAAG,QAAQ;AAC9BM,aAAa,CAAC9E,MAAM,CAAG,QAAQ;AAChC;AACA,MAAO;AACNsE,IAAI,CAAE,CAACnB,GAAG,CAACmB,IAAI,CAAEQ,aAAa,CAACR,IAAI,CAAC;AACpCC,GAAG,CAAE,CAACpB,GAAG,CAACoB,GAAG,CAAEO,aAAa,CAACP,GAAG,CAAC;AACjCC,KAAK,CAAE,CAACrB,GAAG,CAACqB,KAAK,CAAEM,aAAa,CAACN,KAAK,CAAC;AACvCxE,MAAM,CAAE,CAACmD,GAAG,CAACnD,MAAM,CAAE8E,aAAa,CAAC9E,MAAM,CAAC;AAC1CD,OAAO,CAAE,CAACoD,GAAG,CAACpD,OAAO,CAAE+E,aAAa,CAAC/E,OAAO;AAC7C,CAAC;AACF,CAAC,CAAAnB,MAAA;AACD8E,OAAO,CAAP,SAAAA,OAAOA,CAAC1E,IAAY,CAAE,CAAE,IAAI,CAAC/C,gBAAgB,CAAG,IAAI,CAACA,gBAAgB,CAACQ,GAAG,CAACuC,IAAI,CAAC,CAAE,CAAC,CAAAJ,MAAA;AAClFmG,eAAe,CAAf,SAAAA,eAAeA,CAAA,CAAG;AACjB,IAAI,CAACvK,GAAG,CAAC0E,KAAK,CAAC,CAAC;AAChB,IAAI,CAACjD,gBAAgB,CAAGC,CAAC,CAAC,CAAC;AAC3B,IAAI,CAACJ,UAAU,CAAG,CAAC;AACnB,IAAI,CAACE,QAAQ,CAAG,CAAC;AAClB,CAAC,CAAA4C,MAAA;AACDoG,gBAAgB,CAAhB,SAAAA,gBAAgBA,CAAA,CAAG;AAClB,GAAI,IAAI,CAAChJ,QAAQ,EAAI,IAAI,CAACF,UAAU,CAAE;AACrC,IAAI,CAAChB,MAAM,CAACwI,KAAK,CAAChF,IAAI,CAAC2G,GAAG,CAAC,IAAI,CAACjJ,QAAQ,CAAE,IAAI,CAACF,UAAU,CAAC,CAAC;AAC3D,IAAI,CAACG,gBAAgB,CAAG,IAAI,CAACA,gBAAgB,CAACQ,GAAG,CAAC,IAAI,CAAC3B,MAAM,CAAC;AAC/D;AACA,GAAI,CAAC,IAAI,CAACmB,gBAAgB,CAACwE,MAAM,CAAE,MAAO,CAAAqD,SAAS;AACnD,MAAO,KAAI,CAAC7H,gBAAgB,CAACiJ,OAAO,CAAC,CAAC;AACvC,CAAC,CAAAtG,MAAA;;AAEDuG,cAAc,CAAd,SAAAA,cAAcA,CAAA,CAAG,CAAE,IAAI,CAACpL,GAAG,CAACoL,cAAc,CAAC,CAAC,CAAE,CAAC,CAAAvG,MAAA;AAC/CwG,OAAO,CAAP,SAAAA,OAAOA,CAACA,QAAe,CAAE,KAAAC,MAAA;AACxB,GAAI,CAAC,IAAI,CAAC5J,cAAc,CAAE;AACzB,IAAI,CAAC1B,GAAG,CAACuL,SAAS,CAAC,CAAC;AACpB,GAAI,IAAI,CAAC/L,SAAS,CAAE;AACnB,IAAI,CAACsB,WAAW,CAACqE,KAAK,CAAC,CAAC;AACxB,IAAI,CAACrE,WAAW,CAACiF,GAAG,CAAC;AACpBkE,OAAO,CAAE,OAAO;AAChBjE,OAAO,CAAE,CAAC;AACVC,MAAM,CAAE;AACT,CAAC,CAAC;AACF,IAAI,CAACnF,WAAW,CAAC0I,OAAO,CAAC,CAAExD,OAAO,CAAE,CAAG,CAAC;AACxC,IAAI,CAAC5G,MAAM,CAACoM,eAAe,CAAG,IAAI,CAAC/L,YAAY,CAAC;AACjD;AACD;AACA,GAAI,IAAI,CAACL,MAAM,CAACqM,YAAY,EAAIJ,QAAO,CAACxH,UAAU,CAAC,UAAU,CAAC,CAAE,CAAEwH,QAAO,CAAG,EAAE,CAAE;AAChF,GAAIA,QAAO,EAAI,IAAI,CAAC7L,SAAS,CAAE;AAC9B,IAAI,CAACwB,cAAc,CAACoE,MAAM,CAAC,SAAS,CAAC;AACrC,GAAI,CAAAsG,QAAQ,CAAG,IAAI,CAAC1K,cAAc,CAAC2H,QAAQ,CAAC,CAAC,CAACC,IAAI,CAAC,CAAC;AACpD8C,QAAQ,CAACC,IAAI,CAACN,QAAO,CAAC;AACtBK,QAAQ,CAAC3F,GAAG,CAAC;AACZkE,OAAO,CAAE,OAAO;AAChBjE,OAAO,CAAE;AACV,CAAC,CAAC;AACF0F,QAAQ,CAAClC,OAAO,CAAC,CAAEvD,MAAM,CAAE,MAAQ,CAAC;AACpC,CAAC,CAAE,UAAM;AACRyF,QAAQ,CAACE,QAAQ,CAACN,MAAI,CAACxK,WAAW,CAAC;AACnC4K,QAAQ,CAAClC,OAAO,CAAC;AAChBvD,MAAM,CAAE,MAAM;AACd,gBAAgB,CAAE,CAAC;AACnBD,OAAO,CAAE;AACV,CAAC,CAAEsF,MAAI,CAAClM,MAAM,CAACoM,eAAe,CAAGF,MAAI,CAAC7L,YAAY,CAAC;AACpD,CAAC,CAAC;AACF,IAAI,CAACkK,OAAO,CAAC+B,QAAQ,CAAC;AACvB;AACA,IAAI,CAAChK,cAAc,CAAG,IAAI;AAC3B,CAAC,CAAAmD,MAAA;AACDgH,oBAAoB,CAApB,SAAAA,oBAAoBA,CAACC,IAAU,CAAEC,MAAc,CAAE;AAChD,GAAI,IAAI,CAAC/L,GAAG,CAACqD,YAAY,CAAE2I,YAAY,CAACF,IAAI,CAAEC,MAAM,CAAC,CAAE;AACtD,GAAI,CAAC,IAAI,CAACrK,cAAc,CAAE,MAAO,MAAK;AACtC,IAAI,CAACuK,eAAe,CAAC,CAAC;AACtB,MAAO,KAAI;AACZ;AACA,MAAO,MAAK;AACb,CAAC,CAAApH,MAAA;AACDoH,eAAe,CAAf,SAAAA,eAAeA,CAAA,CAAG;AACjB,GAAI,IAAI,CAACvK,cAAc,CAAE;AACxB,IAAI,CAACA,cAAc,CAAG,KAAK;AAC3B,GAAI,IAAI,CAAClC,SAAS,CAAE;AACnB,IAAI,CAACsB,WAAW,CAACyI,KAAK,CAAC,IAAI,CAACnK,MAAM,CAAC8M,gBAAgB,CAAG,IAAI,CAACzM,YAAY,CAAC,CAAC+J,OAAO,CAAC,CAAExD,OAAO,CAAE,CAAG,CAAC;AAChG,IAAI,CAAC5G,MAAM,CAACoM,eAAe,CAAG,IAAI,CAAC/L,YAAY,CAAC;AAChD,IAAI,CAACkK,OAAO,CAAC,IAAI,CAAC7I,WAAW,CAAC;AAC/B;AACA,MAAO,KAAI;AACZ;AACA,MAAO,MAAK;AACb,CAAC,CAAA+D,MAAA;;AAEDsH,WAAW,CAAX,SAAAA,WAAWA,CAACC,MAAU,CAAEC,YAAuB,CAAE;AAChD,GAAI,CAAC,IAAI,CAAC7M,SAAS,CAAE;AACrB,GAAI,CAAA8M,SAAS,CAAGC,eAAe,CAACH,MAAM,CAAC;AACvC,GAAI,IAAI,CAAC3M,YAAY,EAAI,CAAC,CAAE;AAC3B,GAAM,CAAA+M,WAAW,CAAG,CAACH,YAAY,CAAC,CAAC,CAAC,EAAIA,YAAY,CAAC,CAAC,CAAC,GAAKA,YAAY,CAAC,CAAC,CAAC;AAC3E,GAAM,CAAAI,SAAS,CAAG,CAACD,WAAW,EAAI,IAAI,CAACpN,MAAM,CAACsN,GAAG,CAACC,KAAK,CAACC,GAAG,CAACR,MAAM,CAAC,CAACS,QAAQ,GAAK,SAAS;AAC1FP,SAAS,CAAGQ,gBAAgB,CAACN,WAAW,CAAG,cAAc,CAAGC,SAAS,CAAG,iBAAiB,CAAG,gBAAgB,CAAC;AAC9G,CAAC,IAAM,IAAI,CAACH,SAAS,CAAE,CAAEA,SAAS,CAAGC,eAAe,CAAC,QAAQ,CAAC,CAAE;AAChED,SAAS,CAACS,IAAI,CAAC,IAAI,CAAEV,YAAY,CAACW,GAAG,CAAC,SAAAC,CAAC,QAAI,CAAAA,CAAC,CAACnG,MAAM,GAAC,CAAC;AACtD,CAAC,CAAAjC,MAAA;AACDqI,YAAY,CAAZ,SAAAA,YAAYA,CAACd,MAAU,CAAEC,YAAuB,CAAE;AACjD,GAAI,CAAC,IAAI,CAAC7M,SAAS,CAAE;AACrBsN,gBAAgB,CAACV,MAAM,CAAC,CAACW,IAAI,CAAC,IAAI,CAAEV,YAAY,CAACW,GAAG,CAAC,SAAAC,CAAC,QAAI,CAAAA,CAAC,CAACnG,MAAM,GAAC,CAAC;AACrE,CAAC,CAAAjC,MAAA;AACDsI,aAAa,CAAb,SAAAA,aAAaA,CAACf,MAAU,CAAEC,YAAuB,CAAE;AAClD,GAAI,CAAC,IAAI,CAAC7M,SAAS,CAAE;AACrB4N,iBAAiB,CAAChB,MAAM,CAAC,CAACW,IAAI,CAAC,IAAI,CAAEV,YAAY,CAACW,GAAG,CAAC,SAAAC,CAAC,QAAI,CAAAA,CAAC,CAACnG,MAAM,GAAC,CAAC;AACtE,CAAC,CAAAjC,MAAA;AACDwI,eAAe,CAAf,SAAAA,eAAeA,CAACjB,MAAU,CAAE1I,OAAgB,CAAE;AAC7C,GAAI,CAAC,IAAI,CAAClE,SAAS,CAAE;AACrB+M,eAAe,CAACH,MAAM,CAAC,CAACkB,YAAY,CAAE,IAAI,CAAE,CAAC5J,OAAO,CAACoD,MAAM,CAAC,CAAC;AAC9D,CAAC,CAAAjC,MAAA;AACD0I,cAAc,CAAd,SAAAA,cAAcA,CAACnB,MAAU,CAAEoB,QAAiB,CAAEC,QAAiB,CAAE;AAChE,GAAI,CAAC,IAAI,CAACjO,SAAS,EAAI,IAAI,CAACC,YAAY,EAAI,CAAC,CAAE;AAC/C,GAAM,CAAAiO,QAAQ,CAAGnB,eAAe,CAACH,MAAM,CAAC;AACxC,GAAI,CAACsB,QAAQ,CAACC,WAAW,CAAE;AAC3BD,QAAQ,CAACC,WAAW,CAAC,IAAI,CAAE,CAACH,QAAQ,CAAC1G,MAAM,CAAE2G,QAAQ,CAAC3G,MAAM,CAAC,CAAC;AAC/D,CAAC,CAAAjC,MAAA;AACDG,SAAS,CAAT,SAAAA,SAASA,CAAA,CAAG,KAAA4I,qBAAA;AACX,GAAI,CAAAlO,GAAG,CAAG,IAAI,CAACN,MAAM,CAACM,GAAG;AACzB,GAAI2F,GAAG,CAACwI,KAAK,CAAC,YAAY,CAAC,CAAEnO,GAAG,CAAG,CAAC;AACpC,GAAI2F,GAAG,CAACwI,KAAK,CAAC,OAAO,CAAC,EAAInO,GAAG,CAAG,CAAC,CAAEA,GAAG,CAAG,CAAC;AAC1C,IAAI,CAACA,GAAG,CAAGA,GAAG;AACd,IAAI,CAACE,WAAW,CAAG,EAAAgO,qBAAA,KAAI,CAACxO,MAAM,CAAC0O,QAAQ,eAApBF,qBAAA,CAAsBG,MAAM,CAACrH,MAAM,GAAI,CAAC;AAC3D,GAAM,CAAAsH,KAAK,CAAG,IAAI,CAAC5O,MAAM,CAAC4O,KAAK;AAC/B,GAAI,CAAAnE,EAAU;AACd,GAAI,MAAO,CAAAmE,KAAK,GAAK,QAAQ,EAAIA,KAAK,CAACnK,UAAU,CAAC,uBAAuB,CAAC,CAAE;AAC3E,GAAInE,GAAG,EAAI,CAAC,CAAEmK,EAAE,CAAG,oBAAoB,CAAC;AACnC,GAAInK,GAAG,EAAI,CAAC,CAAEmK,EAAE,CAAG,oBAAoB,CAAC;AACxC,GAAInK,GAAG,EAAI,CAAC,CAAEmK,EAAE,CAAG,oBAAoB,CAAC;AACxC,GAAInK,GAAG,EAAI,CAAC,CAAEmK,EAAE,CAAG,oBAAoB,CAAC;AACxCA,EAAE,CAAG,eAAe;AACzB,IAAI,CAACoE,MAAM,CAAC,CAAC,GAAG,CAAC;AAClB,CAAC,IAAM,IAAI,MAAO,CAAAD,KAAK,GAAK,QAAQ,EAAIA,KAAK,CAACnK,UAAU,CAAC,8BAA8B,CAAC,CAAE;AACzFgG,EAAE,CAAG,eAAe;AACpB,IAAI,CAACoE,MAAM,CAAC,CAAC,GAAG,CAAC;AAClB,CAAC,IAAM,IAAI,MAAO,CAAAD,KAAK,GAAK,QAAQ,EAAIA,KAAK,CAACnK,UAAU,CAAC,yBAAyB,CAAC,CAAE;AACpFgG,EAAE,CAAG,eAAe;AACpB,IAAI,CAACoE,MAAM,CAAC,CAAC,GAAG,CAAC;AAClB,CAAC,IAAM;AACN,GAAIvO,GAAG,EAAI,CAAC,CAAEmK,EAAE,CAAG,iBAAiB,CAAC;AAChC,GAAInK,GAAG,EAAI,CAAC,CAAEmK,EAAE,CAAG,iBAAiB,CAAC;AACrC,GAAInK,GAAG,EAAI,CAAC,CAAEmK,EAAE,OAASqE,oBAAoB,CAAC,IAAI,CAACrO,SAAS,CAAGqO,oBAAoB,CAACxH,MAAM,CAAC,IAAG,CAAC;AAC/F,GAAIhH,GAAG,EAAI,CAAC,CAAEmK,EAAE,OAASsE,mBAAmB,CAAC,IAAI,CAACtO,SAAS,CAAGsO,mBAAmB,CAACzH,MAAM,CAAG,CAAC;AAC5F,GAAIhH,GAAG,EAAI,CAAC,CAAEmK,EAAE,OAASuE,mBAAmB,CAAC,IAAI,CAACvO,SAAS,CAAGuO,mBAAmB,CAAC1H,MAAM,CAAG,CAAC;AAC5FmD,EAAE,oBAAsBwE,eAAe,CAAC,IAAI,CAACxO,SAAS,CAAGwO,eAAe,CAAC3H,MAAM,CAAG;AACxF;AACA,IAAI,CAACnF,aAAa,CAAGsI,EAAE;AACvB,GAAI,IAAI,CAACzJ,GAAG,CAAE,CAAE,IAAI,CAACA,GAAG,CAAC2F,GAAG,CAAC,kBAAkB,QAASV,GAAG,CAACC,cAAc,CAAG,IAAI,CAAC/D,aAAa,IAAG,CAAC,CAAE;AACtG,CAAC,CAAAsD,MAAA;AACDyJ,cAAc,CAAd,SAAAA,cAAcA,CAAC5K,OAAgB,CAAE,KAAA6K,aAAA;AAChC,GAAI,CAAAC,IAAI,CAAG,CAAAD,aAAA,CAAA7K,OAAO,CAACiD,IAAI,SAAZ4H,aAAA,CAAcE,KAAK,GAAK,IAAI,CAACrP,MAAM,CAACqE,cAAc,EAAI,IAAI,CAACrE,MAAM,CAACoE,WAAW,CAAC,CAAGE,OAAO,CAACE,YAAY,CAAGF,OAAO,CAAC8K,IAAI;AAC/H,GAAIA,IAAI,GAAK9K,OAAO,CAACE,YAAY,CAAE,CAAE4K,IAAI,EAAI,IAAI,CAAG9K,OAAO,CAACE,YAAY,CAAG,GAAG,CAAE;AAChF,GAAIF,OAAO,GAAKA,OAAO,CAACiD,IAAI,CAACoH,MAAM,CAAC,CAAC,CAAC,CAAE,CAAES,IAAI,EAAI,WAAW,CAAE,CAAC;AAC3D,GAAI9K,OAAO,CAACgL,OAAO,CAAE,CAAEF,IAAI,EAAI,YAAY,CAAE,CAAC;AAC9C;AACJ,GAAI,CAAAG,UAAU,CAAG,EAAE;AACnB,GAAIjL,OAAO,CAACkL,EAAE,GAAKlL,OAAO,CAACmL,KAAK,CAAE,CAAEF,UAAU,EAAIjL,OAAO,CAACoL,SAAS,CAAC,CAAC,CAAE;AACvE,GAAIpL,OAAO,CAACqL,MAAM,CAAE;AACnB,GAAIJ,UAAU,CAAEA,UAAU,EAAI,GAAG;AACjCA,UAAU,EAAIjL,OAAO,CAACqL,MAAM;AAC7B;AACA,GAAIJ,UAAU,CAAE,CAAEH,IAAI,EAAI,IAAI,CAAGG,UAAU,CAAG,GAAG,CAAE;AACpD;AACA,MAAO,CAAAtM,SAAS,CAAC2M,UAAU,CAACR,IAAI,CAAC;AAClC,CAAC,CAAA3J,MAAA;AACDoK,cAAc,CAAd,SAAAA,cAAcA,CAACtI,IAAU,CAAEuI,IAAa,CAAU;AAClD,GAAI,CAAAvD,IAAI,CAAG,EAAE;;;AAGb,GAAM,CAAAwD,QAAQ,CAAGxI,IAAI,CAACyI,YAAY,EAAIzI,IAAI,CAACjD,OAAO,CAACgD,MAAM;;AAEzD,IAAK,GAAI,CAAA2I,CAAC,CAAG,CAAC,CAAEA,CAAC,CAAGF,QAAQ,CAAEE,CAAC,EAAE,CAAE;AAClC,GAAM,CAAA3L,OAAO,CAAGiD,IAAI,CAACjD,OAAO,CAAC2L,CAAC,CAAC;;;AAG/B,GAAI,CAAC3L,OAAO,CAAE;AACbiI,IAAI,EAAI,4DAAyDtG,GAAG,CAACiK,cAAc,CAAC,UAAU,CAAC,kEACrC;;AAC1D;AACD;;AAEA,GAAM,CAAAP,MAAM,CAAGrL,OAAO,CAACgL,OAAO,CAAG,UAAU,CAAIhL,OAAO,CAACqL,MAAM,CAAG,SAAS,CAAG,EAAG;AAC/E,GAAM,CAAAQ,SAAS,CAAGlK,GAAG,CAACiK,cAAc,CAAC5L,OAAO,CAAC;;AAE7C,GAAI,CAAA8L,YAAY,CAAG,EAAE;AACrB,GAAI9L,OAAO,CAAC+L,IAAI,EAAI/L,OAAO,CAAC+L,IAAI,GAAK,UAAU,CAAE;AAChDD,YAAY,qCAAoCnK,GAAG,CAACqK,WAAW,CAAChM,OAAO,CAAC+L,IAAI,CAAC,aAAW;AACzF,CAAC,IAAM;AACND,YAAY,qDAAqD;AAClE;;AAEA7D,IAAI,6CAA8CoD,MAAM,eAAYQ,SAAS,OAAKC,YAAY,UAAS;AACxG;;AAEA,MAAO,CAAA7D,IAAI;AACZ,CAAC,CAAA9G,MAAA;AACA8K,cAAc,CAAd,SAAAA,cAAcA,CAAChJ,IAAU,CAAEiJ,MAAc,CAAU,KAAAC,iBAAA,CAAAC,kBAAA;AAClD,GAAI,CAAAC,MAAM,CAAG,IAAI,CAAC3Q,MAAM,CAACqM,YAAY,EAAI,IAAI,CAACrM,MAAM,CAACM,GAAG,CAAG,CAAC;;AAE5D,GAAM,CAAAsQ,WAAW,CAAG,EAAAH,iBAAA,KAAI,CAACzQ,MAAM,CAAC6Q,IAAI,eAAhBJ,iBAAA,CAAkBK,WAAW,CAAC,CAAC,CAAC5L,QAAQ,CAAC,iBAAiB,CAAC,KAAAwL,kBAAA,CAAI,IAAI,CAAC1Q,MAAM,CAAC6Q,IAAI,eAAhBH,kBAAA,CAAkBI,WAAW,CAAC,CAAC,CAAC5L,QAAQ,CAAC,KAAK,CAAC;;AAElI,GAAM,CAAA6L,eAAe,CAAGxJ,IAAI,CAACjD,OAAO,CAAC0M,MAAM,CAAC,SAAAnD,CAAC,QAAI,CAAAA,CAAC,CAACoD,KAAK,GAAC;;AAEzD,GAAM,CAAAC,aAAa,CAAGN,WAAW,CAAGG,eAAe,CAAGxJ,IAAI,CAACjD,OAAO;AAClE,GAAI,CAAA6M,cAAc,CAAG,IAAI,CAACnR,MAAM,CAACoR,aAAa,CAAGC,QAAQ,CAAGlM,IAAI,CAAC2G,GAAG,CAACoF,aAAa,CAAC5J,MAAM,CAAGC,IAAI,CAACyI,YAAY,CAAE,CAAC,CAAC;AACjH,GAAM,CAAAsB,YAAgH,CAAG,EAAE;AAC3H,GAAM,CAAAC,YAAsB,CAAG,EAAE;AACjC,GAAI,CAAAC,eAAe,CAAG,KAAK;AAC3B,GAAI,CAAAC,WAAW,CAAG,KAAK;;AAEvB,GAAIN,cAAc,CAAE;AACnB,IAAK,GAAI,CAAAlB,CAAC,CAAG,CAAC,CAAEA,CAAC,CAAGiB,aAAa,CAAC5J,MAAM,CAAE2I,CAAC,EAAE,CAAE;AAC9C,GAAM,CAAAyB,OAAO,CAAGR,aAAa,CAACjB,CAAC,CAAC,CAAC0B,cAAc,CAAC,CAAC,CAACC,WAAW;AAC7D,GAAIT,cAAc,EAAII,YAAY,CAACrM,QAAQ,CAACwM,OAAO,CAAC,CAAE,SAAAG,GAAA,GAAAA,GAAA;AAC3BP,YAAY,CAAAhK,MAAA,CAAAuK,GAAA,GAAE,CAAnC,GAAM,CAAAC,WAAW,CAAIR,YAAY,CAAAO,GAAA,CAAhB,CAAoB,GAAIX,aAAa,CAACY,WAAW,CAAC,CAAC,CAAC,CAAE,CAACH,cAAc,CAAC,CAAC,CAACC,WAAW,GAAKF,OAAO,CAAE,CAAEI,WAAW,CAAC,CAAC,CAAC,CAAG,kBAAkB,CAAE,CAAE;AAChKL,WAAW,CAAG,IAAI;AAClBN,cAAc,EAAE;AACjB,CAAC,IAAM;;AAEN,GAAM,CAAAY,WAAW,CAAGxK,IAAI,CAACjD,OAAO,CAAC0N,OAAO,CAACd,aAAa,CAACjB,CAAC,CAAC,CAAC;AAC1DqB,YAAY,CAACW,IAAI,CAAC,CAAC,SAAS,CAAEF,WAAW,CAAC,CAAC;AAC3CR,YAAY,CAACU,IAAI,CAACP,OAAO,CAAC;AAC1B,GAAI,CAAC,SAAS,CAAE,OAAO,CAAC,CAACxM,QAAQ,CAACwM,OAAO,CAAC,CAAE,CAAEF,eAAe,CAAG,IAAI,CAAE;AACvE;AACD;AACD,CAAC,IAAM,CAAE,IAAK,GAAI,CAAAvB,GAAC,CAAG,CAAC,CAAEA,GAAC,CAAGiB,aAAa,CAAC5J,MAAM,CAAE2I,GAAC,EAAE,CAAE;AACvD,GAAM,CAAA8B,YAAW,CAAGxK,IAAI,CAACjD,OAAO,CAAC0N,OAAO,CAACd,aAAa,CAACjB,GAAC,CAAC,CAAC;AAC1DqB,YAAY,CAACW,IAAI,CAAC,CAAC,SAAS,CAAEF,YAAW,CAAC,CAAC;AAC3C;AACD;AACA,GAAI,CAACP,eAAe,EAAIC,WAAW,EAAIH,YAAY,CAAChK,MAAM,CAAGC,IAAI,CAACyI,YAAY,CAAE,CAAEsB,YAAY,CAACW,IAAI,CAAC,CAAC,gBAAgB,CAAE,IAAI,CAAC,CAAC,CAAE;;;AAG/H,MAAOX,YAAY,CAAChK,MAAM,CAAGC,IAAI,CAACyI,YAAY,CAAE,CAAEsB,YAAY,CAACW,IAAI,CAAC,CAAC,YAAY,CAAE,IAAI,CAAC,CAAC,CAAE;AAC3F,MAAOX,YAAY,CAAChK,MAAM,CAAG,CAAC,CAAE,CAAEgK,YAAY,CAACW,IAAI,CAAC,CAAC,OAAO,CAAE,IAAI,CAAC,CAAC,CAAE;AACtE,GAAI,CAAAC,WAAW,CAAG,EAAE;AACpB,IAAK,GAAI,CAAAjC,GAAC,CAAG,CAAC,CAAEA,GAAC,CAAGqB,YAAY,CAAChK,MAAM,CAAE2I,GAAC,EAAE,CAAE;AAC7C,IAAAkC,gBAAA,CAA8Bb,YAAY,CAACrB,GAAC,CAAC,CAAtCmC,QAAQ,CAAAD,gBAAA,IAAEE,SAAS,CAAAF,gBAAA;AAC1B,GAAM,CAAAG,IAAI,CAAGD,SAAS,GAAK,IAAI,CAAG9K,IAAI,CAACjD,OAAO,CAAC+N,SAAS,CAAC,CAAG,IAAI;AAChE,GAAM,CAAAE,WAAW,wDAAuDhL,IAAI,CAACiL,CAAC,KAAIH,SAAS,EAAID,QAAQ,GAAK,kBAAkB,CAAG,WAAW,CAAG,EAAE,MAAG;AACpJ,GAAIA,QAAQ,GAAK,OAAO,CAAE,CAAEF,WAAW,mCAAkCjM,GAAG,CAACiK,cAAc,CAAC,eAAe,CAAC,aAAW,CAAE,CAAC;AACrH,GAAIS,MAAM,CAAE;AAChB,GAAI2B,IAAI,QAAJA,IAAI,CAAEhD,OAAO,CAAE,CAAE4C,WAAW,UAAYK,WAAW,aAAWtM,GAAG,CAACiK,cAAc,CAAC,kBAAkB,CAAC,oCAAgC,CAAE,CAAC;AACtI,GAAIoC,IAAI,QAAJA,IAAI,CAAE3C,MAAM,CAAE,CAAEuC,WAAW,UAAYK,WAAW,aAAWtM,GAAG,CAACiK,cAAc,CAAC,mBAAmB,CAAC,qCAAiC,CAAE,CAAC;AAC5I,CAAEgC,WAAW,UAAYK,WAAW,aAAWtM,GAAG,CAACiK,cAAc,CAAC,UAAU,CAAC,yCAAqC,CAAE;AAC1H,CAAC,IAAM,IAAIkC,QAAQ,GAAK,gBAAgB,CAAE,CAAEF,WAAW,mCAAkCjM,GAAG,CAACiK,cAAc,CAAC,SAAS,CAAC,wFAAkF,CAAE,CAAC;AACtM,GAAI,CAACoC,IAAI,CAAE,CAAEJ,WAAW,mCAAkCjM,GAAG,CAACiK,cAAc,CAAC,UAAU,CAAC,gEAA0D;AACvJ,CAAC,IAAM,IAAI,CAACoC,IAAI,CAACrB,KAAK,EAAI,IAAI,CAACjR,MAAM,CAACyS,gBAAgB,EAAI,IAAI,CAACzS,MAAM,CAACyS,gBAAgB,CAAGlL,IAAI,CAACjD,OAAO,CAACgD,MAAM,CAAE;;AAE7G,GAAM,CAAAoL,OAAO,CAAG,IAAI,CAACxD,cAAc,CAACoD,IAAI,CAAC;AACzCJ,WAAW,UAAYK,WAAW,aAAWtM,GAAG,CAACiK,cAAc,CAACoC,IAAI,CAAE,CAAC/K,IAAI,CAAC8H,KAAK,CAAC,gCAA6BqD,OAAO,aAAW;AAClI,CAAC,IAAM;AACN,GAAM,CAAAA,QAAO,CAAG,IAAI,CAACxD,cAAc,CAACoD,IAAI,CAAC;AACzCJ,WAAW,UAAYK,WAAW,aAAWtM,GAAG,CAACiK,cAAc,CAACoC,IAAI,CAAE,CAAC/K,IAAI,CAAC8H,KAAK,CAAC,oBAAiBqD,QAAO,aAAW;AACtH;AACA,GAAIzC,GAAC,CAAG,CAAC,GAAK,CAAC,CAAEiC,WAAW,mCAAmC;AAChE;AACAA,WAAW,CAAG,yBAAyB,CAAGA,WAAW,CAAG,QAAQ;AAChE,GAAM,CAAAS,UAAU,CAAGpL,IAAI,CAACqL,MAAM,qBAAsB3P,SAAS,CAAC2M,UAAU,CAACrI,IAAI,CAACqL,MAAM,CAAC,QAAQ;AAC7F,GAAM,CAAAC,KAAK,CAAGtL,IAAI,CAAC6H,IAAI,6BAA+B;AACtD,GAAI,CAAA0D,SAAS,CAAG,EAAE;AAClB,GAAIvL,IAAI,CAACwL,MAAM,CAACzL,MAAM,CAAE;AACvBwL,SAAS,CAAG,uBAAuB,CAAC,QAAAE,IAAA,GAAAC,mBAAA;;AAEZ1L,IAAI,CAACwL,MAAM,CAAClO,KAAK,CAAC,CAAC,CAAE,CAAC,CAAC,CAAAmO,IAAA,CAAAC,mBAAA,CAAA3L,MAAA,CAAA0L,IAAA,GAAE,CAA5C,GAAM,CAAAE,SAAS,CAAAD,mBAAA,CAAAD,IAAA;;AAEnB,IAAAG,gBAAA,CAAgCD,SAAS,CAACE,KAAK,CAAC,GAAG,CAAC,CAA7CC,IAAI,CAAAF,gBAAA,IAAEG,MAAM,CAAAH,gBAAA,IAAET,SAAO,CAAAS,gBAAA;;AAE5B,IAAAI,eAAA,CAAoBb,SAAO,CAACU,KAAK,CAAC,GAAG,CAAC,CAA/BI,SAAS,CAAAD,eAAA;AAChB,GAAM,CAAAE,KAAK,gBAAkBD,SAAS,YAAWF,MAAM,UAAS;;AAEhE,GAAI,CAAAI,UAAU,CAAGJ,MAAM,CAACF,KAAK,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,EAAI,MAAM;AACpD,GAAI,CAAC,CAAC,IAAI,CAAE,cAAc,CAAC,CAAClO,QAAQ,CAACwO,UAAU,CAAC,CAAE,CAAEA,UAAU,CAAG,UAAU,CAAE;AAC7EZ,SAAS,gBAAiB7M,GAAG,CAACC,cAAc,kBAAiBwN,UAAU,KAAIL,IAAI,qFAA4EI,KAAK,QAAM;AACvK;AACAX,SAAS,EAAI,SAAS;AACvB;AACA;AACC,gCAA+BtC,MAAM,MAAIqC,KAAK,aAAY5P,SAAS,CAAC2M,UAAU,CAACrI,IAAI,CAAC6H,IAAI,CAAC;AAC5DuD,UAAU,kCAAgC1M,GAAG,CAAC0N,aAAa,CAACpM,IAAI,CAACqM,MAAM,CAAC,QAAK;AACjGd,SAAS,CAAGZ,WAAW,UAAQ;;AAE1C,CAAC,CAAAzM,MAAA;AACDoO,aAAa,CAAb,SAAAA,aAAaA,CAACtM,IAAU,CAAE;AAC1B,GAAI,IAAI,CAACvH,MAAM,CAAC8T,QAAQ,GAAK,YAAY,CAAE;AAC1C,IAAI,CAACC,iBAAiB,CAAC,CAAC;AACxB,IAAI,CAACC,kBAAkB,CAAC,CAAC;AAC1B,CAAC,IAAM,IAAIzM,IAAI,GAAK,IAAI,CAACvH,MAAM,CAAC0O,QAAQ,EAAInH,IAAI,GAAK,IAAI,CAACvH,MAAM,CAAC0O,QAAQ,CAACuF,IAAI,CAAE;AAC/E,IAAI,CAACF,iBAAiB,CAAC,CAAC;AACzB,CAAC,IAAM;AACN,IAAI,CAACC,kBAAkB,CAAC,CAAC;AAC1B;;;AAGA,IAAI,CAAClQ,aAAa,CAAC,CAAC;AACrB,CAAC,CAAA2B,MAAA;AACAsO,iBAAiB,CAAjB,SAAAA,iBAAiBA,CAAA,CAAG;AACnB,GAAM,CAAAxM,IAAI,CAAG,IAAI,CAACvH,MAAM,CAAC0O,QAAQ;AACjC,GAAInH,IAAI,CAAC0M,IAAI,CAAE;AACd,GAAM,CAAAC,KAAK,CAAG3M,IAAI,CAAC0M,IAAI;AACvB,IAAI,CAAC3S,QAAQ,CAACiL,IAAI,CAAC,IAAI,CAACgE,cAAc,CAAChJ,IAAI,CAAE,OAAO,CAAC,CAAG,IAAI,CAACgJ,cAAc,CAAC2D,KAAK,CAAE,MAAM,CAAC,CAAC;AAC5F,CAAC,IAAM,IAAI,IAAI,CAAClU,MAAM,CAACqH,KAAK,CAACC,MAAM,CAAG,CAAC,CAAE;AACxC,GAAM,CAAA4M,KAAK,CAAG,IAAI,CAAClU,MAAM,CAACqH,KAAK,CAACE,IAAI,CAACiL,CAAC,GAAK,CAAC,CAAG,CAAC,CAAG,CAAC,CAAC;AACrD,IAAI,CAAClR,QAAQ,CAACiL,IAAI,CAAC,IAAI,CAACgE,cAAc,CAAC2D,KAAK,CAAE,OAAO,CAAC,CAAG,IAAI,CAAC3D,cAAc,CAAChJ,IAAI,CAAE,MAAM,CAAC,CAAC;AAC5F,CAAC,IAAM,CAAE,IAAI,CAACjG,QAAQ,CAACiL,IAAI,CAAC,IAAI,CAACgE,cAAc,CAAChJ,IAAI,CAAE,MAAM,CAAC,CAAC,CAAE;AACjE,CAAC,CAAA9B,MAAA;AACDuO,kBAAkB,CAAlB,SAAAA,kBAAkBA,CAAA,CAAG;AACpB,GAAM,CAAAzM,IAAI,CAAG,IAAI,CAACvH,MAAM,CAACmU,OAAO;AAChC,GAAI5M,IAAI,CAAC0M,IAAI,CAAE;AACd,GAAM,CAAAC,KAAK,CAAG3M,IAAI,CAAC0M,IAAI;AACvB,IAAI,CAAC1S,SAAS,CAACgL,IAAI,CAAC,IAAI,CAACgE,cAAc,CAAChJ,IAAI,CAAE,MAAM,CAAC,CAAG,IAAI,CAACgJ,cAAc,CAAC2D,KAAK,CAAE,KAAK,CAAC,CAAC;AAC3F,CAAC,IAAM,IAAI,IAAI,CAAClU,MAAM,CAACqH,KAAK,CAACC,MAAM,CAAG,CAAC,CAAE;AACxC,GAAM,CAAA4M,MAAK,CAAG,IAAI,CAAClU,MAAM,CAACqH,KAAK,CAACE,IAAI,CAACiL,CAAC,GAAK,CAAC,CAAG,CAAC,CAAG,CAAC,CAAC;AACrD,IAAI,CAACjR,SAAS,CAACgL,IAAI,CAAC,IAAI,CAACgE,cAAc,CAAC2D,MAAK,CAAE,MAAM,CAAC,CAAG,IAAI,CAAC3D,cAAc,CAAChJ,IAAI,CAAE,KAAK,CAAC,CAAC;AAC3F,CAAC,IAAM,CAAE,IAAI,CAAChG,SAAS,CAACgL,IAAI,CAAC,IAAI,CAACgE,cAAc,CAAChJ,IAAI,CAAE,KAAK,CAAC,CAAC,CAAE;AACjE,CAAC,CAAA9B,MAAA;AACDyB,cAAc,CAAd,SAAAA,cAAcA,CAAA,CAAG;AAChB,IAAI,CAAC6M,iBAAiB,CAAC,CAAC;AACxB,IAAI,CAACC,kBAAkB,CAAC,CAAC;AACzB,IAAI,CAAClQ,aAAa,CAAC,CAAC;AACrB,CAAC,CAAA2B,MAAA;AACD3B,aAAa,CAAb,SAAAA,aAAaA,CAAA,CAAG;AACf,GAAM,CAAAsQ,MAAM,CAAG,IAAI,CAACpU,MAAM,CAAC0O,QAAQ;AACnC,GAAM,CAAA2F,MAAM,CAAG,IAAI,CAACrU,MAAM,CAACmU,OAAO;AAClC,GAAM,CAAAG,MAAM,CAAG,IAAI,CAACzE,cAAc,CAACuE,MAAM,CAAE,IAAI,CAAC;AAChD,GAAM,CAAAG,MAAM,CAAG,IAAI,CAAC1E,cAAc,CAACwE,MAAM,CAAE,KAAK,CAAC;AACjD,IAAI,CAAC7S,cAAc,CAAC+K,IAAI,CAAE,mCAAiC+H,MAAM,8CAA4CC,MAAM,UAAQ,CAAC;AAC7H,CAAC,CAAA9O,MAAA;AACD+O,cAAc,CAAd,SAAAA,cAAcA,CAAA,CAAG,SAAAC,IAAA,GAAAC,mBAAA;AACE,IAAI,CAAC1U,MAAM,CAACqH,KAAK,CAAAoN,IAAA,CAAAC,mBAAA,CAAApN,MAAA,CAAAmN,IAAA,GAAE,CAAjC,GAAM,CAAAlN,IAAI,CAAAmN,mBAAA,CAAAD,IAAA,UAAAE,IAAA,GAAAC,aAAA;AACOrN,IAAI,CAACoH,MAAM,CAAAgG,IAAA,CAAAC,aAAA,CAAAtN,MAAA,CAAAqN,IAAA,GAAE,CAA7B,GAAM,CAAAhG,MAAM,CAAAiG,aAAA,CAAAD,IAAA;AAChB,GAAIhG,MAAM,CAAEA,MAAM,CAACjH,MAAM,CAACmN,aAAa,CAAClG,MAAM,CAAC;AAChD;AACD;;;AAGA,IAAI,CAAC7K,aAAa,CAAC,CAAC;AACrB,CAAC,CAAA2B,MAAA;AACAa,UAAU,CAAV,SAAAA,UAAUA,CAACwO,SAAmB,CAAE;AAC/B,GAAI,CAACA,SAAS,CAAE,SAAAC,IAAA,GAAAC,eAAA,CAAkC,IAAI,CAAC9T,QAAQ,CAAA6T,IAAA,CAAAC,eAAA,CAAA1N,MAAA,CAAAyN,IAAA,GAAE,CAA1C,GAAM,CAAAE,iBAAiB,CAAAD,eAAA,CAAAD,IAAA,EAAqBE,iBAAiB,CAAClP,KAAK,CAAC,CAAC,CAAE,CAAC,CAAC,QAAAmP,IAAA,GAAAC,mBAAA;AAC7E,IAAI,CAACnV,MAAM,CAACqH,KAAK,CAAA6N,IAAA,CAAAC,mBAAA,CAAA7N,MAAA,CAAA4N,IAAA,GAAE,KAAAE,mBAAA,CAAjC,GAAM,CAAA7N,IAAI,CAAA4N,mBAAA,CAAAD,IAAA;AACd3N,IAAI,CAAC2D,CAAC,CAAI3D,IAAI,CAAC8H,KAAK,CAAG,GAAG,CAAG,CAAE;AAC/B,CAAA+F,mBAAA,CAAA7N,IAAI,CAAC8N,aAAa,UAAAD,mBAAA,CAAlBA,mBAAA,CAAoB1N,MAAM,SAA1B0N,mBAAA,CAA4BE,OAAO,CAAC,CAAC;AACrC/N,IAAI,CAAC8N,aAAa,CAAG;AACpB3N,MAAM,CAAE,GAAI,CAAA6N,aAAa,CAAC,IAAI,CAAE;AAC/BvK,CAAC,CAAEzD,IAAI,CAACiO,MAAM,CAAC,IAAI,CAACxV,MAAM,CAAC8T,QAAQ,GAAK,YAAY,CAAG,CAAC,EAAE,CAAG,CAAC,GAAG,CAAC;AAClE7I,CAAC,CAAE1D,IAAI,CAAC0D,CAAC;AACTC,CAAC,CAAE3D,IAAI,CAAC2D,CAAC;AACTtE,OAAO,CAAE;AACV,CAAC,CAAE,IAAI,CAAEW,IAAI,CAAC8H,KAAK;AACpB,CAAQ;AACR9H,IAAI,CAAC8N,aAAa,CAAC3N,MAAM,CAAC+N,eAAe,CAAG,IAAI;AACjD;AACA,GAAI,IAAI,CAACzV,MAAM,CAACqH,KAAK,CAACC,MAAM,CAAG,CAAC,EAAI,IAAI,CAACvF,cAAc,CAACuF,MAAM,GAAK,CAAC,CAAE,CAAE,IAAI,CAACvF,cAAc,CAACkQ,IAAI,CAAC,CAAC,CAAC,CAAE,CAAC,CAAC,CAAC,CAAE;AAC1G,IAAI,CAACyD,eAAe,CAAC,CAAC;AACvB,CAAC,CAAAjQ,MAAA;AACDiQ,eAAe,CAAf,SAAAA,eAAeA,CAAA,CAAG;AACjB,GAAI,CAAAC,UAAU,CAAG,EAAE;AACnB,GAAM,CAAA7T,QAAQ,CAAG,IAAI,CAAC9B,MAAM,CAAC8T,QAAQ,GAAK,YAAY,CAAG;;AAExD8B,GAAG,CAAE,CAAExK,GAAG,CAAE,EAAE,CAAED,IAAI,CAAE,GAAG,CAAEE,KAAK,CAAE,EAAE,CAAExE,MAAM,CAAE,GAAG,CAAEgP,OAAO,CAAE,mBAAoB,CAAC;AACjFC,GAAG,CAAE,CAAE1K,GAAG,CAAE,EAAE,CAAED,IAAI,CAAE,GAAG,CAAEE,KAAK,CAAE,GAAG,CAAExE,MAAM,CAAE,GAAG,CAAEgP,OAAO,CAAE,mBAAoB,CAAC;AAClFE,GAAG,CAAE,CAAE3K,GAAG,CAAE,GAAG,CAAED,IAAI,CAAE,GAAG,CAAEE,KAAK,CAAE,GAAG,CAAExE,MAAM,CAAE,GAAG,CAAEgP,OAAO,CAAE,mBAAoB,CAAC;AACnFG,GAAG,CAAE,CAAE5K,GAAG,CAAE,GAAG,CAAED,IAAI,CAAE,GAAG,CAAEE,KAAK,CAAE,GAAG,CAAExE,MAAM,CAAE,GAAG,CAAEgP,OAAO,CAAE,mBAAoB;AACnF,CAAC,CAAG;AACHI,GAAG,CAAE,CAAE7K,GAAG,CAAE,EAAE,CAAED,IAAI,CAAE,GAAG,CAAEE,KAAK,CAAE,EAAE,CAAExE,MAAM,CAAE,GAAG,CAAEgP,OAAO,CAAE,mBAAoB,CAAC;AACjFD,GAAG,CAAE,CAAExK,GAAG,CAAE,EAAE,CAAED,IAAI,CAAE,GAAG,CAAEE,KAAK,CAAE,EAAE,CAAExE,MAAM,CAAE,GAAG,CAAEgP,OAAO,CAAE,mBAAoB,CAAC;AACjFC,GAAG,CAAE,CAAE1K,GAAG,CAAE,EAAE,CAAED,IAAI,CAAE,GAAG,CAAEE,KAAK,CAAE,GAAG,CAAExE,MAAM,CAAE,GAAG,CAAEgP,OAAO,CAAE,mBAAoB,CAAC;AAClFE,GAAG,CAAE,CAAE3K,GAAG,CAAE,GAAG,CAAED,IAAI,CAAE,GAAG,CAAEE,KAAK,CAAE,GAAG,CAAExE,MAAM,CAAE,GAAG,CAAEgP,OAAO,CAAE,mBAAoB,CAAC;AACnFG,GAAG,CAAE,CAAE5K,GAAG,CAAE,GAAG,CAAED,IAAI,CAAE,GAAG,CAAEE,KAAK,CAAE,GAAG,CAAExE,MAAM,CAAE,GAAG,CAAEgP,OAAO,CAAE,mBAAoB,CAAC;AACnFK,GAAG,CAAE,CAAE9K,GAAG,CAAE,GAAG,CAAED,IAAI,CAAE,GAAG,CAAEE,KAAK,CAAE,GAAG,CAAExE,MAAM,CAAE,GAAG,CAAEgP,OAAO,CAAE,mBAAoB;AACnF,CAAC;AACD,IAAK,GAAM,CAAA9Q,EAAE,GAAI,CAAAjD,QAAQ,CAAE;AAC1B,GAAI,CAAAqU,MAAM,CAAGrU,QAAQ,CAACiD,EAAE,CAAU;AAClC4Q,UAAU,yDAAwD;AAClEA,UAAU,SAAWQ,MAAM,CAAC/K,GAAG,YAAW+K,MAAM,CAAChL,IAAI,aAAYgL,MAAM,CAAC9K,KAAK,cAAa8K,MAAM,CAACtP,MAAM,MAAK;AAC5G8O,UAAU,kBAAkB5Q,EAAE,sBAAmBoR,MAAM,CAACN,OAAO,iCAA6B;AAC7F;AACA,IAAI,CAAChU,SAAS,CAAC0K,IAAI,CAACoJ,UAAU,CAAC;AAChC,CAAC,CAAAlQ,MAAA;AACD2Q,WAAW,CAAX,SAAAA,WAAWA,CAAA,CAAG;AACb,GAAI,CAAAC,QAAQ,CAAG,CAAC;AAChB,IAAK,GAAI,CAAAC,KAAK,CAAG,CAAC,CAAEA,KAAK,CAAG,CAAC,EAAK,IAAI,CAACtW,MAAM,CAAC8T,QAAQ,GAAK,OAAO,EAAIwC,KAAK,CAAG,CAAE,CAAEA,KAAK,EAAE,CAAE;AAC1F,GAAI,CAAA/O,IAAI,CAAG,IAAI,CAACvH,MAAM,CAACqH,KAAK,CAACiP,KAAK,CAAC;AACnC,GAAM,CAAAC,WAAW,CAAG,CAAC,IAAI,CAACvW,MAAM,CAACwW,iBAAiB,CAAIF,KAAK,CAAG,CAAE;AAChE,GAAI,CAAAG,OAAO,CAAG,EAAE;AAChB,GAAI,CAAAC,GAAG,CAAG,EAAE;AACZ,GAAI,CAAAC,IAAI,CAAG,EAAE;AACb,IAAI,CAACzV,QAAQ,CAACqV,WAAW,CAAC,CAACxQ,KAAK,CAAC,CAAC;AAClC,GAAI,CAAA6Q,aAAa,CAAG,CAAC;AACrB,GAAI,CAAAC,WAAW,CAAG,CAAC;AACnB,IAAK,GAAI,CAAA5G,CAAC,CAAG,CAAC,CAAEA,CAAC,CAAG1I,IAAI,CAACjD,OAAO,CAACgD,MAAM,CAAE2I,CAAC,EAAE,CAAE;AAC7C,GAAI,CAAA3L,OAAO,CAAGiD,IAAI,CAACjD,OAAO,CAAC2L,CAAC,CAAC;AAC7B,GAAI3L,OAAO,CAACE,YAAY,GAAK,WAAW,CAAE,CAAEF,OAAO,CAACE,YAAY,CAAG,iBAAiB,CAAE;AACtF,GAAIF,OAAO,CAACE,YAAY,GAAK,UAAU,CAAEoS,aAAa,EAAE;AACxD,GAAItS,OAAO,CAACE,YAAY,GAAK,QAAQ,CAAEqS,WAAW,EAAE;AACpD,GAAI,CAAAC,UAAU,CAAG7Q,GAAG,CAAC8Q,aAAa,CAACzS,OAAO,CAAE,CAAC,CAACiS,WAAW,CAAE;AAC1DjW,GAAG,CAAE,IAAI,CAACA,GAAG;AACb0W,OAAO,CAAE,IAAI;AACbzW,GAAG,CAAE,IAAI,CAACA;AACX,CAAC,CAAC;AACF,GAAI,CAAA0K,CAAC,CAAG,CAAC;AACT,GAAI,CAAAD,CAAC,CAAG,CAAC;AACT,GAAIuL,WAAW,CAAE;AAChBtL,CAAC,CAAG,EAAE,CAAG,EAAE,CAAG,CAAC,EAAIgF,CAAC,CAAG,CAAC,CAAG1I,IAAI,CAACjD,OAAO,CAACgD,MAAM,CAAC;AAC/C0D,CAAC,CAAG,EAAE,CAAG,GAAG,CAAG,EAAE,EAAIiF,CAAC,CAAG,CAAC,CAAG1I,IAAI,CAACjD,OAAO,CAACgD,MAAM,CAAC;AAClD,CAAC,IAAM;AACN2D,CAAC,CAAG,EAAE,CAAG,GAAG,CAAG,CAAC,CAAGgF,CAAC;AACpBjF,CAAC,CAAG,EAAE,CAAG,GAAG,CAAG,EAAE,CAAGiF,CAAC;AACtB;AACA,GAAIwG,OAAO,CAAEA,OAAO,EAAI,KAAK;AAC7BA,OAAO,EAAInS,OAAO,CAACE,YAAY;AAC/B,GAAI,CAAA8E,GAAG,CAAGwN,UAAU,CAACxN,GAAG;;AAExBoN,GAAG,gBAAiBpN,GAAG,eAAYwN,UAAU,CAACxL,CAAC,gBAAawL,UAAU,CAACvL,CAAC,qCAAkCpG,IAAI,CAACC,KAAK,CAAC6F,CAAC,CAAG6L,UAAU,CAACvL,CAAC,CAAG,CAAC,CAAC,YAAWpG,IAAI,CAACC,KAAK,CAAC4F,CAAC,CAAG8L,UAAU,CAACxL,CAAC,CAAG,CAAC,CAAC,UAAQ;AAC7LqL,IAAI,yCAAyC1L,CAAC,CAAG,EAAE,cAAWD,CAAC,CAAG,EAAE,iEAA8D;AAClI,GAAM,CAAAiM,MAAM,CAAG3S,OAAO,CAAC2S,MAAM;AAC7B,GAAIA,MAAM,GAAK,GAAG,EAAIA,MAAM,GAAK,GAAG,CAAE,CAAEN,IAAI,gBAAiB1Q,GAAG,CAACiR,QAAQ,WAAUD,MAAM,CAACnG,WAAW,CAAC,CAAC,iBAAcmG,MAAM,oFAA0E,CAAE;AACvM,GAAI3S,OAAO,CAAC6S,KAAK,GAAK,GAAG,CAAE,CAAER,IAAI,iHAAiHrS,OAAO,CAAC6S,KAAK,UAAS,CAAE;AAC1K,GAAI7S,OAAO,CAAC+L,IAAI,GAAK,QAAQ,CAAE,CAAEsG,IAAI,iBAAkB1Q,GAAG,CAACC,cAAc,oFAA0E;AACnJ,CAAC,IAAM,IAAI5B,OAAO,CAAC+L,IAAI,CAAE,CAAEsG,IAAI,iBAAkB1Q,GAAG,CAACC,cAAc,oFAA0E,CAAE;AAC/IyQ,IAAI,EAAI,QAAQ;AACjB;AACApP,IAAI,CAACyI,YAAY,CAAGzI,IAAI,CAACjD,OAAO,CAACgD,MAAM;AACvC,GAAImP,OAAO,CAAE;AACZ,IAAI,CAAC7V,GAAG,CAACoD,MAAM,CAAC,qBAAqB;AAC1Bf,SAAS,CAAC2M,UAAU,CAACrI,IAAI,CAAC6H,IAAI,CAAC,iEAA8DnM,SAAS,CAAC2M,UAAU,CAAC6G,OAAO,CAAC;AACrI,CAAC;AACF;AACA,IAAI,CAACvV,QAAQ,CAACqV,WAAW,CAAC,CAAChK,IAAI,CAACmK,GAAG,CAAGC,IAAI,CAAC;AAC3C,GAAI,CAACN,QAAQ,CAAE;AACd,GAAIO,aAAa,EAAI,CAAC,CAAE,CAAEP,QAAQ,CAAG,CAAC,CAAC,CAAE,CAAC;AACrC,GAAIO,aAAa,CAAGC,WAAW,EAAI,CAAC,CAAE,CAAER,QAAQ,CAAG,CAAC,CAAC,CAAE;AAC7D;AACD;AACA,GAAIA,QAAQ,GAAK,CAAC,CAAE,CAAE,IAAI,CAACxH,MAAM,CAACwH,QAAQ,CAAC,CAAE;AAC7C,IAAI,CAAC7N,IAAI,CAAC,IAAI,CAAC;AACf,IAAI,CAACtB,cAAc,CAAC,CAAC;AACtB,CAAC,CAAAzB,MAAA;AACD2R,eAAe,CAAf,SAAAA,eAAeA,CAAA,CAAG;AACjB,GAAI,CAAC,IAAI,CAACpX,MAAM,CAACqX,WAAW,CAAE;AAC9B,GAAI,IAAI,CAACrX,MAAM,CAACsX,KAAK,EAAI,IAAI,CAACtX,MAAM,CAAC4O,KAAK,CAAE;AAC5C,GAAI,CAAC,IAAI,CAAC5O,MAAM,CAACuX,EAAE,CAACnI,IAAI,CAAE,CAAE,IAAI,CAAC1O,OAAO,CAACsF,MAAM,CAAC,+EAA+E,CAAC,CAAE;AAClI,GAAI,CAAC,IAAI,CAAChG,MAAM,CAACwX,EAAE,CAACpI,IAAI,CAAE,CAAE,IAAI,CAAC1O,OAAO,CAACsF,MAAM,CAAC,+EAA+E,CAAC,CAAE;AACnI,CAAC,CAAAP,MAAA;AACDgS,eAAe,CAAf,SAAAA,eAAeA,CAAA,CAAG;AACjB,GAAI,CAAC,IAAI,CAACzX,MAAM,CAACqX,WAAW,CAAE;AAC9B,IAAI,CAAC3W,OAAO,CAAC8F,IAAI,CAAC,4BAA4B,CAAC,CAACC,MAAM,CAAC,CAAC;AACzD,CAAC,CAAAhB,MAAA;;AAEDiS,iBAAiB,CAAjB,SAAAA,iBAAiBA,CAACC,QAAsB,CAAE;AACzC,GAAI,CAAAjB,GAAG,UAAYzQ,GAAG,CAACsH,KAAK,CAACC,GAAG,CAACmK,QAAQ,CAAC,CAAC,CAAC,CAAC,CAACvI,IAAM;AACpD,GAAI,CAACuI,QAAQ,CAAC,CAAC,CAAC,EAAIA,QAAQ,CAAC,CAAC,CAAC,CAAE;AAChCA,QAAQ,CAAC,CAAC,CAAC,CAAGA,QAAQ,CAAC,CAAC,CAAC;AACzBA,QAAQ,CAAC,CAAC,CAAC,CAAG,CAAC;AAChB;AACA,GAAI,IAAI,CAAC3X,MAAM,CAACM,GAAG,CAAG,CAAC,EAAI,IAAI,CAACN,MAAM,CAACqM,YAAY,CAAE,MAAO,CAAAqK,GAAG;AAC/D,GAAIiB,QAAQ,CAAC,CAAC,CAAC,CAAE,CAAE,MAAU,CAAAjB,GAAG,aAAYiB,QAAQ,CAAC,CAAC,CAAC,QAAOA,QAAQ,CAAC,CAAC,CAAC,mBAAmB;AAC5F,GAAIA,QAAQ,CAAC,CAAC,CAAC,CAAE,CAAE,MAAU,CAAAjB,GAAG,aAAYiB,QAAQ,CAAC,CAAC,CAAC,UAAQA,QAAQ,CAAC,CAAC,CAAC,GAAK,CAAC,CAAG,EAAE,CAAG,GAAG,cAAa;AACxG,MAAO,CAAAjB,GAAG;AACX,CAAC,CAAAjR,MAAA;AACDmS,iBAAiB,CAAjB,SAAAA,iBAAiBA,CAACC,IAAoC,CAAEC,KAAc,CAAEC,GAAa,CAAE;AACtF,GAAI,CAACF,IAAI,CAAC,CAAC,CAAC,EAAI,CAACA,IAAI,CAAC,CAAC,CAAC,EAAI,CAACE,GAAG,CAAE,MAAO,EAAE;AAC3C,GAAI,CAAArB,GAAG,WAAYoB,KAAK,EAAI,CAACC,GAAG,CAAG,QAAQ,CAAG,EAAE,EAAG9R,GAAG,CAACsH,KAAK,CAACC,GAAG,CAACqK,IAAI,CAAC,CAAC,CAAC,CAAC,CAACzI,IAAM;AAChF,GAAI,IAAI,CAACpP,MAAM,CAACM,GAAG,CAAG,CAAC,EAAI,IAAI,CAACN,MAAM,CAACqM,YAAY,CAAE,MAAO,CAAAqK,GAAG;AAC/D,GAAI,CAACmB,IAAI,CAAC,CAAC,CAAC,EAAI,CAACA,IAAI,CAAC,CAAC,CAAC,CAAE,MAAO,CAAAnB,GAAG;AACpC,GAAI,CAACmB,IAAI,CAAC,CAAC,CAAC,EAAIA,IAAI,CAAC,CAAC,CAAC,CAAE;AACxBA,IAAI,CAAC,CAAC,CAAC,CAAGA,IAAI,CAAC,CAAC,CAAC;AACjBA,IAAI,CAAC,CAAC,CAAC,CAAG,CAAC;AACZ;AACA,GAAI,CAACA,IAAI,CAAC,CAAC,CAAC,CAAE,CAAE,MAAU,CAAAnB,GAAG,aAAYmB,IAAI,CAAC,CAAC,CAAC,UAAQA,IAAI,CAAC,CAAC,CAAC,GAAK,CAAC,CAAG,EAAE,CAAG,GAAG,cAAa;AAC7F,MAAU,CAAAnB,GAAG,aAAYmB,IAAI,CAAC,CAAC,CAAC,QAAOA,IAAI,CAAC,CAAC,CAAC;AAC/C,CAAC,CAAApS,MAAA;AACDuS,WAAW,CAAX,SAAAA,WAAWA,CAAA,CAAG;AACb,GAAI,IAAI,CAAChY,MAAM,CAACM,GAAG,CAAG,CAAC,EAAI,IAAI,CAACN,MAAM,CAACqM,YAAY,CAAE,MAAO,EAAE;AAC9D,GAAI,CAAA4L,WAAW,GAAK;AACpB,GAAI,IAAI,CAACjY,MAAM,CAACkY,OAAO,CAAE;AACxB,GAAM,CAAAC,gBAA0C,CAAG;AAC/CC,QAAQ,CAAE,KAAK;AACfC,YAAY,CAAE,aAAa;AAC3BC,SAAS,CAAE,MAAM;AACjBC,aAAa,CAAE,YAAY;AAC3BC,SAAS,CAAE,WAAW;AACtBC,IAAI,CAAE,MAAM;AACZC,SAAS,CAAE,MAAM;AACjBC,WAAW,CAAE,cAAc;AAC3BC,cAAc,CAAE;AACpB,CAAC;AACDX,WAAW,KAAME,gBAAgB,CAAC,IAAI,CAACnY,MAAM,CAACkY,OAAO,CAAC,EAAI,IAAI,CAAClY,MAAM,CAACkY,OAAO,CAAE;AAC/E,GAAI,IAAI,CAAClY,MAAM,CAAC6Y,kBAAkB,GAAK,CAAC,CAAE,CAAEZ,WAAW,cAAgB,IAAI,CAACjY,MAAM,CAAC6Y,kBAAkB,QAAO,IAAI,CAAC7Y,MAAM,CAAC8Y,eAAe,kBAAiB,CAAE,CAAC;AACtJ,GAAI,IAAI,CAAC9Y,MAAM,CAAC8Y,eAAe,GAAK,CAAC,CAAE,CAAEb,WAAW,cAAgB,IAAI,CAACjY,MAAM,CAAC8Y,eAAe,UAAQ,IAAI,CAAC9Y,MAAM,CAAC8Y,eAAe,GAAK,CAAC,CAAG,EAAE,CAAG,GAAG,aAAW,CAAE;AACrK,GAAM,CAAAC,cAAc,CAAG,IAAI,CAAC/Y,MAAM,CAACgZ,aAAa,CAAC,CAAC,UAAU,CAAE,YAAY,CAAC,CAAC;AAC5Ef,WAAW,KAAMc,cAAc,CAAG,KAAK,CAAG,EAAE,EAAGd,WAAW,EAAGc,cAAc,CAAG,MAAM,CAAG,EAAE,CAAE;AAC5F,CAAC,QAAAE,IAAA,GAAAC,sBAAA;AAC2B,IAAI,CAAClZ,MAAM,CAACmZ,aAAa,CAAAF,IAAA,CAAAC,sBAAA,CAAA5R,MAAA,CAAA2R,IAAA,GAAE,CAAlD,GAAM,CAAAE,aAAa,CAAAD,sBAAA,CAAAD,IAAA,EAAiChB,WAAW,EAAI,IAAI,CAACP,iBAAiB,CAACyB,aAAa,CAAC,CAAE;AAC/G,MAAO,CAAAlB,WAAW;AACnB,CAAC,CAAAxS,MAAA;AACD2T,kBAAkB,CAAlB,SAAAA,kBAAkBA,CAAC7R,IAAU,CAAEwQ,GAAa,CAAE;AAC7C,GAAI,CAAArB,GAAG,GAAK;AACZ,IAAK,GAAM,CAAA3R,EAAE,GAAI,CAAAwC,IAAI,CAACxF,cAAc,CAAE,CAAE2U,GAAG,EAAI,IAAI,CAACkB,iBAAiB,CAACrQ,IAAI,CAACxF,cAAc,CAACgD,EAAE,CAAC,CAAEwC,IAAI,CAAC8H,KAAK,CAAE0I,GAAG,CAAC,CAAE;AACjH,MAAO,CAAArB,GAAG;AACX,CAAC,CAAAjR,MAAA;AACD4T,aAAa,CAAb,SAAAA,aAAaA,CAAA,CAAG;AACf,GAAM,CAAAC,SAAS,CAAG,CAAC,cAAc,CAAE,eAAe,CAAE,aAAa,CAAE,gBAAgB,CAAC,CAACpU,QAAQ,CAAC,IAAI,CAACzC,UAAU,CAAC;AAC9G,IAAI,CAAC3B,QAAQ,CAACsJ,OAAO,CAAC,CAAExD,OAAO,CAAE,GAAK,CAAC,CAAE,GAAG,CAAC;AAC5CwD,OAAO,CAAC,CAAExD,OAAO,CAAE0S,SAAS,CAAG,GAAG,CAAG,GAAK,CAAC,CAAE,GAAG,CAAC;AACnD,CAAC,CAAA7T,MAAA;AACDkC,aAAa,CAAb,SAAAA,aAAaA,CAAC4R,OAAiB,CAAE,KAAAC,MAAA;AAChC,GAAI,CAAC,IAAI,CAACpZ,SAAS,CAAE;AACrB,GAAI,CAAAkZ,SAAS,CAAG,KAAK;AACrB,GAAI,CAAApB,OAAO,CAAG,IAAI,CAAClY,MAAM,CAACkY,OAAO;AACjC,GAAI,IAAI,CAAClY,MAAM,CAACgZ,aAAa,CAAC,CAAC,UAAU,CAAE,YAAY,CAAC,CAAC,CAAE,CAAEd,OAAO,CAAG,EAAQ,CAAE;AAC9E,GAAI,CAAAuB,OAAO,CAAG,EAAQ;AACtB,GAAI,CAAAC,YAAY,CAAG,CAAC,CAAC,QAAAC,IAAA,GAAAC,sBAAA;AACW,IAAI,CAAC5Z,MAAM,CAACmZ,aAAa,CAAAQ,IAAA,CAAAC,sBAAA,CAAAtS,MAAA,CAAAqS,IAAA,GAAE,CAAtD,GAAM,CAAAE,iBAAiB,CAAAD,sBAAA,CAAAD,IAAA;AAC3BF,OAAO,CAAGK,IAAI,CAACD,iBAAiB,CAAC,CAAC,CAAC,CAAC;AACpC,GAAIA,iBAAiB,CAAC,CAAC,CAAC,CAAEH,YAAY,CAAGG,iBAAiB,CAAC,CAAC,CAAC;AAC9D;AACA,GAAI3B,OAAO,GAAK,cAAc,EAAIA,OAAO,GAAK,eAAe,EAAIA,OAAO,GAAK,aAAa,EAAIA,OAAO,GAAK,gBAAgB,CAAE,CAAEoB,SAAS,CAAG,IAAI,CAAE;AAChJ,GAAI,CAAArB,WAAW,CAAG,IAAI,CAACD,WAAW,CAAC,CAAC,CAAC,QAAA+B,IAAA,GAAAC,mBAAA;AAClB,IAAI,CAACha,MAAM,CAACqH,KAAK,CAAA0S,IAAA,CAAAC,mBAAA,CAAA1S,MAAA,CAAAyS,IAAA,GAAE,CAAjC,GAAM,CAAAxS,IAAI,CAAAyS,mBAAA,CAAAD,IAAA,EAAyB9B,WAAW,EAAI,IAAI,CAACmB,kBAAkB,CAAC7R,IAAI,CAAC,CAAE;AACtF,GAAI0Q,WAAW,CAAEA,WAAW,CAAG,SAAWA,WAAW;;AAErD,GAAM,CAAAgC,gBAA0C,CAAG;AAClDC,eAAe,CAAE,kBAAkB;AACnCC,aAAa,CAAE,gBAAgB;AAC/BC,YAAY,CAAE,eAAe;AAC7BC,cAAc,CAAE,iBAAiB;AACjCC,YAAY,CAAE;AACf,CAAC;AACD,GAAI,CAAAC,WAAW,CAAG,EAAE;AACpB,GAAId,OAAO,CAAE;AACZc,WAAW,KAAMN,gBAAgB,CAACR,OAAO,CAAC,EAAIA,OAAO,CAAE;AACvD,GAAIC,YAAY,CAAE,CAAEa,WAAW,cAAgBb,YAAY,UAAQA,YAAY,GAAK,CAAC,CAAG,EAAE,CAAG,GAAG,aAAW,CAAE;AAC9G;AACA,GAAIa,WAAW,CAAEA,WAAW,CAAG,SAAWA,WAAW;AACrD,GAAIhB,OAAO,CAAE;AACZ,IAAI,CAACzY,QAAQ,CAACyL,IAAI,CAAC,MAAM,CAAG0L,WAAW,CAAG,OAAO,CAAC;AAClD,IAAI,CAACpX,QAAQ,CAAC0L,IAAI,CAAC,MAAM,CAAGgO,WAAW,CAAG,OAAO,CAAC;AAClD,GAAI,IAAI,CAAC9X,UAAU,GAAKyV,OAAO,EAAI,IAAI,CAACxV,UAAU,GAAK+W,OAAO,CAAE;AAChE,IAAI,CAAC5Y,QAAQ,CAAC2Z,IAAI,CAAC,OAAO,CAAEf,OAAO,CAAG,UAAU,CAAGA,OAAO,CAAG,SAAS,CAAG,SAAS,CAAC;AACnF,IAAI,CAAC/W,UAAU,CAAG+W,OAAO;AACzB,IAAI,CAAC3Y,QAAQ,CAAC0Z,IAAI,CAAC,OAAO,CAAEtC,OAAO,CAAG,UAAU,CAAGA,OAAO,CAAG,SAAS,CAAG,SAAS,CAAC;AACnF,IAAI,CAACpX,QAAQ,CAAC6F,GAAG,CAAC,SAAS,CAAE2S,SAAS,EAAI,CAACpB,OAAO,CAAG,GAAG,CAAG,GAAG,CAAC;AAC/D,IAAI,CAACzV,UAAU,CAAGyV,OAAO;AACzB;AACD;AACA,GAAIA,OAAO,GAAK,IAAI,CAACzV,UAAU,CAAE;AAChC,IAAI,CAAC3B,QAAQ,CAACsJ,OAAO,CAAC,CAAExD,OAAO,CAAE,CAAG,CAAC;AACrC,IAAI,CAACnE,UAAU,CAAG,GAAG,CAAG,GAAG,CAAE,UAAM;AAClC+W,MAAI,CAAC1Y,QAAQ,CAACyL,IAAI,CAAC,MAAM,CAAG0L,WAAW,CAAG,OAAO,CAAC;AAClDuB,MAAI,CAAC1Y,QAAQ,CAAC0Z,IAAI,CAAC,OAAO,CAAEtC,OAAO,CAAG,UAAU,CAAGA,OAAO,CAAG,SAAS,CAAG,SAAS,CAAC;AACnFsB,MAAI,CAAC1Y,QAAQ,CAACsJ,OAAO,CAAC,CAAExD,OAAO,CAAE0S,SAAS,EAAI,CAACpB,OAAO,CAAG,GAAG,CAAG,GAAI,CAAC,CAAE,GAAG,CAAC;AAC3E,CAAC,CAAC;AACF,IAAI,CAACzV,UAAU,CAAGyV,OAAO;AAC1B,CAAC,IAAM,CAAE,IAAI,CAACpX,QAAQ,CAACyL,IAAI,CAAC,MAAM,CAAG0L,WAAW,CAAG,OAAO,CAAC,CAAE;AAC7D,GAAIwB,OAAO,GAAK,IAAI,CAAC/W,UAAU,CAAE;AAChC,IAAI,CAAC7B,QAAQ,CAACuJ,OAAO,CAAC;AACrBgB,GAAG,CAAE,GAAG;AACRxE,OAAO,CAAE;AACV,CAAC,CAAE,IAAI,CAAClE,UAAU,CAAG,GAAG,CAAG,CAAC,CAAE,UAAM;AACnC8W,MAAI,CAAC3Y,QAAQ,CAAC2Z,IAAI,CAAC,OAAO,CAAEf,OAAO,CAAG,UAAU,CAAGA,OAAO,CAAG,SAAS,CAAG,SAAS,CAAC;AACnFD,MAAI,CAAC3Y,QAAQ,CAAC0L,IAAI,CAAC,MAAM,CAAGgO,WAAW,CAAG,OAAO,CAAC;AAClDf,MAAI,CAAC3Y,QAAQ,CAACuJ,OAAO,CAAC,CAAEgB,GAAG,CAAE,CAAC,CAAExE,OAAO,CAAE,CAAE,CAAC,CAAE,GAAG,CAAC;AACnD,CAAC,CAAC;AACF,IAAI,CAAClE,UAAU,CAAG+W,OAAO;AAC1B;AACJ,CAAC,CAAAhU,MAAA;AACDmC,SAAS,CAAT,SAAAA,SAASA,CAAA,CAAG;AACX,GAAI,IAAI,CAAC5H,MAAM,CAACya,IAAI,EAAI,CAAC,CAAE;AAC1B,IAAI,CAAChZ,KAAK,CAAC8K,IAAI,CAAC,EAAE,CAAC;AACnB;AACD;AACA,IAAI,CAAC9K,KAAK,CAAC8K,IAAI,qFAA+E,IAAI,CAACvM,MAAM,CAACya,IAAI,SAAQ,CAAC;AACxH,CAAC,CAAAhV,MAAA;AACDiV,aAAa,CAAb,SAAAA,aAAaA,CAAA,CAAG;AACf,GAAI,CAAC,IAAI,CAACta,SAAS,CAAE;AACrB,GAAM,CAAAqa,IAAI,CAAG,IAAI,CAACza,MAAM,CAACya,IAAI;AAC7B,GAAIA,IAAI,EAAI,CAAC,CAAE;AACf,GAAM,CAAAE,SAAS,CAAG,IAAI,CAAClZ,KAAK,CAAC8H,QAAQ,CAAC,CAAC;AACvC,GAAM,CAAAqR,QAAQ,CAAG7X,CAAC,qFAA+E0X,IAAI,SAAQ,CAAC;AAC9GG,QAAQ,CAACjU,GAAG,CAAC;AACZC,OAAO,CAAE,CAAC;AACVuE,IAAI,CAAE;AACP,CAAC,CAAC;AACF,IAAI,CAAC1J,KAAK,CAACuE,MAAM,CAAC4U,QAAQ,CAAC;AAC3BA,QAAQ,CAACxQ,OAAO,CAAC;AAChBxD,OAAO,CAAE,CAAC;AACVuE,IAAI,CAAE;AACP,CAAC,CAAE,GAAG,CAAC,CAACf,OAAO,CAAC;AACfxD,OAAO,CAAE;AACV,CAAC,CAAE,IAAI,CAAC;AACR+T,SAAS,CAACvQ,OAAO,CAAC;AACjBxD,OAAO,CAAE,CAAC;AACVuE,IAAI,CAAE;AACP,CAAC,CAAE,GAAG,CAAE,UAAM,CAAEwP,SAAS,CAAClU,MAAM,CAAC,CAAC,CAAE,CAAC,CAAC;AACtC,IAAI,CAACoU,kBAAkB,CAAC,CAAC;AACzB,IAAI,CAACrS,IAAI,CAAC,GAAG,CAAG,IAAI,CAACnI,YAAY,CAAC;AACnC,CAAC,CAAAoF,MAAA;AACDoV,kBAAkB,CAAlB,SAAAA,kBAAkBA,CAAA,CAAG;AACpB,GAAI,IAAI,CAAC7a,MAAM,CAAC8a,eAAe,CAAG,CAAC,CAAE,CAAE,IAAI,CAACza,YAAY,CAAG,CAAC,IAAI,CAACL,MAAM,CAACoM,eAAe,CAAG,GAAG,CAAG,CAAC,CAAG,CAAC,EAAIjH,IAAI,CAAC4V,GAAG,CAAC,IAAI,CAAC/a,MAAM,CAAC8a,eAAe,CAAG,CAAC,CAAE,CAAC,CAAC,CAAE,CAAC;AACnJ;AACJ,IAAI,CAACza,YAAY,CAAI,IAAI,CAACL,MAAM,CAACoM,eAAe,CAAG,GAAG,CAAG,CAAC,CAAG,CAAE;AAC/D,GAAI,IAAI,CAACpM,MAAM,CAACoM,eAAe,CAAG,EAAE,CAAE,IAAI,CAAC/L,YAAY,CAAG,CAAC;AAC5D;AACD,CAAC,CAAAoF,MAAA;;AAEDuV,gBAAgB,CAAhB,SAAAA,gBAAgBA,CAAC1W,OAAgB,CAAE;AAClC,GAAM,CAAAoD,MAAM,CAAG,GAAI,CAAA6N,aAAa,CAACtP,GAAG,CAAC8Q,aAAa,CAACzS,OAAO,CAAEA,OAAO,CAACiD,IAAI,CAAC8H,KAAK,CAAE;AAC/E/O,GAAG,CAAE,IAAI,CAACA,GAAG;AACbC,GAAG,CAAE,IAAI,CAACA;AACX,CAAC,CAAC,CAAE;AACHyK,CAAC,CAAE1G,OAAO,CAACiD,IAAI,CAACyD,CAAC;AACjBC,CAAC,CAAE3G,OAAO,CAACiD,IAAI,CAAC0D,CAAC;AACjBC,CAAC,CAAE5G,OAAO,CAACiD,IAAI,CAAC2D,CAAC;AACjBtE,OAAO,CAAE;AACV,CAAC,CAAE,IAAI,CAAEtC,OAAO,CAACiD,IAAI,CAAC8H,KAAK,CAAC;AAC5B,GAAI3H,MAAM,CAACiB,GAAG,CAAE,IAAI,CAACzH,QAAQ,CAAC,CAACoD,OAAO,CAACiD,IAAI,CAAC8H,KAAK,CAAC,CAACrJ,MAAM,CAAC0B,MAAM,CAACiB,GAAG,CAAC;AACrE,MAAO,CAAAjB,MAAM;AACd,CAAC,CAAAjC,MAAA;AACDwV,gBAAgB,CAAhB,SAAAA,gBAAgBA,CAAC3E,KAAa,CAAEvR,EAAM,CAAEwU,OAAiB,CAAE;AAC1D,GAAI,CAAC,IAAI,CAACnZ,SAAS,CAAE;AACrB,GAAM,CAAAmH,IAAI,CAAG,IAAI,CAACvH,MAAM,CAACqH,KAAK,CAACiP,KAAK,CAAC;AACrC,GAAM,CAAAC,WAAW,CAAG,CAAChP,IAAI,CAAC8H,KAAK;AAC/B,GAAI,CAAArE,CAAC,CAAGzD,IAAI,CAACyD,CAAC;AACd,GAAI,CAAAC,CAAC,CAAG1D,IAAI,CAAC0D,CAAC;AACd,GAAI,IAAI,CAACjL,MAAM,CAAC8T,QAAQ,GAAK,YAAY,CAAE;AAC1C9I,CAAC,EAAIzD,IAAI,CAAC8H,KAAK,CAAG,EAAE,CAAG,CAAC,EAAE;AAC1B,GAAI9H,IAAI,CAACiL,CAAC,CAAG,CAAC,CAAE;AACfxH,CAAC,EAAKzD,IAAI,CAAC8H,KAAK,CAAG,CAAC,GAAG,CAAG,GAAI;AAC9BpE,CAAC,EAAI1D,IAAI,CAAC8H,KAAK,CAAG,EAAE,CAAG,CAAC,EAAE;AAC3B;AACD;AACA,OAAQtK,EAAE;AACV,IAAK,YAAY;AAChB,GAAM,CAAAmW,UAAU,CAAG,GAAI,CAAAC,MAAM,CAAC/R,aAAa,CAAC8R,UAAU,CAAE,CAAErQ,OAAO,CAAE,OAAO,CAAEG,CAAC,CAADA,CAAC,CAAEC,CAAC,CAADA,CAAC,CAAEC,CAAC,CAAE3D,IAAI,CAAC6T,MAAM,CAAC,CAAC,EAAE,CAAC,CAAEzR,MAAM,CAAE,CAAC,CAAEC,MAAM,CAAE,CAAC,CAAEhD,OAAO,CAAE,GAAK,CAAC,CAAE,IAAI,CAAC;AACnJ,IAAI,CAACzF,aAAa,CAACoV,WAAW,CAAC,CAACvQ,MAAM,CAACkV,UAAU,CAACvS,GAAG,CAAC;AACtD,IAAI,CAAC5G,cAAc,CAACuU,KAAK,CAAC,CAACvR,EAAE,CAAC,CAAG,CAACmW,UAAU,CAAC;AAC7CA,UAAU,CAACvN,IAAI,CAAC;AACf/G,OAAO,CAAE,GAAG;AACZ6B,IAAI,CAAE8Q,OAAO,CAAG,CAAC,CAAG;AACrB,CAAC,CAAC,CAAC5L,IAAI,CAAC;AACP/G,OAAO,CAAE,GAAG;AACZ6B,IAAI,CAAE8Q,OAAO,CAAG,CAAC,CAAG;AACrB,CAAC,CAAC;AACF;AACD,IAAK,SAAS;AACb,GAAM,CAAA8B,OAAO,CAAG,GAAI,CAAAF,MAAM,CAAC/R,aAAa,CAACiS,OAAO,CAAE,CAAExQ,OAAO,CAAE,OAAO,CAAEG,CAAC,CAADA,CAAC,CAAEC,CAAC,CAADA,CAAC,CAAEC,CAAC,CAAE3D,IAAI,CAAC6T,MAAM,CAAC,CAAC,EAAE,CAAC,CAAEzR,MAAM,CAAE,CAAC,CAAEC,MAAM,CAAE,CAAC,CAAEhD,OAAO,CAAE,GAAK,CAAC,CAAE,IAAI,CAAC;AAC7I,IAAI,CAACzF,aAAa,CAACoV,WAAW,CAAC,CAACvQ,MAAM,CAACqV,OAAO,CAAC1S,GAAG,CAAC;AACnD,IAAI,CAAC5G,cAAc,CAACuU,KAAK,CAAC,CAACvR,EAAE,CAAC,CAAG,CAACsW,OAAO,CAAC;AAC1CA,OAAO,CAAC1N,IAAI,CAAC;AACZ/G,OAAO,CAAE,GAAG;AACZ6B,IAAI,CAAE8Q,OAAO,CAAG,CAAC,CAAG;AACrB,CAAC,CAAC,CAAC5L,IAAI,CAAC;AACP/G,OAAO,CAAE,GAAG;AACZ6B,IAAI,CAAE8Q,OAAO,CAAG,CAAC,CAAG;AACrB,CAAC,CAAC;AACF;AACD,IAAK,WAAW;AACf,GAAM,CAAA+B,SAAS,CAAG,GAAI,CAAAH,MAAM,CAAC/R,aAAa,CAACkS,SAAS,CAAE,CAAEzQ,OAAO,CAAE,OAAO,CAAEG,CAAC,CAADA,CAAC,CAAEC,CAAC,CAADA,CAAC,CAAEC,CAAC,CAAE3D,IAAI,CAAC6T,MAAM,CAAC,CAAC,EAAE,CAAC,CAAEzR,MAAM,CAAE,CAAC,CAAEC,MAAM,CAAE,CAAC,CAAEhD,OAAO,CAAE,GAAK,CAAC,CAAE,IAAI,CAAC;AACjJ,IAAI,CAACzF,aAAa,CAACoV,WAAW,CAAC,CAACvQ,MAAM,CAACsV,SAAS,CAAC3S,GAAG,CAAC;AACrD,IAAI,CAAC5G,cAAc,CAACuU,KAAK,CAAC,CAACvR,EAAE,CAAC,CAAG,CAACuW,SAAS,CAAC;AAC5CA,SAAS,CAAC3N,IAAI,CAAC;AACd/G,OAAO,CAAE,GAAG;AACZ6B,IAAI,CAAE8Q,OAAO,CAAG,CAAC,CAAG;AACrB,CAAC,CAAC,CAAC5L,IAAI,CAAC;AACP/G,OAAO,CAAE,GAAG;AACZ6B,IAAI,CAAE8Q,OAAO,CAAG,CAAC,CAAG;AACrB,CAAC,CAAC;AACF;AACD,IAAK,aAAa;AACjB,GAAM,CAAAgC,WAAW,CAAG,GAAI,CAAAJ,MAAM,CAAC/R,aAAa,CAACmS,WAAW,CAAE,CAAE1Q,OAAO,CAAE,OAAO,CAAEG,CAAC,CAADA,CAAC,CAAEC,CAAC,CAADA,CAAC,CAAEC,CAAC,CAAE3D,IAAI,CAAC6T,MAAM,CAAC,CAAC,EAAE,CAAC,CAAEzR,MAAM,CAAE,CAAC,CAAEC,MAAM,CAAE,CAAC,CAAEhD,OAAO,CAAE,GAAK,CAAC,CAAE,IAAI,CAAC;AACrJ,IAAI,CAACzF,aAAa,CAACoV,WAAW,CAAC,CAACvQ,MAAM,CAACuV,WAAW,CAAC5S,GAAG,CAAC;AACvD,IAAI,CAAC5G,cAAc,CAACuU,KAAK,CAAC,CAACvR,EAAE,CAAC,CAAG,CAACwW,WAAW,CAAC;AAC9CA,WAAW,CAAC5N,IAAI,CAAC;AAChB/G,OAAO,CAAE,GAAG;AACZ6B,IAAI,CAAE8Q,OAAO,CAAG,CAAC,CAAG;AACrB,CAAC,CAAC,CAAC5L,IAAI,CAAC;AACP/G,OAAO,CAAE,GAAG;AACZ6B,IAAI,CAAE8Q,OAAO,CAAG,CAAC,CAAG;AACrB,CAAC,CAAC;AACF;AACD,IAAK,MAAM;AACV,GAAM,CAAAiC,IAAI,CAAG,GAAI,CAAAL,MAAM,CAAC/R,aAAa,CAACoS,IAAI,CAAE,CAAE3Q,OAAO,CAAE,OAAO,CAAEG,CAAC,CAADA,CAAC,CAAEC,CAAC,CAADA,CAAC,CAAEC,CAAC,CAAE3D,IAAI,CAAC6T,MAAM,CAAC,CAAC,EAAE,CAAC,CAAEzR,MAAM,CAAE,CAAC,CAAEC,MAAM,CAAE,CAAC,CAAEhD,OAAO,CAAE,GAAK,CAAC,CAAE,IAAI,CAAC;AACvI,IAAI,CAACzF,aAAa,CAACoV,WAAW,CAAC,CAACvQ,MAAM,CAACwV,IAAI,CAAC7S,GAAG,CAAC;AAChD,IAAI,CAAC5G,cAAc,CAACuU,KAAK,CAAC,CAACvR,EAAE,CAAC,CAAG,CAACyW,IAAI,CAAC;AACvCA,IAAI,CAAC7N,IAAI,CAAC;AACT/G,OAAO,CAAE,GAAG;AACZ6B,IAAI,CAAE8Q,OAAO,CAAG,CAAC,CAAG;AACrB,CAAC,CAAC,CAAC5L,IAAI,CAAC;AACP/G,OAAO,CAAE,GAAG;AACZ6B,IAAI,CAAE8Q,OAAO,CAAG,CAAC,CAAG;AACrB,CAAC,CAAC;AACF;AACD,IAAK,aAAa;AACjB,GAAM,CAAAkC,KAAK,CAAG,GAAI,CAAAN,MAAM,CAAC/R,aAAa,CAACqS,KAAK,CAAE,CAAE5Q,OAAO,CAAE,OAAO,CAAEG,CAAC,CAAEA,CAAC,CAAGzD,IAAI,CAACiO,MAAM,CAAC,CAAC,EAAE,CAAC,CAAEvK,CAAC,CAAEA,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAE3D,IAAI,CAAC2D,CAAC,CAAEtE,OAAO,CAAE,GAAG,CAAE8C,KAAK,CAAE,GAAK,CAAC,CAAE,IAAI,CAAC;AACnJ,GAAM,CAAAgS,KAAK,CAAG,GAAI,CAAAP,MAAM,CAAC/R,aAAa,CAACsS,KAAK,CAAE,CAAE7Q,OAAO,CAAE,OAAO,CAAEG,CAAC,CAAEA,CAAC,CAAGzD,IAAI,CAACiO,MAAM,CAAC,CAAC,EAAE,CAAC,CAAEvK,CAAC,CAAEA,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAE3D,IAAI,CAAC2D,CAAC,CAAEtE,OAAO,CAAE,GAAG,CAAE8C,KAAK,CAAE,GAAK,CAAC,CAAE,IAAI,CAAC;AACnJ,GAAM,CAAAiS,KAAK,CAAG,GAAI,CAAAR,MAAM,CAAC/R,aAAa,CAACqS,KAAK,CAAE,CAAE5Q,OAAO,CAAE,OAAO,CAAEG,CAAC,CAAEA,CAAC,CAAGzD,IAAI,CAACiO,MAAM,CAAC,EAAE,CAAC,CAAEvK,CAAC,CAAEA,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAE3D,IAAI,CAAC2D,CAAC,CAAEtE,OAAO,CAAE,GAAG,CAAE8C,KAAK,CAAE,GAAK,CAAC,CAAE,IAAI,CAAC;AAClJ,GAAM,CAAAkS,KAAK,CAAG,GAAI,CAAAT,MAAM,CAAC/R,aAAa,CAACsS,KAAK,CAAE,CAAE7Q,OAAO,CAAE,OAAO,CAAEG,CAAC,CAAEA,CAAC,CAAGzD,IAAI,CAACiO,MAAM,CAAC,EAAE,CAAC,CAAEvK,CAAC,CAAEA,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAE3D,IAAI,CAAC2D,CAAC,CAAEtE,OAAO,CAAE,GAAG,CAAE8C,KAAK,CAAE,GAAK,CAAC,CAAE,IAAI,CAAC;AAClJ,IAAI,CAACvI,aAAa,CAACoV,WAAW,CAAC,CAACvQ,MAAM,CAACyV,KAAK,CAAC9S,GAAG,CAAC;AACjD,IAAI,CAACxH,aAAa,CAACoV,WAAW,CAAC,CAACvQ,MAAM,CAAC0V,KAAK,CAAC/S,GAAG,CAAC;AACjD,IAAI,CAACxH,aAAa,CAACoV,WAAW,CAAC,CAACvQ,MAAM,CAAC2V,KAAK,CAAChT,GAAG,CAAC;AACjD,IAAI,CAACxH,aAAa,CAACoV,WAAW,CAAC,CAACvQ,MAAM,CAAC4V,KAAK,CAACjT,GAAG,CAAC;AACjD,IAAI,CAAC5G,cAAc,CAACuU,KAAK,CAAC,CAACvR,EAAE,CAAC,CAAG,CAAC0W,KAAK,CAAEC,KAAK,CAAEC,KAAK,CAAEC,KAAK,CAAC;AAC7D;AACD,IAAK,gBAAgB;AACpB,GAAM,CAAAC,MAAM,CAAG,GAAI,CAAAV,MAAM,CAAC/R,aAAa,CAAC0S,WAAW,CAAE,CAAEjR,OAAO,CAAE,OAAO,CAAEG,CAAC,CAAEA,CAAC,CAAGzD,IAAI,CAACiO,MAAM,CAAC,CAAC,EAAE,CAAC,CAAEvK,CAAC,CAAEA,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAE3D,IAAI,CAAC2D,CAAC,CAAEtE,OAAO,CAAE,GAAG,CAAE8C,KAAK,CAAE,GAAK,CAAC,CAAE,IAAI,CAAC;AAC1J,GAAM,CAAAqS,MAAM,CAAG,GAAI,CAAAZ,MAAM,CAAC/R,aAAa,CAAC4S,WAAW,CAAE,CAAEnR,OAAO,CAAE,OAAO,CAAEG,CAAC,CAAEA,CAAC,CAAGzD,IAAI,CAACiO,MAAM,CAAC,EAAE,CAAC,CAAEvK,CAAC,CAAEA,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAE3D,IAAI,CAAC2D,CAAC,CAAEtE,OAAO,CAAE,GAAG,CAAE8C,KAAK,CAAE,GAAK,CAAC,CAAE,IAAI,CAAC;AACzJ,GAAM,CAAAuS,MAAM,CAAG,GAAI,CAAAd,MAAM,CAAC/R,aAAa,CAAC0S,WAAW,CAAE,CAAEjR,OAAO,CAAE,OAAO,CAAEG,CAAC,CAAEA,CAAC,CAAGzD,IAAI,CAACiO,MAAM,CAAC,EAAE,CAAC,CAAEvK,CAAC,CAAEA,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAE3D,IAAI,CAAC2D,CAAC,CAAEtE,OAAO,CAAE,GAAG,CAAE8C,KAAK,CAAE,GAAK,CAAC,CAAE,IAAI,CAAC;AACzJ,IAAI,CAACvI,aAAa,CAACoV,WAAW,CAAC,CAACvQ,MAAM,CAAC6V,MAAM,CAAClT,GAAG,CAAC;AAClD,IAAI,CAACxH,aAAa,CAACoV,WAAW,CAAC,CAACvQ,MAAM,CAAC+V,MAAM,CAACpT,GAAG,CAAC;AAClD,IAAI,CAACxH,aAAa,CAACoV,WAAW,CAAC,CAACvQ,MAAM,CAACiW,MAAM,CAACtT,GAAG,CAAC;AAClD,IAAI,CAAC5G,cAAc,CAACuU,KAAK,CAAC,CAACvR,EAAE,CAAC,CAAG,CAAC8W,MAAM,CAAEE,MAAM,CAAEE,MAAM,CAAC;AACzD;AACD,IAAK,QAAQ;AACZ,GAAI,CAAAC,UAAU,CAAG,IAAI,CAACna,cAAc,CAACuU,KAAK,CAAC,CAAC,QAAQ,CAAC;AACrD,GAAI,CAAC4F,UAAU,CAAE;AAChBA,UAAU,CAAG,EAAE;AACf,IAAI,CAACna,cAAc,CAACuU,KAAK,CAAC,CAAC,QAAQ,CAAC,CAAG4F,UAAU;AAClD;AACA,GAAI,CAAAC,MAAM,CAAG,IAAI,CAACnc,MAAM,CAACqH,KAAK,CAACiP,KAAK,CAAC,CAACvU,cAAc,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;AACjE,GAAIma,UAAU,CAAC5U,MAAM,CAAG,CAAC,EAAI6U,MAAM,EAAI,CAAC,CAAE;AACzC,GAAM,CAAAC,MAAM,CAAG,GAAI,CAAAjB,MAAM,CAAC/R,aAAa,CAACiT,OAAO,CAAE,CAAExR,OAAO,CAAE,OAAO,CAAEG,CAAC,CAAEA,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEA,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAE3D,IAAI,CAAC2D,CAAC,CAAExB,KAAK,CAAE,GAAK,CAAC,CAAE,IAAI,CAAC;AAC1H,IAAI,CAACvI,aAAa,CAACoV,WAAW,CAAC,CAACvQ,MAAM,CAACoW,MAAM,CAACzT,GAAG,CAAC;AAClDuT,UAAU,CAACjK,IAAI,CAACmK,MAAM,CAAC;AACxB;AACA,GAAIF,UAAU,CAAC5U,MAAM,CAAG,CAAC,EAAI6U,MAAM,EAAI,CAAC,CAAE;AACzC,GAAM,CAAAG,MAAM,CAAG,GAAI,CAAAnB,MAAM,CAAC/R,aAAa,CAACiT,OAAO,CAAE,CAAExR,OAAO,CAAE,OAAO,CAAEG,CAAC,CAAEA,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEA,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAE3D,IAAI,CAAC2D,CAAC,CAAExB,KAAK,CAAE,GAAK,CAAC,CAAE,IAAI,CAAC;AAC1H,IAAI,CAACvI,aAAa,CAACoV,WAAW,CAAC,CAACvQ,MAAM,CAACsW,MAAM,CAAC3T,GAAG,CAAC;AAClDuT,UAAU,CAACjK,IAAI,CAACqK,MAAM,CAAC;AACxB;AACA,GAAIJ,UAAU,CAAC5U,MAAM,CAAG,CAAC,EAAI6U,MAAM,EAAI,CAAC,CAAE;AACzC,GAAM,CAAAI,MAAM,CAAG,GAAI,CAAApB,MAAM,CAAC/R,aAAa,CAACiT,OAAO,CAAE,CAAExR,OAAO,CAAE,OAAO,CAAEG,CAAC,CAAEA,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEA,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAE3D,IAAI,CAAC2D,CAAC,CAAExB,KAAK,CAAE,GAAK,CAAC,CAAE,IAAI,CAAC;AAC1H,IAAI,CAACvI,aAAa,CAACoV,WAAW,CAAC,CAACvQ,MAAM,CAACuW,MAAM,CAAC5T,GAAG,CAAC;AAClDuT,UAAU,CAACjK,IAAI,CAACsK,MAAM,CAAC;AACxB;AACA;AACD,IAAK,aAAa;AACjB,GAAI,CAAAC,WAAW,CAAG,IAAI,CAACza,cAAc,CAACuU,KAAK,CAAC,CAAC,aAAa,CAAC;AAC3D,GAAI,CAACkG,WAAW,CAAE;AACjBA,WAAW,CAAG,EAAE;AAChB,IAAI,CAACza,cAAc,CAACuU,KAAK,CAAC,CAAC,aAAa,CAAC,CAAGkG,WAAW;AACxD;AACA,GAAI,CAAAC,YAAY,CAAG,IAAI,CAACzc,MAAM,CAACqH,KAAK,CAACiP,KAAK,CAAC,CAACvU,cAAc,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC;AAC5E,GAAIya,WAAW,CAAClV,MAAM,CAAG,CAAC,EAAImV,YAAY,EAAI,CAAC,CAAE;AAChD,GAAM,CAAAC,OAAO,CAAG,GAAI,CAAAvB,MAAM,CAAC/R,aAAa,CAACuT,aAAa,CAAE,CAAE9R,OAAO,CAAE,OAAO,CAAEG,CAAC,CAAEA,CAAC,CAAG,CAAC,CAAEC,CAAC,CAAEA,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAE3D,IAAI,CAAC2D,CAAC,CAAExB,KAAK,CAAE,GAAK,CAAC,CAAE,IAAI,CAAC;AAChI,IAAI,CAACvI,aAAa,CAACoV,WAAW,CAAC,CAACvQ,MAAM,CAAC0W,OAAO,CAAC/T,GAAG,CAAC;AACnD6T,WAAW,CAACvK,IAAI,CAACyK,OAAO,CAAC;AAC1B;AACA,GAAIF,WAAW,CAAClV,MAAM,CAAG,CAAC,EAAImV,YAAY,EAAI,CAAC,CAAE;AAChD,GAAM,CAAAG,OAAO,CAAG,GAAI,CAAAzB,MAAM,CAAC/R,aAAa,CAACuT,aAAa,CAAE,CAAE9R,OAAO,CAAE,OAAO,CAAEG,CAAC,CAAEA,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEA,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAE3D,IAAI,CAAC2D,CAAC,CAAExB,KAAK,CAAE,GAAK,CAAC,CAAE,IAAI,CAAC;AACjI,IAAI,CAACvI,aAAa,CAACoV,WAAW,CAAC,CAACvQ,MAAM,CAAC4W,OAAO,CAACjU,GAAG,CAAC;AACnD6T,WAAW,CAACvK,IAAI,CAAC2K,OAAO,CAAC;AAC1B;AACA;AACD,IAAK,WAAW;AACf,GAAM,CAAAC,GAAG,CAAG,GAAI,CAAA1B,MAAM,CAAC/R,aAAa,CAACyT,GAAG,CAAE,CAAEhS,OAAO,CAAE,OAAO,CAAEG,CAAC,CAAEA,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEA,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAE3D,IAAI,CAAC2D,CAAC,CAAEtE,OAAO,CAAE,GAAG,CAAE8C,KAAK,CAAE,GAAK,CAAC,CAAE,IAAI,CAAC;AACjI,IAAI,CAACvI,aAAa,CAACoV,WAAW,CAAC,CAACvQ,MAAM,CAAC6W,GAAG,CAAClU,GAAG,CAAC;AAC/C,IAAI,CAAC5G,cAAc,CAACuU,KAAK,CAAC,CAACvR,EAAE,CAAC,CAAG,CAAC8X,GAAG,CAAC;AACtC;AACD;AACD,CAAC,CAAApX,MAAA;AACDqX,mBAAmB,CAAnB,SAAAA,mBAAmBA,CAACxG,KAAa,CAAEvR,EAAM,CAAE;AAC1C,GAAI,CAAC,IAAI,CAAC3E,SAAS,CAAE;AACrB,GAAI,IAAI,CAAC2B,cAAc,CAACuU,KAAK,CAAC,CAACvR,EAAE,CAAC,CAAE,SAAAgY,IAAA,GAAAC,sBAAA;AACd,IAAI,CAACjb,cAAc,CAACuU,KAAK,CAAC,CAACvR,EAAE,CAAC,CAAAgY,IAAA,CAAAC,sBAAA,CAAA1V,MAAA,CAAAyV,IAAA,IAA9C,GAAM,CAAArV,MAAM,CAAAsV,sBAAA,CAAAD,IAAA,EAAoCrV,MAAM,CAAC4N,OAAO,CAAC,CAAC,CAAC;AACtE,MAAO,KAAI,CAACvT,cAAc,CAACuU,KAAK,CAAC,CAACvR,EAAE,CAAC;AACtC;AACD,CAAC,CAAAU,MAAA;AACDoC,mBAAmB,CAAnB,SAAAA,mBAAmBA,CAAA,CAAG,CAAE,IAAK,GAAI,CAAAyO,KAAK,CAAG,CAAC,CAAEA,KAAK,CAAG,IAAI,CAACvU,cAAc,CAACuF,MAAM,CAAEgP,KAAK,EAAE,CAAE;AACvF,IAAK,GAAM,CAAAvR,EAAE,GAAI,KAAI,CAAChD,cAAc,CAACuU,KAAK,CAAC,CAAE,CAAE,IAAI,CAACwG,mBAAmB,CAACxG,KAAK,CAAEvR,EAAQ,CAAC,CAAE;AAC1F,IAAK,GAAM,CAAAA,GAAE,GAAI,KAAI,CAAC/E,MAAM,CAACqH,KAAK,CAACiP,KAAK,CAAC,CAACvU,cAAc,CAAE,CAAE,IAAI,CAACkZ,gBAAgB,CAAC3E,KAAK,CAAEvR,GAAE,CAAQ,IAAI,CAAC,CAAE;AAC3G;AACD,CAAC,CAAAU,MAAA;;AAEDwX,QAAQ,CAAR,SAAAA,QAAQA,CAAC3Y,OAAgB,CAAE4Y,KAAa,CAAE;AACzC,GAAM,CAAAC,MAAM,CAAGla,SAAS,CAAC2M,UAAU,CAACsN,KAAK,CAAC,CAAC9J,KAAK,CAAC,GAAG,CAAC,CAACxF,GAAG,CAAC,SAAAyF,IAAI;AAChDpN,GAAG,CAACC,cAAc,kBAAiBkX,kBAAkB,CAAC/J,IAAI,CAAC,iBAAcA,IAAI;AAC3F,CAAC,CAACgK,IAAI,CAAC,GAAG,CAAC;AACX,IAAI,CAACC,UAAU,CAAChZ,OAAO,CAAE6Y,MAAM,CAAE,SAAS,CAAC;AAC5C,CAAC,CAAA1X,MAAA;AACD6X,UAAU,CAAV,SAAAA,UAAUA,CAAChZ,OAAgB,CAAE6Y,MAAc,CAAE9J,IAAiD,CAAE;AAC/F,GAAI,CAAC,IAAI,CAACjT,SAAS,CAAE;AACrB,GAAI,CAAAiJ,OAAO,CAAGtG,CAAC,CAAC,qBAAqB,CAAGsQ,IAAI,CAAG,kBAAkB,CAAG8J,MAAM,CAAG,iBAAiB,CAAC;AAC/F,IAAI,CAAC9b,GAAG,CAAC2E,MAAM,CAACqD,OAAO,CAAC;AACxBA,OAAO,CAACc,KAAK,CAAC,IAAI,CAACxH,UAAU,CAAC,CAACgE,GAAG,CAAC;AAClCkE,OAAO,CAAE,OAAO;AAChBjE,OAAO,CAAE,CAAC;AACVwE,GAAG,CAAE9G,OAAO,CAACoD,MAAM,CAAC0D,GAAG,CAAG,CAAC;AAC3BD,IAAI,CAAE7G,OAAO,CAACoD,MAAM,CAACyD,IAAI,CAAG;AAC7B,CAAC,CAAC,CAACf,OAAO,CAAC,CAAExD,OAAO,CAAE,CAAG,CAAC,CAAE,CAAC,CAAC;AAC9ByC,OAAO,CAACe,OAAO,CAAC;AACfxD,OAAO,CAAE,CAAC;AACVwE,GAAG,CAAE9G,OAAO,CAACoD,MAAM,CAAC0D,GAAG,CAAG;AAC3B,CAAC,CAAE,IAAI,CAAE,OAAO,CAAC;AACjB,IAAI,CAAC5C,IAAI,CAAC,IAAI,CAACnI,YAAY,CAAG,CAAC,CAAG,GAAG,CAAG,GAAG,CAAC;AAC5CiE,OAAO,CAACoD,MAAM,CAACmN,aAAa,CAACvQ,OAAO,CAAC;AACrC,GAAI,IAAI,CAACjE,YAAY,CAAG,CAAC,CAAE,IAAI,CAACkK,OAAO,CAAClB,OAAO,CAAC;AACjD,CAAC,CAAA5D,MAAA;AACD8X,mBAAmB,CAAnB,SAAAA,mBAAmBA,CAACjZ,OAAgB,CAAE6Y,MAAc,CAAE;AACrD,GAAI,CAAC,IAAI,CAAC/c,SAAS,CAAE;AACrB,IAAI,CAACiB,GAAG,CAAC2E,MAAM,gDAA8CmX,MAAM,kBAAiB,CAAC;AACrF,GAAI,CAAA9T,OAAO,CAAG,IAAI,CAAChI,GAAG,CAACkI,QAAQ,CAAC,CAAC,CAACC,IAAI,CAAC,CAAC;AACxCH,OAAO,CAACc,KAAK,CAAC,IAAI,CAACxH,UAAU,CAAC,CAACgE,GAAG,CAAC;AAClCkE,OAAO,CAAE,OAAO;AAChBjE,OAAO,CAAE,CAAC;AACVwE,GAAG,CAAE9G,OAAO,CAACoD,MAAM,CAAC0D,GAAG,CAAG,EAAE;AAC5BD,IAAI,CAAE7G,OAAO,CAACoD,MAAM,CAACyD,IAAI,CAAG;AAC7B,CAAC,CAAC,CAACf,OAAO,CAAC,CAAExD,OAAO,CAAE,CAAG,CAAC,CAAE,CAAC,CAAC;AAC9ByC,OAAO,CAACc,KAAK,CAAC,GAAG,CAAC,CAACC,OAAO,CAAC,CAAExD,OAAO,CAAE,CAAG,CAAC,CAAE,GAAG,CAAE,OAAO,CAAC;AACzD,IAAI,CAAC4B,IAAI,CAAC,GAAG,CAAC;AACdlE,OAAO,CAACoD,MAAM,CAACmN,aAAa,CAACvQ,OAAO,CAAC;AACrC,GAAI,IAAI,CAACjE,YAAY,CAAG,CAAC,CAAE,IAAI,CAACkK,OAAO,CAAClB,OAAO,CAAC;AACjD,CAAC,CAAA5D,MAAA;AACD+X,UAAU,CAAV,SAAAA,UAAUA,CAAClZ,OAAgB,CAAEmZ,MAAuB,CAAE;AACrD,GAAI,CAAC,IAAI,CAACrd,SAAS,CAAE;AACrB,GAAI,CAACkE,OAAO,CAACoD,MAAM,CAACgW,QAAQ,CAAE;AAC9BpZ,OAAO,CAACoD,MAAM,CAACiW,YAAY,CAACrZ,OAAO,CAAC;AACpC,GAAI,CAAAsZ,GAAG,CAAGtZ,OAAO,CAACoD,MAAM,CAACgW,QAAQ,CAAClX,IAAI,CAAC,QAAQ,CAAC;AAChD,GAAI,CAAA8E,CAAC,CAAGhH,OAAO,CAACuZ,OAAO,CAAC,GAAG,CAAC;AAC5B,GAAI,CAAAC,OAAO,CAAG/d,WAAW,CAACge,UAAU,CAACzZ,OAAO,CAAC;AAC7C,GAAI,CAAA0Z,QAAQ;AACZ,GAAIF,OAAO,GAAK,GAAG,CAAE,CAAEE,QAAQ,CAAG,QAAAA,CAAA,CAAM,CAAEJ,GAAG,CAAC5a,QAAQ,CAAC,WAAW,CAAC,CAAE,CAAC,CAAE;AACxE,GAAI8a,OAAO,GAAK,GAAG,CAAE,CAAEE,QAAQ,CAAG,QAAAA,CAAA,CAAM,CAAEJ,GAAG,CAAC5a,QAAQ,CAAC,kBAAkB,CAAC,CAAE,CAAC,CAAC;AAC9E,GAAIya,MAAM,GAAK,MAAM,EAAInZ,OAAO,CAACkL,EAAE,CAAG,CAAC,CAAEiO,MAAM,CAAG,KAAK;AACvD,IAAI,CAACH,UAAU,CAAChZ,OAAO,CAAE,IAAI,CAACtE,MAAM,CAACqM,YAAY,CAAG,QAAQ,WAAaoR,MAAQ,CAAE,KAAK,CAAC;AACzFG,GAAG,CAACxT,OAAO,CAAC;AACXiB,KAAK,CAAEC,CAAC;AACR,oBAAoB,CAAEA,CAAC,CAAG,CAAC,CAAG;AAC/B,CAAC,CAAE,GAAG,CAAE0S,QAAQ,CAAC;AAClB,CAAC,CAAAvY,MAAA;AACDwY,QAAQ,CAAR,SAAAA,QAAQA,CAAC3Z,OAAgB,CAAEmZ,MAAuB,CAAE;AACnD,GAAI,CAAC,IAAI,CAACrd,SAAS,CAAE;AACrB,GAAI,CAACkE,OAAO,CAACoD,MAAM,CAACgW,QAAQ,CAAE;AAC9BpZ,OAAO,CAACoD,MAAM,CAACiW,YAAY,CAACrZ,OAAO,CAAC;AACpC,GAAI,CAAAsZ,GAAG,CAAGtZ,OAAO,CAACoD,MAAM,CAACgW,QAAQ,CAAClX,IAAI,CAAC,QAAQ,CAAC;AAChD,GAAI,CAAA8E,CAAC,CAAGhH,OAAO,CAACuZ,OAAO,CAAC,GAAG,CAAC;AAC5B,GAAI,CAAAC,OAAO,CAAG/d,WAAW,CAACge,UAAU,CAACzZ,OAAO,CAAC;AAC7C,GAAI,CAAA0Z,QAAQ;AACZ,GAAIF,OAAO,GAAK,GAAG,CAAE,CAAEE,QAAQ,CAAG,QAAAA,CAAA,CAAM,CAAEJ,GAAG,CAACM,WAAW,CAAC,kBAAkB,CAAC,CAAE,CAAC,CAAE;AAClF,GAAIJ,OAAO,GAAK,GAAG,CAAE,CAAEE,QAAQ,CAAG,QAAAA,CAAA,CAAM,CAAEJ,GAAG,CAACM,WAAW,CAAC,QAAQ,CAAC,CAAE,CAAC,CAAE;AACxE,IAAI,CAACZ,UAAU,CAAChZ,OAAO,CAAE,IAAI,CAACtE,MAAM,CAACqM,YAAY,CAAG,MAAM,KAAOoR,MAAQ,CAAE,MAAM,CAAC;AAClFG,GAAG,CAACxT,OAAO,CAAC;AACXiB,KAAK,CAAEC,CAAC;AACR,oBAAoB,CAAEA,CAAC,CAAG,CAAC,CAAG;AAC/B,CAAC,CAAE,GAAG,CAAE0S,QAAQ,CAAC;AAClB,CAAC,CAAAvY,MAAA;;AAED0Y,YAAY,CAAZ,SAAAA,YAAYA,CAAC7Z,OAAgB,CAAES,EAAM,CAAEwU,OAAiB,CAAE,CAAE,MAAO,CAAAjV,OAAO,CAACoD,MAAM,CAACyW,YAAY,CAACpZ,EAAE,CAAEwU,OAAO,CAAC,CAAE,CAAC,CAAA9T,MAAA;AAC9G2Y,SAAS,CAAT,SAAAA,SAASA,CAAC9Z,OAAgB,CAAES,EAAM,CAAEwU,OAAiB,CAAE,CAAE,MAAO,CAAAjV,OAAO,CAACoD,MAAM,CAAC0W,SAAS,CAACrZ,EAAE,CAAEwU,OAAO,CAAC,CAAE,CAAC,CAAA9T,MAAA;AACxG4Y,UAAU,CAAV,SAAAA,UAAUA,CAAC/Z,OAAgB,CAAEga,IAAY,CAAE/E,OAAiB,CAAE,CAAE,MAAO,CAAAjV,OAAO,CAACoD,MAAM,CAAC2W,UAAU,CAAC/Z,OAAO,CAAEga,IAAI,CAAE/E,OAAO,CAAC,CAAE,CAAC,CAAA9T,MAAA;AAC3H8Y,YAAY,CAAZ,SAAAA,YAAYA,CAACja,OAAgB,CAAEiV,OAAiB,CAAE,CAAE,MAAO,CAAAjV,OAAO,CAACoD,MAAM,CAAC6W,YAAY,CAACja,OAAO,CAAEiV,OAAO,CAAC,CAAE,CAAC,CAAA9T,MAAA;AAC3G+Y,UAAU,CAAV,SAAAA,UAAUA,CAACla,OAAgB,CAAEga,IAAY,CAAE,CAAE,MAAO,CAAAha,OAAO,CAACoD,MAAM,CAAC8W,UAAU,CAACla,OAAO,CAAEga,IAAI,CAAC,CAAE,CAAC,CAAA7Y,MAAA;AAC/FgZ,WAAW,CAAX,SAAAA,WAAWA,CAACna,OAAgB,CAAE,CAAE,MAAO,CAAAA,OAAO,CAACoD,MAAM,CAAC+W,WAAW,CAACna,OAAO,CAAC,CAAE,CAAC,CAAAmB,MAAA;AAC7EiZ,YAAY,CAAZ,SAAAA,YAAYA,CAACpa,OAAgB,CAAEqa,WAAqB,CAAE,CAAE,MAAO,CAAAra,OAAO,CAACoD,MAAM,CAACgX,YAAY,CAACpa,OAAO,CAAEqa,WAAW,CAAC,CAAE,CAAC,CAAAlZ,MAAA;AACnHoP,aAAa,CAAb,SAAAA,aAAaA,CAACvQ,OAAgB,CAAEsa,YAAsB,CAAEC,QAAkB,CAAE,CAAE,MAAO,CAAAva,OAAO,CAACoD,MAAM,CAACmN,aAAa,CAACvQ,OAAO,CAAEsa,YAAY,CAAEC,QAAQ,CAAC,CAAE,CAAC,CAAApZ,MAAA;AACrJqZ,qBAAqB,CAArB,SAAAA,qBAAqBA,CAACxa,OAAgB,CAAEsa,YAAsB,CAAEC,QAAkB,CAAE,CAAE,MAAO,CAAAva,OAAO,CAACoD,MAAM,CAACoX,qBAAqB,CAACxa,OAAO,CAAEsa,YAAY,CAAEC,QAAQ,CAAC,CAAE,CAAC,CAAApZ,MAAA;AACrKsZ,aAAa,CAAb,SAAAA,aAAaA,CAACza,OAAgB,CAAE0a,cAAwB,CAAEC,WAAqB,CAAE,CAAE,MAAO,CAAA3a,OAAO,CAACoD,MAAM,CAACqX,aAAa,CAACza,OAAO,CAAE0a,cAAc,CAAEC,WAAW,CAAC,CAAE,CAAC,CAAAxZ,MAAA;AAC/JyZ,YAAY,CAAZ,SAAAA,YAAYA,CAAC5a,OAAgB,CAAE,CAAE,MAAO,CAAAA,OAAO,CAACoD,MAAM,CAACwX,YAAY,CAAC,CAAC,CAAE,CAAC,CAAAzZ,MAAA;AACxE0Z,eAAe,CAAf,SAAAA,eAAeA,CAAC7a,OAAgB,CAAE,CAAE,MAAO,CAAAA,OAAO,CAACoD,MAAM,CAACyX,eAAe,CAAC,CAAC,CAAE,CAAC,CAAA1Z,MAAA;AAC9E2Z,SAAS,CAAT,SAAAA,SAASA,CAAC9a,OAAgB,CAAE,CAAE,MAAO,CAAAA,OAAO,CAACoD,MAAM,CAAC0X,SAAS,CAAC9a,OAAO,CAAC,CAAC,CAAC,CAAAmB,MAAA;AACxE4Z,SAAS,CAAT,SAAAA,SAASA,CAAC/a,OAAgB,CAAE,CAAE,MAAO,CAAAA,OAAO,CAACoD,MAAM,CAAC2X,SAAS,CAAC,CAAC,CAAE,CAAC,CAAA5Z,MAAA;AAClEkI,IAAI,CAAJ,SAAAA,IAAIA,CAACrJ,OAAgB,CAAE0E,GAAa,CAAEC,UAAmB,CAAE,CAAE,MAAO,CAAA3E,OAAO,CAACoD,MAAM,CAACiG,IAAI,CAAC3E,GAAG,CAAEC,UAAU,CAAC,CAAE,CAAC,CAAAxD,MAAA;AAC3G6Z,UAAU,CAAV,SAAAA,UAAUA,CAAChb,OAAgB,CAAE,CAAE,MAAO,CAAAA,OAAO,CAACoD,MAAM,CAAC4X,UAAU,CAAC,CAAC,CAAE,CAAC,CAAA7Z,MAAA;AACpE8Z,SAAS,CAAT,SAAAA,SAASA,CAACjb,OAAgB,CAAE,CAAE,MAAO,CAAAA,OAAO,CAACoD,MAAM,CAAC6X,SAAS,CAAC,CAAC,CAAE,CAAC,CAAA9Z,MAAA;;AAElE+Z,YAAY,CAAZ,SAAAA,YAAYA,CAACjT,IAAS,CAAE;AACvB,IAAI,CAAChK,cAAc,CAAG,IAAI;AAC1B,IAAI,CAACtC,MAAM,CAACsM,IAAI,CAACA,IAAI,CAAC;AACvB,CAAC,CAAA9G,MAAA;AACDga,eAAe,CAAf,SAAAA,eAAeA,CAAClT,IAAS,CAAE;AAC1B,IAAI,CAAChK,cAAc,CAAG,IAAI;AAC1B,GAAI,CAAAmd,SAAS,CAAG,IAAI,CAACzf,MAAM,CAAC0f,MAAM,CAAC,CAAC,CAACpW,QAAQ,CAAC,kBAAkB,CAAC;AACjEmW,SAAS,CAACnT,IAAI,CAACA,IAAI,CAAC;AACrB,CAAC,CAAA9G,MAAA;AACDma,YAAY,CAAZ,SAAAA,YAAYA,CAACtW,GAAW,CAAE,KAAAuW,MAAA;AACzB,GAAI,CAAAC,KAAK,CAAGxW,GAAG,CAACyW,OAAO,CAAC,cAAc,CAAE,EAAE,CAAC,CAACA,OAAO,CAAC,KAAK,CAAE,GAAG,CAAC;AAC/D,GAAI,IAAI,CAAC1d,YAAY,CAACyd,KAAK,CAAC,CAAE,CAAE,OAAQ;AACxC,IAAI,CAAC7d,aAAa,EAAE;AACpB,IAAI,CAACI,YAAY,CAACyd,KAAK,CAAC,CAAG,GAAI,CAAAE,KAAK,CAAC,CAAC;AACtC,IAAI,CAAC3d,YAAY,CAACyd,KAAK,CAAC,CAACG,MAAM,CAAG,UAAM,CAAEJ,MAAI,CAAC7d,WAAW,EAAE,CAAE,CAAC;AAC/D,IAAI,CAACK,YAAY,CAACyd,KAAK,CAAC,CAACI,GAAG,CAAG5W,GAAG;AACnC,CAAC,CAAA7D,MAAA;AACDD,cAAc,CAAd,SAAAA,cAAcA,CAAA,CAAG;AAChB,IAAK,GAAI,CAAAyK,CAAC,GAAI,CAAA7G,aAAa,CAAE;AAC5B,GAAI6G,CAAC,GAAK,OAAO,EAAIA,CAAC,GAAK,OAAO,CAAE;AACpC,GAAM,CAAA3G,GAAG,CAAGF,aAAa,CAAC6G,CAAC,CAAC,CAAC3G,GAAG;AAChC,GAAIA,GAAG,CAAE,IAAI,CAACsW,YAAY,CAACtW,GAAG,CAAC;AAChC;AACA,IAAI,CAACsW,YAAY,CAAC3Z,GAAG,CAACC,cAAc,CAAG,4BAA4B,CAAC;AACpE,IAAI,CAAC0Z,YAAY,CAAC3Z,GAAG,CAACC,cAAc,CAAG,iCAAiC,CAAC;AAC1E,CAAC,CAAAT,MAAA;AACD0a,OAAO,CAAP,SAAAA,OAAOA,CAAA,CAAG,CAAE,IAAI,CAACtR,MAAM,CAAC,CAAC,CAAG,IAAI,CAACpO,SAAS,CAAG,EAAE,CAAC,CAAE,CAAC,CAAAgF,MAAA;AACnDoJ,MAAM,CAAN,SAAAA,MAAMA,CAACzM,MAAc,CAAE;AACtB,GAAI,IAAI,CAACA,MAAM,GAAKA,MAAM,CAAE;AAC5B,IAAI,CAACA,MAAM,CAAGA,MAAM;AACpB,OAAQA,MAAM;AACd,IAAK,CAAC,CAAC,CAAE,IAAI,CAACF,GAAG,CAAGqG,WAAW,CAAC6X,OAAO,CAAC,6BAA6B,CAAE,IAAI,CAAE,KAAK,CAAE,IAAI,CAACle,GAAG,CAAC;AAC5F;AACD,IAAK,CAAC,CAAC,CAAE,IAAI,CAACA,GAAG,CAAGqG,WAAW,CAAC6X,OAAO,CAAC,sBAAsB,CAAE,IAAI,CAAE,KAAK,CAAE,IAAI,CAACle,GAAG,CAAC;AACrF;AACD,IAAK,CAAC,CAAC,CAAE,IAAI,CAACA,GAAG,CAAGqG,WAAW,CAAC6X,OAAO,CAAC,6BAA6B,CAAE,GAAG,CAAE,KAAK,CAAE,IAAI,CAACle,GAAG,CAAC;AAC3F;AACD,IAAK,EAAC,CAAE,IAAI,CAACA,GAAG,CAAGqG,WAAW,CAAC6X,OAAO,CAAC,uBAAuB,CAAE,KAAK,CAAE,KAAK,CAAE,IAAI,CAACle,GAAG,CAAC;AACtF;AACD,IAAK,EAAC,CAAE,IAAI,CAACA,GAAG,CAAGqG,WAAW,CAAC6X,OAAO,CAAC,qBAAqB,CAAE,KAAK,CAAE,KAAK,CAAE,IAAI,CAACle,GAAG,CAAC;AACpF;AACD,IAAK,EAAC,CAAE,IAAI,CAACA,GAAG,CAAGqG,WAAW,CAAC6X,OAAO,CAAC,8BAA8B,CAAE,KAAK,CAAE,MAAM,CAAE,IAAI,CAACle,GAAG,CAAC;AAC9F;AACD,IAAK,EAAC,CAAE,IAAI,CAACA,GAAG,CAAGqG,WAAW,CAAC6X,OAAO,CAAC,8BAA8B,CAAE,KAAK,CAAE,KAAK,CAAE,IAAI,CAACle,GAAG,CAAC;AAC7F;AACD,IAAK,EAAC,CAAE,IAAI,CAACA,GAAG,CAAGqG,WAAW,CAAC6X,OAAO,CAAC,sBAAsB,CAAE,KAAK,CAAE,MAAM,CAAE,IAAI,CAACle,GAAG,CAAC;AACtF;AACD,IAAK,EAAC,CAAE,IAAI,CAACA,GAAG,CAAGqG,WAAW,CAAC6X,OAAO,CAAC,oBAAoB,CAAE,KAAK,CAAE,KAAK,CAAE,IAAI,CAACle,GAAG,CAAC;AACnF;AACD,IAAK,EAAC,CAAE,IAAI,CAACA,GAAG,CAAGqG,WAAW,CAAC6X,OAAO,CAAC,6BAA6B,CAAE,KAAK,CAAE,MAAM,CAAE,IAAI,CAACle,GAAG,CAAC;AAC7F;AACD,IAAK,EAAC,CAAE,IAAI,CAACA,GAAG,CAAGqG,WAAW,CAAC6X,OAAO,CAAC,gCAAgC,CAAE,KAAK,CAAE,KAAK,CAAE,IAAI,CAACle,GAAG,CAAC;AAC/F;AACD,IAAK,EAAC,CAAE,IAAI,CAACA,GAAG,CAAGqG,WAAW,CAAC6X,OAAO,CAAC,qBAAqB,CAAE,IAAI,CAAE,KAAK,CAAE,IAAI,CAACle,GAAG,CAAC;AACnF;AACD,IAAK,GAAE,CAAE,IAAI,CAACA,GAAG,CAAGqG,WAAW,CAAC6X,OAAO,CAAC,sBAAsB,CAAE,IAAI,CAAE,KAAK,CAAE,IAAI,CAACle,GAAG,CAAC;AACrF;AACD,IAAK,GAAE,CAAE,IAAI,CAACA,GAAG,CAAGqG,WAAW,CAAC6X,OAAO,CAAC,oBAAoB,CAAE,IAAI,CAAE,KAAK,CAAE,IAAI,CAACle,GAAG,CAAC;AACnF;AACD,IAAK,GAAE,CAAE,IAAI,CAACA,GAAG,CAAGqG,WAAW,CAAC6X,OAAO,CAAC,wBAAwB,CAAE,KAAK,CAAE,KAAK,CAAE,IAAI,CAACle,GAAG,CAAC;AACxF;AACD,IAAK,GAAE,CAAE,IAAI,CAACA,GAAG,CAAGqG,WAAW,CAAC6X,OAAO,CAAC,sBAAsB,CAAE,KAAK,CAAE,KAAK,CAAE,IAAI,CAACle,GAAG,CAAC;AACtF;AACD,IAAK,GAAE,CAAE,IAAI,CAACA,GAAG,CAAGqG,WAAW,CAAC6X,OAAO,CAAC,sBAAsB,CAAE,IAAI,CAAE,KAAK,CAAE,IAAI,CAACle,GAAG,CAAC;AACrF;AACD,IAAK,CAAC,GAAG,CAAE,IAAI,CAACA,GAAG,CAAGqG,WAAW,CAAC6X,OAAO,CAAC,sBAAsB,CAAE,IAAI,CAAE,MAAM,CAAE,IAAI,CAACle,GAAG,CAAC;AACxF;AACD,IAAK,GAAE;AACN,QAAS,IAAI,CAACA,GAAG,CAAGqG,WAAW,CAAC6X,OAAO,CAAC,oBAAoB,CAAE,KAAK,CAAE,KAAK,CAAE,IAAI,CAACle,GAAG,CAAC;AACrF;AACD;AACA,IAAI,CAAC8F,SAAS,CAAC,CAAC;AACjB,CAAC,CAAAvC,MAAA;AACDuC,SAAS,CAAT,SAAAA,SAASA,CAAA,CAAG;;;;;;;;;;AAUX,GAAM,CAAAqY,UAAU,CAAK,IAAI,CAACrgB,MAAM,CAACya,IAAI,EAAI,CAAC,EAAI,CAAC,IAAI,CAACza,MAAM,CAACsX,KAAK,EAAI,CAAC,IAAI,CAACtX,MAAM,CAACsgB,MAAQ;AACzF,GAAID,UAAU,CAAE;AACf,GAAI,CAAC,IAAI,CAACne,GAAG,CAAE,IAAI,CAACie,OAAO,CAAC,CAAC;AAC7B,IAAI,CAACje,GAAG,CAAEmG,MAAM,CAAC,CAAC;AACnB,CAAC,IAAM,IAAI,IAAI,CAACnG,GAAG,CAAE,CAAE,IAAI,CAACA,GAAG,CAAC4F,KAAK,CAAC,CAAC,CAAE;AAC1C,CAAC,CAAArC,MAAA;AACD8a,QAAQ,CAAR,SAAAA,QAAQA,CAAA,CAAG,CAAE,GAAI,IAAI,CAACre,GAAG,CAAE,IAAI,CAACA,GAAG,CAACse,IAAI,CAAC,CAAC,CAAE,CAAC,CAAA/a,MAAA;AAC7C6P,OAAO,CAAP,SAAAA,OAAOA,CAAA,CAAG;AACT,IAAI,CAAC1U,GAAG,CAAC0U,OAAO,CAAC,CAAC;AAClB,GAAI,IAAI,CAACrV,MAAM,CAAE;AAChB,IAAI,CAACA,MAAM,CAAC8F,KAAK,CAAC,CAAC;;AAEnB,IAAI,CAAC9F,MAAM,CAACgH,GAAG,CAAC,CAAC;AAClB;AACA,GAAI,IAAI,CAAC/E,GAAG,CAAE;AACb,IAAI,CAACA,GAAG,CAACoT,OAAO,CAAC,CAAC;AAClB,IAAI,CAACpT,GAAG,CAAG,IAAI;AAChB;AACA,IAAI,CAAClC,MAAM,CAAG,IAAK;AACpB,CAAC,CAAAD,WAAA;AACMge,UAAU,CAAjB,QAAO,CAAAA,UAAUA,CAACzZ,OAAsC,CAAE;AACzD,GAAI,CAAAmc,KAAK,CAAGnc,OAAO,CAACkL,EAAE,CAAGlL,OAAO,CAACmL,KAAK;AACtC,GAAIgR,KAAK,CAAG,GAAG,CAAE,MAAO,GAAG;AAC3B,GAAIA,KAAK,CAAG,GAAG,CAAE,MAAO,GAAG;AAC3B,MAAO,GAAG;AACX,CAAC,QAAA1gB,WAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2BWob,MAAM;;;;;;;AAOlB,SAAAA,OAAYrE,UAA6B,CAAE9M,GAAiB,CAAE0W,KAAkB,CAAE,MANlFA,KAAK,aACL/X,GAAG,CAAW,IAAI,MAClBgY,EAAE,aACF3V,CAAC,aACDC,CAAC,aACDC,CAAC;AAEA,IAAI,CAACwV,KAAK,CAAGA,KAAK;AAClB,GAAI,CAAAC,EAAE,CAAG,IAAI;AACb,GAAI7J,UAAU,CAAE;AACf6J,EAAE,CAAG7J,UAAU;AACf,GAAI,CAAA8J,OAAO,CAAGD,EAAE,CAACC,OAAO,gBAAiBD,EAAE,CAACrX,GAAG,gDAA4CqX,EAAE,CAACE,SAAS,CAAG,oBAAoB,CAAG,EAAE,OAAK;AACxI,IAAI,CAAClY,GAAG,CAAG5F,CAAC,CAAC6d,OAAO,CAAC;AACtB,CAAC,IAAM;AACND,EAAE,CAAG;AACJrV,CAAC,CAAE,CAAC;AACJC,CAAC,CAAE,CAAC;AACJjC,GAAG,CAAE;AACN,CAAC;AACF;AACA,IAAI,CAACqX,EAAE,CAAGA,EAAE;AACZ,IAAI,CAAC3V,CAAC,CAAGhB,GAAG,CAACgB,CAAC;AACd,IAAI,CAACC,CAAC,CAAGjB,GAAG,CAACiB,CAAC;AACd,IAAI,CAACC,CAAC,CAAGlB,GAAG,CAACkB,CAAC;AACd,GAAIlB,GAAG,CAACpD,OAAO,GAAK,CAAC,EAAIkQ,UAAU,CAAE,IAAI,CAACnO,GAAG,CAAChC,GAAG,CAAC+Z,KAAK,CAAC1W,GAAG,CAACA,GAAG,CAAE2W,EAAE,CAAC,CAAC;AACrE,GAAI,CAAC7J,UAAU,CAAE;AAChB,IAAI,CAAC3M,KAAK,CAAG,UAAY,CAAE,MAAO,KAAI,CAAE,CAAC;AACzC,IAAI,CAACwD,IAAI,CAAG,UAAY,CAAE,MAAO,KAAI,CAAE,CAAC;AACzC;AACD,CAAC,IAAAmT,OAAA,CAAA3F,MAAA,CAAAzV,SAAA,CAAAob,OAAA;AACDxL,OAAO,CAAP,SAAAA,OAAOA,CAAA,CAAG;AACT,GAAI,IAAI,CAAC3M,GAAG,CAAE,IAAI,CAACA,GAAG,CAAClC,MAAM,CAAC,CAAC;AAC/B,IAAI,CAACkC,GAAG,CAAG,IAAK;AAChB,IAAI,CAAC+X,KAAK,CAAG,IAAK;AACnB,CAAC,CAAAI,OAAA;AACD3W,KAAK,CAAL,SAAAA,KAAKA,CAAC1B,IAAY,CAAE;AACnB,IAAI,CAACE,GAAG,CAACwB,KAAK,CAAC1B,IAAI,CAAC;AACpB,MAAO,KAAI;AACZ,CAAC,CAAAqY,OAAA;AACDnT,IAAI,CAAJ,SAAAA,IAAIA,CAAC3E,GAAa,CAAEC,UAAmB,CAAE;AACxCD,GAAG,CAAAa,MAAA,CAAAC,MAAA;AACFkB,CAAC,CAAE,IAAI,CAACA,CAAC;AACTC,CAAC,CAAE,IAAI,CAACA,CAAC;AACTC,CAAC,CAAE,IAAI,CAACA,CAAC;AACTxB,KAAK,CAAE,CAAC;AACR9C,OAAO,CAAE,CAAC;AACV6B,IAAI,CAAE,GAAG;AACNO,GAAG,CACN;;AACD,GAAIA,GAAG,CAACP,IAAI,GAAK,CAAC,CAAE;AACnB,IAAI,CAACE,GAAG,CAAChC,GAAG,CAAC,IAAI,CAAC+Z,KAAK,CAAC1W,GAAG,CAAChB,GAAG,CAAE,IAAI,CAAC2X,EAAE,CAAC,CAAC;AAC1C,MAAO,KAAI;AACZ;AACA,IAAI,CAAChY,GAAG,CAACyB,OAAO,CAAC,IAAI,CAACsW,KAAK,CAACxW,IAAI,CAAClB,GAAG,CAAE,IAAI,CAAC2X,EAAE,CAAE1X,UAAU,CAAE,IAAI,CAAC,CAAED,GAAG,CAACP,IAAK,CAAC;AAC5E,MAAO,KAAI;AACZ,CAAC,QAAA0S,MAAA;;;AAGW5F,aAAa,UAAAwL,QAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwIzB,SAAAxL,cAAYuB,UAA6B,CAAE9M,GAAiB,CAAE0W,KAAkB,CAAE9X,aAAsB,CAAE,KAAAoY,MAAA;AACzGA,MAAA,CAAAD,QAAA,CAAAE,IAAA,MAAMnK,UAAU,CAAE9M,GAAG,CAAE0W,KAAK,CAAC,OAACM,MAAA,CAnB/BE,KAAK,CAAG,EAAE,CAAAF,MAAA,CACVG,MAAM,CAAuBxW,SAAS,CAAAqW,MAAA,CACtCI,KAAK,CAAsB,IAAI,CAAAJ,MAAA,CAC/BK,IAAI,CAAkB,IAAI,CAAAL,MAAA,CAC1BM,WAAW,CAAG,KAAK,CAAAN,MAAA,CACnBtD,QAAQ,CAAkB,IAAI,CAAAsD,MAAA,CAC9BpY,aAAa,QAAAoY,MAAA,CACbvL,eAAe,CAAG,KAAK,CAAAuL,MAAA,CAKvBO,KAAK,CAAsB,IAAI,CAAAP,MAAA,CAC/BQ,WAAW,CAAG,CAAC,CAAAR,MAAA,CACfS,UAAU,CAAG,CAAC,CAAAT,MAAA,CACd7V,IAAI,CAAG,CAAC,CAAA6V,MAAA,CACR5V,GAAG,CAAG,CAAC,CAAA4V,MAAA,CACPU,OAAO,CAA+B,CAAC,CAAC;AAGvCV,MAAA,CAAKG,MAAM,CAAGH,MAAA,CAAKL,EAAE,CAACQ,MAAM;AAC5BH,MAAA,CAAKpY,aAAa,CAAGA,aAAa,CAAC,OAAAoY,MAAA;AACpC,CAACW,cAAA,CAAApM,aAAA,CAAAwL,QAAA,MAAAa,OAAA,CAAArM,aAAA,CAAA7P,SAAA,CAAAkc,OAAA;AACQtM,OAAO,CAAhB,QAAS,CAAAA,OAAOA,CAAA,CAAG;AAClB,GAAI,IAAI,CAAC3M,GAAG,CAAE,IAAI,CAACA,GAAG,CAAClC,MAAM,CAAC,CAAC;AAC/B,IAAI,CAACkC,GAAG,CAAG,IAAK;AAChB,GAAI,IAAI,CAAC+U,QAAQ,CAAE,IAAI,CAACA,QAAQ,CAACjX,MAAM,CAAC,CAAC;AACzC,IAAI,CAACiX,QAAQ,CAAG,IAAI;AACpB,GAAI,IAAI,CAAC2D,IAAI,CAAE,IAAI,CAACA,IAAI,CAAC5a,MAAM,CAAC,CAAC;AACjC,IAAI,CAAC4a,IAAI,CAAG,IAAI;AAChB,IAAI,CAACX,KAAK,CAAG,IAAK;AACnB,CAAC,CAAAkB,OAAA;AACQzX,KAAK,CAAd,QAAS,CAAAA,KAAKA,CAAC1B,IAAY,CAAE;AAC5B,IAAI,CAACE,GAAG,CAACwB,KAAK,CAAC1B,IAAI,CAAC;AACpB,GAAI,IAAI,CAAC4Y,IAAI,CAAE,IAAI,CAACA,IAAI,CAAClX,KAAK,CAAC1B,IAAI,CAAC;AACpC,MAAO,KAAI;AACZ,CAAC,CAAAmZ,OAAA;AACQjU,IAAI,CAAb,QAAS,CAAAA,IAAIA,CAAC3E,GAAa,CAAEC,UAAmB,CAAE;AACjDD,GAAG,CAAAa,MAAA,CAAAC,MAAA;AACFkB,CAAC,CAAE,IAAI,CAACA,CAAC;AACTC,CAAC,CAAE,IAAI,CAACA,CAAC;AACTC,CAAC,CAAE,IAAI,CAACA,CAAC;AACTxB,KAAK,CAAE,CAAC;AACR9C,OAAO,CAAE,CAAC;AACV6B,IAAI,CAAE,GAAG;AACNO,GAAG,CACN;;AACD,IAAA6Y,IAAA,CAAmB,IAAI,CAACP,WAAW,CAAG,CAAC,IAAI,CAACD,IAAI,CAAG,IAAI,CAACD,KAAK,CAAE,CAAG,CAAC,IAAI,CAACzY,GAAG,CAAE,IAAI,CAACgY,EAAE,CAAC,CAA9EhY,GAAG,CAAAkZ,IAAA,IAAElB,EAAE,CAAAkB,IAAA;AACdlZ,GAAG,CAACyB,OAAO,CAAC,IAAI,CAACsW,KAAK,CAACxW,IAAI,CAAClB,GAAG,CAAE2X,EAAE,CAAE1X,UAAU,CAAE,IAAI,CAAC,CAAED,GAAG,CAACP,IAAK,CAAC;AAClE,MAAO,KAAI;AACZ,CAAC,CAAAmZ,OAAA;;AAEDE,OAAO,CAAP,SAAAA,OAAOA,CAACC,MAAc,CAAE,CAAE,MAAO,KAAI,CAAC/W,CAAC,CAAG,CAAC,IAAI,CAACpC,aAAa,CAAG,CAAC,CAAG,CAAC,CAAC,EAAImZ,MAAM,CAAE,CAAC,CAAAH,OAAA;AACnFI,OAAO,CAAP,SAAAA,OAAOA,CAACD,MAAc,CAAE,CAAE,MAAO,KAAI,CAAC9W,CAAC,CAAG,CAAC,IAAI,CAACrC,aAAa,CAAG,CAAC,CAAC,CAAG,CAAC,EAAImZ,MAAM,CAAE,CAAC,CAAAH,OAAA;AACnFpM,MAAM,CAAN,SAAAA,MAAMA,CAACuM,MAAc,CAAE,CAAE,MAAO,KAAI,CAAC/W,CAAC,CAAG,CAAC,IAAI,CAACpC,aAAa,CAAG,CAAC,CAAG,CAAC,CAAC,EAAImZ,MAAM,CAAE,CAAC,CAAAH,OAAA;AAClFxG,MAAM,CAAN,SAAAA,MAAMA,CAAC2G,MAAc,CAAE,CAAE,MAAO,KAAI,CAAC7W,CAAC,CAAG,CAAC,IAAI,CAACtC,aAAa,CAAG,CAAC,CAAG,CAAC,CAAC,EAAImZ,MAAM,CAAE,CAAC,CAAAH,OAAA;AAClFzC,eAAe,CAAf,SAAAA,eAAeA,CAAA,CAAG;AACjB,GAAI,CAAC,IAAI,CAACuB,KAAK,CAACtgB,SAAS,CAAE;AAC3B,GAAI,CAAC,IAAI,CAACmhB,KAAK,CAAE;AACjB,GAAI,CAAAZ,EAAE,CAAG,IAAI,CAACY,KAAK;AACnB,IAAI,CAACJ,MAAM,CAAGR,EAAE,CAACQ,MAAM;AACvB,IAAI,CAACR,EAAE,CAAGA,EAAE;AACZ,IAAI,CAACY,KAAK,CAAG,IAAI;AACjB,GAAM,CAAA5Y,GAAG,CAAG,IAAI,CAAC2Y,WAAW,CAAG,IAAI,CAACD,IAAI,CAAI,IAAI,CAAC1Y,GAAG;AACpDA,GAAG,CAAC6R,IAAI,CAAC,KAAK,CAAEmG,EAAE,CAACrX,GAAI,CAAC;AACxBX,GAAG,CAAChC,GAAG,CAAC,IAAI,CAAC+Z,KAAK,CAAC1W,GAAG,CAAC;AACtBgB,CAAC,CAAE,IAAI,CAACA,CAAC;AACTC,CAAC,CAAE,IAAI,CAACA,CAAC;AACTC,CAAC,CAAG,IAAI,CAACoW,WAAW,CAAG,IAAI,CAAClG,MAAM,CAAC,EAAE,CAAC,CAAG,IAAI,CAAClQ,CAAE;AAChDtE,OAAO,CAAG,IAAI,CAACya,IAAI,CAAG,GAAG,CAAG;AAC7B,CAAC,CAAEV,EAAE,CAAC,CAAC;AACR,CAAC,CAAAiB,OAAA;AACDK,OAAO,CAAP,SAAAA,OAAOA,CAAC1I,OAAiB,CAAE2I,MAAgB,CAAE;AAC5C,GAAI,CAAC,IAAI,CAACxB,KAAK,CAACtgB,SAAS,CAAE;AAC3B,GAAI,IAAI,CAACihB,IAAI,CAAE;AACf,GAAM,CAAAD,KAAK,CAAGnb,GAAG,CAAC8Q,aAAa,CAAC,YAAY,CAAE,IAAI,CAACnO,aAAa,CAAE;AACjEtI,GAAG,CAAE,IAAI,CAACogB,KAAK,CAACpgB,GAAG;AACnBC,GAAG,CAAE,IAAI,CAACmgB,KAAK,CAACngB;AACjB,CAAC,CAAC;AACF,IAAI,CAAC6gB,KAAK,CAAGA,KAAK;AAClB,IAAI,CAACC,IAAI,CAAGte,CAAC,CAAC,YAAY,CAAGqe,KAAK,CAAC9X,GAAG,CAAG,qDAAqD,EAAI8X,KAAK,CAACP,SAAS,CAAG,oBAAoB,CAAG,EAAE,CAAC,CAAG,KAAK,CAAC;AACvJ,IAAI,CAACH,KAAK,CAACvf,aAAa,CAAC,CAAC,IAAI,CAACyH,aAAa,CAAC,CAAC5C,MAAM,CAAC,IAAI,CAACqb,IAAI,CAAC;AAC/D,IAAI,CAACC,WAAW,CAAG,IAAI;AACvB,GAAI/H,OAAO,CAAE;AACZ,GAAI,CAAC2I,MAAM,CAAE,IAAI,CAAC7C,SAAS,CAAC,CAAC;AAC7B;AACD;AACA,IAAI,CAAC1W,GAAG,CAACyB,OAAO,CAAC,IAAI,CAACsW,KAAK,CAAC1W,GAAG,CAAC;AAC/BgB,CAAC,CAAE,IAAI,CAACA,CAAC;AACTC,CAAC,CAAE,IAAI,CAACA,CAAC;AACTC,CAAC,CAAE,IAAI,CAACkQ,MAAM,CAAC,EAAE,CAAC;AAClBxU,OAAO,CAAE;AACV,CAAC,CAAE,IAAI,CAAC+Z,EAAE,CAAC,CAAE,GAAG,CAAC;AACjB,IAAI,CAACU,IAAI,CAAC1a,GAAG,CAAC,IAAI,CAAC+Z,KAAK,CAAC1W,GAAG,CAAC;AAC5BgB,CAAC,CAAE,IAAI,CAACA,CAAC;AACTC,CAAC,CAAE,IAAI,CAACA,CAAC,CAAG,EAAE;AACdC,CAAC,CAAE,IAAI,CAACA,CAAC;AACTtE,OAAO,CAAE;AACV,CAAC,CAAEwa,KAAK,CAAC,CAAC;AACV,IAAI,CAACC,IAAI,CAACjX,OAAO,CAAC,IAAI,CAACsW,KAAK,CAAC1W,GAAG,CAAC;AAChCgB,CAAC,CAAE,IAAI,CAACA,CAAC;AACTC,CAAC,CAAE,IAAI,CAACA,CAAC;AACTC,CAAC,CAAE,IAAI,CAACA;AACT,CAAC,CAAEkW,KAAK,CAAC,CAAE,GAAG,CAAC;AACf,IAAI,CAACV,KAAK,CAACnW,OAAO,CAAC,IAAI,CAAC8W,IAAI,CAAC;AAC9B,CAAC,CAAAO,OAAA;AACDO,WAAW,CAAX,SAAAA,WAAWA,CAAC5I,OAAiB,CAAE;AAC9B,GAAI,CAAC,IAAI,CAAC8H,IAAI,EAAI,CAAC,IAAI,CAACX,KAAK,CAACtgB,SAAS,CAAE;AACzC,IAAI,CAACkhB,WAAW,CAAG,KAAK;AACxB,GAAI/H,OAAO,CAAE;AACZ,IAAI,CAAC8H,IAAI,CAAC5a,MAAM,CAAC,CAAC;AAClB,IAAI,CAAC4a,IAAI,CAAG,IAAI;AAChB,IAAI,CAAChC,SAAS,CAAC,CAAC;AAChB;AACD;AACA,GAAI,IAAI,CAACqB,KAAK,CAAC/d,UAAU,CAAE;AAC1B,IAAI,CAACgG,GAAG,CAACwB,KAAK,CAAC,IAAI,CAACuW,KAAK,CAAC/d,UAAU,CAAC;AACrC,IAAI,CAAC0e,IAAI,CAAClX,KAAK,CAAC,IAAI,CAACuW,KAAK,CAAC/d,UAAU,CAAC;AACvC;AACA,IAAI,CAAC0e,IAAI,CAACjX,OAAO,CAAC,IAAI,CAACsW,KAAK,CAAC1W,GAAG,CAAC;AAChCgB,CAAC,CAAE,IAAI,CAACA,CAAC;AACTC,CAAC,CAAE,IAAI,CAACA,CAAC,CAAG,EAAE;AACdC,CAAC,CAAE,IAAI,CAACA,CAAC;AACTtE,OAAO,CAAE;AACV,CAAC,CAAE,IAAI,CAACwa,KAAM,CAAC,CAAE,GAAG,CAAC;AACrB,IAAI,CAACC,IAAI,CAAG,IAAI;AAChB,IAAI,CAAC1T,IAAI,CAAC,CAAElF,IAAI,CAAE,GAAI,CAAC,CAAC;AACxB,GAAI,IAAI,CAACiY,KAAK,CAACtgB,SAAS,CAAE,IAAI,CAACsgB,KAAK,CAACnW,OAAO,CAAC,IAAI,CAAC5B,GAAG,CAAC;AACvD,CAAC,CAAAiZ,OAAA;AACDtC,UAAU,CAAV,SAAAA,UAAUA,CAAA,CAAG;AACZ,GAAI,CAAC,IAAI,CAACoB,KAAK,CAACtgB,SAAS,CAAE,MAAO,MAAK;AACvC,GAAI,CAAC,IAAI,CAACkhB,WAAW,CAAE,MAAO,MAAK;AACnC,IAAI,CAACA,WAAW,CAAG,KAAK;AACxB,IAAI,CAAC3T,IAAI,CAAC,CAAElF,IAAI,CAAE,GAAI,CAAC,CAAC;AACxB,IAAI,CAAC4Y,IAAI,CAAEjX,OAAO,CAAC,IAAI,CAACsW,KAAK,CAAC1W,GAAG,CAAC;AACjCgB,CAAC,CAAE,IAAI,CAACwK,MAAM,CAAC,CAAC,EAAE,CAAC;AACnBvK,CAAC,CAAE,IAAI,CAACA,CAAC;AACTC,CAAC,CAAE,IAAI,CAACA,CAAC;AACTtE,OAAO,CAAE;AACV,CAAC,CAAE,IAAI,CAACwa,KAAM,CAAC,CAAE,GAAG,CAAC,CAAC,QAAAgB,IAAA,GAAAC,sBAAA;AACH,IAAI,CAAC3B,KAAK,CAAC1gB,MAAM,CAACqH,KAAK,CAAA+a,IAAA,CAAAC,sBAAA,CAAA/a,MAAA,CAAA8a,IAAA,GAAE,CAAvC,GAAM,CAAA7a,IAAI,CAAA8a,sBAAA,CAAAD,IAAA,UAAAE,IAAA,GAAAC,aAAA,CAAoDhb,IAAI,CAACoH,MAAM,CAAA2T,IAAA,CAAAC,aAAA,CAAAjb,MAAA,CAAAgb,IAAA,GAAE,CAA7B,GAAM,CAAA3T,MAAM,CAAA4T,aAAA,CAAAD,IAAA,EAAmB,GAAI3T,MAAM,EAAIA,MAAM,CAACjH,MAAM,GAAK,IAAI,CAAE,CAAEiH,MAAM,CAACjH,MAAM,CAACyC,KAAK,CAAC,GAAG,CAAC,CAAE,CAAE,CAAE;AACxJ,IAAI,CAACuW,KAAK,CAAClY,IAAI,CAAC,GAAG,CAAC;AACpB,IAAI,CAACkY,KAAK,CAACnW,OAAO,CAAC,IAAI,CAAC5B,GAAG,CAAC;AAC5B,MAAO,KAAI;AACZ,CAAC,CAAAiZ,OAAA;AACDrC,SAAS,CAAT,SAAAA,SAASA,CAAA,CAAG,KAAAiD,MAAA;AACX,GAAI,CAAC,IAAI,CAAC9B,KAAK,CAACtgB,SAAS,CAAE,MAAO,MAAK;AACvC,GAAI,CAAC,IAAI,CAACihB,IAAI,EAAI,IAAI,CAACC,WAAW,CAAE,MAAO,MAAK;AAChD,IAAI,CAACA,WAAW,CAAG,IAAI;AACvB,IAAI,CAACD,IAAI,CAAClX,KAAK,CAAC,GAAG,CAAC;AACpB,IAAI,CAACxB,GAAG,CAACrF,GAAG,CAAC,IAAI,CAAC+d,IAAI,CAAC,CAACtV,OAAO,CAAC,CAAC,CAAC0W,IAAI,CAAC,UAAM;AAC5C,GAAI,CAACD,MAAI,CAACnB,IAAI,EAAI,CAACmB,MAAI,CAAC7Z,GAAG,CAAE;AAC7B6Z,MAAI,CAAC7Z,GAAG,CAACyB,OAAO,CAACoY,MAAI,CAAC9B,KAAK,CAAC1W,GAAG,CAAC;AAC/BgB,CAAC,CAAEwX,MAAI,CAACxX,CAAC;AACTC,CAAC,CAAEuX,MAAI,CAACvX,CAAC;AACTC,CAAC,CAAEsX,MAAI,CAACpH,MAAM,CAAC,EAAE,CAAC;AAClBxU,OAAO,CAAE;AACV,CAAC,CAAE4b,MAAI,CAAC7B,EAAE,CAAC,CAAE,GAAG,CAAC;AACjB6B,MAAI,CAAC7U,IAAI,CAAC,CAAElF,IAAI,CAAE,GAAI,CAAC,CAAC;AACzB,CAAC,CAAC;AACF,MAAO,MAAK;AACb,CAAC,CAAAmZ,OAAA;AACDc,SAAS,CAAT,SAAAA,SAASA,CAAA,CAAG;AACX,GAAI,CAAC,IAAI,CAACrB,IAAI,CAAE;AAChB,IAAI,CAACC,WAAW,CAAG,KAAK;AACxB,GAAI,CAAC,IAAI,CAACZ,KAAK,CAACtgB,SAAS,CAAE,CAAE,IAAI,CAACihB,IAAI,CAAC5a,MAAM,CAAC,CAAC,CAAE,CAAC;AAC7C;AACJ,GAAM,CAAA4a,IAAI,CAAG,IAAI,CAACA,IAAI;AACtBA,IAAI,CAACjX,OAAO,CAAC,CAAExD,OAAO,CAAE,CAAG,CAAC;AAC5B,UAAM,CAAEya,IAAI,CAAC5a,MAAM,CAAC,CAAC,CAAE,CAAC,CAAC;AAC1B;AACA,IAAI,CAAC4a,IAAI,CAAG,IAAI;AACjB,CAAC,CAAAO,OAAA;AACDjc,KAAK,CAAL,SAAAA,KAAKA,CAACrB,OAAgB,CAAE;AACvB,IAAI,CAAC4a,YAAY,CAAC,CAAC;AACnB,GAAI5a,OAAO,CAACqe,SAAS,CAACC,WAAW,EAAIte,OAAO,CAACqe,SAAS,CAACE,OAAO,EAAIve,OAAO,CAACqe,SAAS,CAACG,YAAY,CAAE;AACjG,GAAI,CAAC,IAAI,CAACvB,KAAK,CAAE,IAAI,CAACA,KAAK,CAAG,IAAI,CAACZ,EAAE;AACrC,IAAI,CAACA,EAAE,CAAG1a,GAAG,CAAC8Q,aAAa,CAACzS,OAAO,CAAE,IAAI,CAACsE,aAAa,CAAE;AACxDtI,GAAG,CAAE,IAAI,CAACogB,KAAK,CAACpgB,GAAG;AACnBC,GAAG,CAAE,IAAI,CAACmgB,KAAK,CAACngB;AACjB,CAAC,CAAC;AACH,CAAC,IAAM,IAAI,IAAI,CAACghB,KAAK,CAAE;AACtB,IAAI,CAACZ,EAAE,CAAG,IAAI,CAACY,KAAK;AACpB,IAAI,CAACA,KAAK,CAAG,IAAI;AAClB;;;;;;;AAOA,GAAI,IAAI,CAAC5Y,GAAG,CAAE;AACb,IAAI,CAACA,GAAG,CAAC6X,IAAI,CAAC,IAAI,CAAE,KAAK,CAAC;AAC1B,IAAI,CAAC7X,GAAG,CAAClC,MAAM,CAAC,CAAC;AACjB,GAAM,CAAAsc,MAAM,CAAGhgB,CAAC,eAAc,IAAI,CAAC4d,EAAE,CAACrX,GAAG,gDAA4C,IAAI,CAACqX,EAAE,CAACE,SAAS,CAAG,oBAAoB,CAAG,EAAE,OAAK,CAAC;AACxI,IAAI,CAAClY,GAAG,CAAGoa,MAAM;AAClB;AACA,GAAI,CAACze,OAAO,CAAC0e,QAAQ,CAAC,CAAC,CAAE;AACxB,GAAI,IAAI,CAACtF,QAAQ,CAAE;AAClB,IAAI,CAACA,QAAQ,CAACjX,MAAM,CAAC,CAAC;AACtB,IAAI,CAACiX,QAAQ,CAAG,IAAI;AACrB;AACA;AACD;AACA,GAAI,IAAI,CAAC/U,GAAG,CAAE,IAAI,CAAC+X,KAAK,CAACxf,QAAQ,CAAC,CAAC,IAAI,CAAC0H,aAAa,CAAC,CAAC5C,MAAM,CAAC,IAAI,CAAC2C,GAAG,CAAC;AACvE,IAAI,CAACsa,cAAc,CAAC3e,OAAO,CAACga,IAAI,CAAC;AACjC,IAAI,CAACI,YAAY,CAACpa,OAAO,CAAC;AAC1B,IAAI,CAACqE,GAAG,CAAChC,GAAG,CAAC,IAAI,CAAC+Z,KAAK,CAAC1W,GAAG,CAAC;AAC3Ba,OAAO,CAAE,OAAO;AAChBG,CAAC,CAAE,IAAI,CAACA,CAAC;AACTC,CAAC,CAAE,IAAI,CAACA,CAAC;AACTC,CAAC,CAAE,IAAI,CAACA;AACT,CAAC,CAAE,IAAI,CAACyV,EAAE,CAAC,CAAC;AACZ,IAAK,GAAM,CAAA5b,EAAE,GAAI,CAAAT,OAAO,CAACqe,SAAS,CAAE,IAAI,CAACvE,SAAS,CAACrZ,EAAE,CAAQ,IAAI,CAAC;AAClE,IAAK,GAAM,CAAAA,IAAE,GAAI,CAAAT,OAAO,CAAC4e,YAAY,CAAE,IAAI,CAAC9E,SAAS,CAACrZ,IAAE,CAAQ,IAAI,CAAC;AACrE,IAAK,GAAM,CAAAA,IAAE,GAAI,CAAAT,OAAO,CAAC6e,YAAY,CAAE,IAAI,CAAC/E,SAAS,CAACrZ,IAAE,CAAQ,IAAI,CAAC;AACtE,CAAC,CAAA6c,OAAA;AACDvC,SAAS,CAAT,SAAAA,SAASA,CAAA,CAAG;AACX,GAAI,CAAC,IAAI,CAACqB,KAAK,CAACtgB,SAAS,CAAE;AAC3B,GAAI,IAAI,CAACihB,IAAI,CAAE;AACd,IAAI,CAACC,WAAW,CAAG,IAAI;AACvB,IAAI,CAAC3Y,GAAG,CAAC6X,IAAI,CAAC,IAAI,CAAE,KAAK,CAAC;AAC1B,IAAI,CAACa,IAAI,CAACb,IAAI,CAAC,IAAI,CAAE,KAAK,CAAC;AAC3B,IAAI,CAAC7X,GAAG,CAAChC,GAAG,CAAC,IAAI,CAAC+Z,KAAK,CAAC1W,GAAG,CAAC;AAC3BgB,CAAC,CAAE,IAAI,CAACA,CAAC;AACTC,CAAC,CAAE,IAAI,CAACA,CAAC;AACTC,CAAC,CAAE,IAAI,CAACkQ,MAAM,CAAC,EAAE,CAAC;AAClBxU,OAAO,CAAE;AACV,CAAC,CAAE,IAAI,CAAC+Z,EAAE,CAAC,CAAC;AACZ,IAAI,CAACU,IAAI,CAAC1a,GAAG,CAAC,IAAI,CAAC+Z,KAAK,CAAC1W,GAAG,CAAC;AAC5BgB,CAAC,CAAE,IAAI,CAACA,CAAC;AACTC,CAAC,CAAE,IAAI,CAACA,CAAC;AACTC,CAAC,CAAE,IAAI,CAACA;AACT,CAAC,CAAE,IAAI,CAACkW,KAAM,CAAC,CAAC;AACjB,CAAC,IAAM;AACN,IAAI,CAACzY,GAAG,CAAC6X,IAAI,CAAC,IAAI,CAAE,KAAK,CAAC;AAC1B,IAAI,CAAC7X,GAAG,CAAChC,GAAG,CAAC,IAAI,CAAC+Z,KAAK,CAAC1W,GAAG,CAAC;AAC3BgB,CAAC,CAAE,IAAI,CAACA,CAAC;AACTC,CAAC,CAAE,IAAI,CAACA,CAAC;AACTC,CAAC,CAAE,IAAI,CAACA;AACT,CAAC,CAAE,IAAI,CAACyV,EAAE,CAAC,CAAC;AACb;AACD,CAAC,CAAAiB,OAAA;AACDqB,cAAc,CAAd,SAAAA,cAAcA,CAAC3E,IAAY,CAAE;AAC7B,GAAI,CAAA8E,UAAU,CAAG,IAAI,CAAC1C,KAAK,CAAClgB,WAAW,CAAG,CAAC;AAC3C,GAAI,CAAA6iB,aAAa,CAAG,CAAC;AACrB,GAAM,CAAAC,KAAK,CAAG,IAAI,CAAC5C,KAAK,CAAC1gB,MAAM,CAAC8T,QAAQ,GAAK,YAAY;AACzD,GAAIwP,KAAK,CAAE;;AAEVF,UAAU,EAAE;AACZ,GAAI9E,IAAI,CAAEA,IAAI,EAAE;AACjB;;AAEA,GAAI,IAAI,CAACoC,KAAK,CAACpgB,GAAG,EAAI,CAAC,EAAI8iB,UAAU,CAAE;AACtC,IAAI,CAACpY,CAAC,CAAG,CAACsT,IAAI,CAAG,IAAI,GAAK,IAAI,CAAC1V,aAAa,CAAG,CAAC,CAAG,CAAC,CAAC,CAAC,CAAG,CAAC,EAAE;AAC5D,IAAI,CAACqC,CAAC,CAAG,CAAC,IAAI,CAACrC,aAAa,CAAG,CAAC,CAAG,CAAC,CAAC,EAAI,CAAC;;AAE1C,GAAI,IAAI,CAACA,aAAa,CAAEya,aAAa,CAAG,EAAE,CAAG/E,IAAI;AACjD,GAAI,CAAC,IAAI,CAAC1V,aAAa,CAAEya,aAAa,CAAG,CAAC,EAAE,CAAG/E,IAAI;;AAEpD,CAAC,IAAM;AACN,OAAQ8E,UAAU;AAClB,IAAK,EAAC;AACL,IAAI,CAACpY,CAAC,CAAG,CAAC;AACV;AACD,IAAK,EAAC;AACL,GAAI,IAAI,CAAC2V,EAAE,CAACE,SAAS,CAAE;AACtB,IAAI,CAAC7V,CAAC,CAAG,CAACsT,IAAI,CAAG,CAAC,GAAG,CAAG,EAAE,GAAK,IAAI,CAAC1V,aAAa,CAAG,CAAC,CAAG,CAAC,CAAC,CAAC;AAC5D,CAAC,IAAM;AACN,IAAI,CAACoC,CAAC,CAAG,CAACsT,IAAI,CAAG,CAAC,EAAE,CAAG,EAAE,GAAK,IAAI,CAAC1V,aAAa,CAAG,CAAC,CAAG,CAAC,CAAC,CAAC;AAC3D;AACA;AACD,IAAK,EAAC;AACL,IAAI,CAACoC,CAAC,CAAG,CAACsT,IAAI,CAAG,CAAC,EAAE,CAAG,EAAE,GAAK,IAAI,CAAC1V,aAAa,CAAG,CAAC,CAAG,CAAC,CAAC,CAAC;AAC1D;AACD;;AAEA,IAAI,CAACqC,CAAC,CAAG,IAAI,CAACrC,aAAa,CAAG0V,IAAI,CAAG,CAAC,CAAGA,IAAI,CAAG,CAAC,EAAE;;;;;AAKnD,GAAI8E,UAAU,GAAK,CAAC,CAAE;AACrB,GAAM,CAAAG,WAAW;AACf,IAAI,CAAC3a,aAAa,EAAI0V,IAAI,GAAK,CAAC;AAChC,CAAC,IAAI,CAAC1V,aAAa,EAAI0V,IAAI,GAAK,CAAE;;AAEpC,GAAIiF,WAAW,CAAE;AACb,IAAI,CAACtY,CAAC,EAAI,EAAE;AACZ,IAAI,CAACD,CAAC,EAAI,EAAE;AACd;AACH;;AAEA,GAAI,IAAI,CAACpC,aAAa,CAAEya,aAAa,CAAG,EAAE,CAAG/E,IAAI;AACjD,GAAI,IAAI,CAAC1V,aAAa,EAAI,CAACwa,UAAU,EAAI,IAAI,CAACzC,EAAE,CAACE,SAAS,CAAEwC,aAAa,CAAG,EAAE;AAC9E,GAAI,CAAC,IAAI,CAACza,aAAa,CAAEya,aAAa,CAAG,CAAC,CAAC,CAAG/E,IAAI;AAClD,GAAI,IAAI,CAAC1V,aAAa,EAAIwa,UAAU,GAAK,CAAC,CAAEC,aAAa,CAAG,EAAE,CAAG/E,IAAI,CAAG,EAAE;AAC3E;;AAEA,GAAI,IAAI,CAACoC,KAAK,CAACpgB,GAAG,EAAI,CAAC,CAAE;AACxB+iB,aAAa,EAAI,IAAI,CAACza,aAAa,CAAG,EAAE,CAAG,CAAC;AAC7C,CAAC,IAAM,IAAI,IAAI,CAAC8X,KAAK,CAACpgB,GAAG,EAAI,CAAC,CAAE;AAC/B+iB,aAAa,EAAI,IAAI,CAACza,aAAa,CAAG,EAAE,CAAG,CAAC;AAC7C,CAAC,IAAM,IAAI,IAAI,CAAC8X,KAAK,CAACpgB,GAAG,GAAK,CAAC,CAAE;AAChC+iB,aAAa,EAAI,IAAI,CAACza,aAAa,CAAG,EAAE,CAAG,EAAE;AAC9C;;AAEA,GAAI,CAAAoB,GAAG,CAAG,IAAI,CAAC0W,KAAK,CAAC1W,GAAG,CAAC;AACxBgB,CAAC,CAAE,IAAI,CAACA,CAAC;AACTC,CAAC,CAAE,IAAI,CAACA,CAAC;AACTC,CAAC,CAAE,IAAI,CAACA;AACT,CAAC,CAAE;AACFI,CAAC,CAAE,CAAC;AACJC,CAAC,CAAE;AACJ,CAAC,CAAC;;AAEFvB,GAAG,CAACoB,GAAG,EAAI,EAAE;AACb,IAAI,CAACD,IAAI,CAAGnB,GAAG,CAACmB,IAAI;AACpB,IAAI,CAACC,GAAG,CAAGpB,GAAG,CAACoB,GAAG;AAClB,IAAI,CAACoW,WAAW,CAAGxX,GAAG,CAACmB,IAAI,CAAG,EAAE;AAChC,IAAI,CAACsW,UAAU,CAAGzX,GAAG,CAACoB,GAAG,CAAG,EAAE,CAAGiY,aAAa;AAC9C,GAAI,IAAI,CAAC5B,UAAU,CAAG,CAAC,CAAC,CAAE,IAAI,CAACA,UAAU,CAAG,CAAC,CAAC;;AAE9C,GAAI2B,UAAU,CAAE;;AAEf,GAAI,CAAC,CAAC9E,IAAI,GAAK,IAAI,CAAC1V,aAAa,CAAE;AAClC,IAAI,CAACD,GAAG,CAAC6a,SAAS,CAAC,IAAI,CAAC7a,GAAG,CAACgX,MAAM,CAAC,CAAC,CAAC;AACtC,CAAC,IAAM;AACN,IAAI,CAAChX,GAAG,CAAC6D,QAAQ,CAAC,IAAI,CAAC7D,GAAG,CAACgX,MAAM,CAAC,CAAC,CAAC;AACrC;AACD;AACD,CAAC,CAAAiC,OAAA;AACAvD,UAAU,CAAV,SAAAA,UAAUA,CAAC/Z,OAAgB,CAAEga,IAAY,CAAE/E,OAAiB,CAAE;AAC7D,GAAI,CAAC,IAAI,CAACmH,KAAK,CAACtgB,SAAS,CAAE;AAC3B,IAAI,CAACsgB,KAAK,CAACxf,QAAQ,CAAC,CAAC,IAAI,CAAC0H,aAAa,CAAC,CAAC5C,MAAM,CAAC,IAAI,CAAC2C,GAAG,CAAC;AACzD,IAAI,CAACsa,cAAc,CAAC3E,IAAI,CAAC;;AAEzB,GAAI/E,OAAO,CAAE;AACZ,IAAI,CAAC5Q,GAAG,CAAChC,GAAG,CAAC,SAAS,CAAE,OAAO,CAAC;AAChC,IAAI,CAAC0Y,SAAS,CAAC,CAAC;AAChB,IAAI,CAACX,YAAY,CAACpa,OAAO,CAAC;AAC1B,GAAIA,OAAO,CAACmf,WAAW,CAAC,YAAkB,CAAC,CAAE,IAAI,CAACxB,OAAO,CAAC,IAAI,CAAC;AAC/D;AACD;AACA,GAAI,IAAI,CAACd,MAAM,CAAE,CAAE5Y,WAAW,CAACmb,UAAU,CAAC,IAAI,CAACvC,MAAM,CAAC,CAAE;AACxD,IAAI,CAACxY,GAAG,CAAChC,GAAG,CAAC,IAAI,CAAC+Z,KAAK,CAAC1W,GAAG,CAAC;AAC3Ba,OAAO,CAAE,OAAO;AAChBG,CAAC,CAAE,IAAI,CAACA,CAAC;AACTC,CAAC,CAAE,IAAI,CAACA,CAAC,CAAG,EAAE;AACdC,CAAC,CAAE,IAAI,CAACA,CAAC;AACTxB,KAAK,CAAE,CAAC;AACR9C,OAAO,CAAE;AACV,CAAC,CAAE,IAAI,CAAC+Z,EAAE,CAAC,CAAC;AACZ,IAAI,CAACD,KAAK,CAAC7X,UAAU,CAAC,UAAU,CAAE;AACjCjC,OAAO,CAAE,CAAC;AACVoE,CAAC,CAAE,IAAI,CAACA,CAAC;AACTC,CAAC,CAAE,IAAI,CAACA,CAAC,CAAG,EAAE;AACdC,CAAC,CAAE,IAAI,CAACkQ,MAAM,CAAC,EAAE,CAAC;AAClB1R,KAAK,CAAE;AACR,CAAC,CAAE;AACF9C,OAAO,CAAE,CAAC;AACVoE,CAAC,CAAE,IAAI,CAACA,CAAC;AACTC,CAAC,CAAE,IAAI,CAACA,CAAC,CAAG,EAAE;AACdC,CAAC,CAAE,IAAI,CAACA,CAAC;AACTzC,IAAI,CAAE,GAAG,CAAG,IAAI,CAACiY,KAAK,CAACrgB;AACxB,CAAC,CAAE,YAAY,CAAE,MAAM,CAAC;AACxB,GAAI,IAAI,CAACqgB,KAAK,CAACpgB,GAAG,EAAI,CAAC,CAAE;AACxB,IAAI,CAAC6J,KAAK,CAAC,IAAI,CAACuW,KAAK,CAAC/d,UAAU,CAAG,GAAG,CAAG,IAAI,CAAC+d,KAAK,CAACrgB,YAAY,CAAC,CAACsN,IAAI,CAAC;AACtE3C,CAAC,CAAE,IAAI,CAACA,CAAC;AACTC,CAAC,CAAE,IAAI,CAACA,CAAC;AACTC,CAAC,CAAE,IAAI,CAACA,CAAC;AACTzC,IAAI,CAAE,GAAG,CAAG,IAAI,CAACiY,KAAK,CAACrgB;AACxB,CAAC,CAAC;AACH,CAAC,IAAM;AACN,IAAI,CAAC8J,KAAK,CAAC,IAAI,CAACuW,KAAK,CAAC/d,UAAU,CAAG,GAAG,CAAG,IAAI,CAAC+d,KAAK,CAACrgB,YAAY,CAAC,CAACsN,IAAI,CAAC;AACtE3C,CAAC,CAAE,IAAI,CAACA,CAAC;AACTC,CAAC,CAAE,IAAI,CAACA,CAAC,CAAG,EAAE;AACdC,CAAC,CAAE,IAAI,CAACA,CAAC;AACTzC,IAAI,CAAE,GAAG,CAAG,IAAI,CAACiY,KAAK,CAACrgB;AACxB,CAAC,CAAC,CAACsN,IAAI,CAAC;AACP3C,CAAC,CAAE,IAAI,CAACA,CAAC;AACTC,CAAC,CAAE,IAAI,CAACA,CAAC;AACTC,CAAC,CAAE,IAAI,CAACA,CAAC;AACTzC,IAAI,CAAE,GAAG,CAAG,IAAI,CAACiY,KAAK,CAACrgB;AACxB,CAAC,CAAE,OAAO,CAAC;AACZ;AACA,GAAI,IAAI,CAACsgB,EAAE,CAACgD,KAAK,EAAI,IAAI,CAACjD,KAAK,CAACrgB,YAAY,CAAG,CAAC,CAAEqN,gBAAgB,CAACiW,KAAK,CAAChW,IAAI,CAAC,IAAI,CAAC+S,KAAK,CAAE,CAAC,IAAI,CAAC,CAAC;AACjG,IAAI,CAACA,KAAK,CAACnW,OAAO,CAAC,IAAI,CAAC5B,GAAG,CAAC;AAC5B,GAAIrE,OAAO,CAACmf,WAAW,CAAC,YAAkB,CAAC,CAAE;AAC5C,IAAI,CAACxB,OAAO,CAAC,IAAI,CAAE,IAAI,CAAC;AACxB,IAAI,CAACZ,IAAI,CAAE1a,GAAG,CAAC,IAAI,CAAC+Z,KAAK,CAAC1W,GAAG,CAAC;AAC7BgB,CAAC,CAAE,IAAI,CAACA,CAAC;AACTC,CAAC,CAAE,IAAI,CAACA,CAAC;AACTC,CAAC,CAAE,IAAI,CAACA;AACT,CAAC,CAAE,IAAI,CAACkW,KAAM,CAAC,CAAC;AAChB,IAAI,CAACzY,GAAG,CAACyB,OAAO,CAAC,IAAI,CAACsW,KAAK,CAAC1W,GAAG,CAAC;AAC/BgB,CAAC,CAAE,IAAI,CAACA,CAAC;AACTC,CAAC,CAAE,IAAI,CAACA,CAAC;AACTC,CAAC,CAAE,IAAI,CAACkQ,MAAM,CAAC,EAAE,CAAC;AAClBxU,OAAO,CAAE;AACV,CAAC,CAAE,IAAI,CAAC+Z,EAAE,CAAC,CAAE,GAAG,CAAC;AAClB;AACA,IAAI,CAACjC,YAAY,CAACpa,OAAO,CAAE,IAAI,CAAC;AAChC,IAAI,CAACoc,KAAK,CAAC7M,aAAa,CAACvP,OAAO,CAACiD,IAAI,CAAC;AACtC,IAAI,CAACmW,QAAQ,CAAE/W,GAAG,CAAC;AAClBkE,OAAO,CAAE,OAAO;AAChBM,IAAI,CAAE,IAAI,CAACqW,WAAW;AACtBpW,GAAG,CAAE,IAAI,CAACqW,UAAU,CAAG,EAAE;AACzB7a,OAAO,CAAE;AACV,CAAC,CAAC;AACF,IAAI,CAAC8W,QAAQ,CAAEvT,KAAK,CAAC,GAAG,CAAG,IAAI,CAACuW,KAAK,CAACrgB,YAAY,CAAC,CAAC+J,OAAO,CAAC;AAC3DgB,GAAG,CAAE,IAAI,CAACqW,UAAU;AACpB7a,OAAO,CAAE;AACV,CAAC,CAAE,GAAG,CAAG,IAAI,CAAC8Z,KAAK,CAACrgB,YAAY,CAAC;AACjC,IAAI,CAACujB,WAAW,CAACtf,OAAO,CAAC;AAC1B,CAAC,CAAAsd,OAAA;AACDpD,UAAU,CAAV,SAAAA,UAAUA,CAACla,OAAgB,CAAEga,IAAY,CAAE;AAC1C,GAAI,CAAC,IAAI,CAACoC,KAAK,CAACtgB,SAAS,CAAE;AAC3B,IAAI,CAACsgB,KAAK,CAACxf,QAAQ,CAAC,CAAC,IAAI,CAAC0H,aAAa,CAAC,CAAC5C,MAAM,CAAC,IAAI,CAAC2C,GAAG,CAAC;AACzD,IAAI,CAACsa,cAAc,CAAC3E,IAAI,CAAC;;AAEzB,IAAI,CAAC3V,GAAG,CAAChC,GAAG,CAAC,IAAI,CAAC+Z,KAAK,CAAC1W,GAAG,CAAC;AAC3Ba,OAAO,CAAE,OAAO;AAChBG,CAAC,CAAE,IAAI,CAACwK,MAAM,CAAC,CAAC,GAAG,CAAC;AACpBvK,CAAC,CAAE,IAAI,CAACA,CAAC;AACTC,CAAC,CAAE,IAAI,CAACA,CAAC;AACTtE,OAAO,CAAE;AACV,CAAC,CAAE,IAAI,CAAC+Z,EAAE,CAAC,CAAC;AACZ,IAAI,CAACxW,KAAK,CAAC,GAAG,CAAC,CAACwD,IAAI,CAAC;AACpB3C,CAAC,CAAE,IAAI,CAACA,CAAC;AACTC,CAAC,CAAE,IAAI,CAACA,CAAC;AACTC,CAAC,CAAE,IAAI,CAACA,CAAC;AACTzC,IAAI,CAAE;AACP,CAAC,CAAE,OAAO,CAAC;AACX,GAAI,CAAC,CAAC,IAAI,CAACiY,KAAK,CAACtgB,SAAS,EAAI,IAAI,CAACugB,EAAE,CAACgD,KAAK,CAAEjW,gBAAgB,CAACiW,KAAK,CAAChW,IAAI,CAAC,IAAI,CAAC+S,KAAK,CAAE,CAAC,IAAI,CAAC,CAAC;AAC5F,IAAI,CAACA,KAAK,CAACnW,OAAO,CAAC,IAAI,CAAC5B,GAAG,CAAC;AAC5B,IAAI,CAAC+X,KAAK,CAAC/d,UAAU,CAAG,GAAG;AAC3B,IAAI,CAAC+b,YAAY,CAACpa,OAAO,CAAE,IAAI,CAAC;AAChC,IAAI,CAACoc,KAAK,CAAC7M,aAAa,CAACvP,OAAO,CAACiD,IAAI,CAAC;AACtC,IAAI,CAACmW,QAAQ,CAAE/W,GAAG,CAAC;AAClBkE,OAAO,CAAE,OAAO;AAChBM,IAAI,CAAE,IAAI,CAACqW,WAAW,EAAI,IAAI,CAAC5Y,aAAa,CAAG,CAAC,GAAG,CAAG,GAAG,CAAC;AAC1DwC,GAAG,CAAE,IAAI,CAACqW,UAAU;AACpB7a,OAAO,CAAE;AACV,CAAC,CAAC;AACF,IAAI,CAAC8W,QAAQ,CAAEvT,KAAK,CAAC,GAAG,CAAC,CAACC,OAAO,CAAC;AACjCe,IAAI,CAAE,IAAI,CAACqW,WAAW;AACtB5a,OAAO,CAAE;AACV,CAAC,CAAE,GAAG,CAAC;AACP,IAAI,CAACgd,WAAW,CAACtf,OAAO,CAAC;AAC1B,CAAC,CAAAsd,OAAA;AACDnD,WAAW,CAAX,SAAAA,WAAWA,CAACna,OAAgB,CAAE;AAC7B,GAAI,CAAC,IAAI,CAACoc,KAAK,CAACtgB,SAAS,CAAE,MAAO,KAAI,CAACme,YAAY,CAACja,OAAO,CAAE,IAAI,CAAC;AAClE,GAAI,IAAI,CAAC+c,IAAI,CAAE;AACd,IAAI,CAACC,WAAW,CAAG,KAAK;AACxB,GAAM,CAAAD,IAAI,CAAG,IAAI,CAACA,IAAI;AACtBA,IAAI,CAACjX,OAAO,CAAC,IAAI,CAACsW,KAAK,CAAC1W,GAAG,CAAC;AAC3BgB,CAAC,CAAE,IAAI,CAACwK,MAAM,CAAC,GAAG,CAAC;AACnBvK,CAAC,CAAE,IAAI,CAACA,CAAC;AACTC,CAAC,CAAE,IAAI,CAACA,CAAC;AACTtE,OAAO,CAAE,CAAC;AACV6B,IAAI,CAAE;AACP,CAAC,CAAE,IAAI,CAAC2Y,KAAM,CAAC,CAAE,UAAM,CAAEC,IAAI,CAAC5a,MAAM,CAAC,CAAC,CAAE,CAAC,CAAC;AAC1C,IAAI,CAAC4a,IAAI,CAAG,IAAI;AACjB;AACA,IAAI,CAAC1T,IAAI,CAAC;AACT3C,CAAC,CAAE,IAAI,CAACwK,MAAM,CAAC,GAAG,CAAC;AACnBvK,CAAC,CAAE,IAAI,CAACA,CAAC;AACTC,CAAC,CAAE,IAAI,CAACA,CAAC;AACTtE,OAAO,CAAE,CAAC;AACV6B,IAAI,CAAE;AACP,CAAC,CAAE,OAAO,CAAC;AACX,IAAI,CAACoM,aAAa,CAACvQ,OAAO,CAAE,IAAI,CAAC;AACjC,GAAI,CAAAoZ,QAAQ,CAAG,IAAI,CAACA,QAAQ;AAC5B,GAAIA,QAAQ,CAAE;AACb,IAAI,CAACA,QAAQ,CAAG,IAAI;AACpBA,QAAQ,CAACtT,OAAO,CAAC;AAChBe,IAAI,CAAE,IAAI,CAACqW,WAAW,EAAI,IAAI,CAAC5Y,aAAa,CAAG,CAAC,GAAG,CAAG,GAAG,CAAC;AAC1DhC,OAAO,CAAE;AACV,CAAC,CAAE,GAAG,CAAG,IAAI,CAAC8Z,KAAK,CAACrgB,YAAY,CAAE,UAAM,CAAEqd,QAAQ,CAACjX,MAAM,CAAC,CAAC,CAAE,CAAC,CAAC;AAChE;AACD,CAAC,CAAAmb,OAAA;AACDrD,YAAY,CAAZ,SAAAA,YAAYA,CAACja,OAAgB,CAAEiV,OAAiB,CAAE;AACjD,IAAI,CAACmJ,SAAS,CAAC,CAAC;AAChB,GAAI,CAAC,IAAI,CAAChC,KAAK,CAACtgB,SAAS,EAAImZ,OAAO,CAAE;AACrC,IAAI,CAAC5Q,GAAG,CAACkb,IAAI,CAAC,CAAC;AACf,GAAI,IAAI,CAACnG,QAAQ,CAAE;AAClB,IAAI,CAACA,QAAQ,CAACjX,MAAM,CAAC,CAAC;AACtB,IAAI,CAACiX,QAAQ,CAAG,IAAI;AACrB;AACA;AACD;AACA,GAAI,IAAI,CAACgD,KAAK,CAACpgB,GAAG,EAAI,CAAC,CAAE;AACxB,IAAI,CAACqN,IAAI,CAAC;AACT3C,CAAC,CAAE,IAAI,CAACA,CAAC;AACTC,CAAC,CAAE,IAAI,CAACA,CAAC,CAAG,EAAE;AACdC,CAAC,CAAE,IAAI,CAACA,CAAC;AACTxB,KAAK,CAAE,CAAC;AACR9C,OAAO,CAAE,CAAC;AACV6B,IAAI,CAAE,GAAG,CAAG,IAAI,CAACiY,KAAK,CAACrgB;AACxB,CAAC,CAAC;AACH,CAAC,IAAM;AACN,IAAI,CAACsN,IAAI,CAAC;AACT3C,CAAC,CAAE,IAAI,CAACA,CAAC;AACTC,CAAC,CAAE,IAAI,CAACA,CAAC,CAAG,EAAE;AACdC,CAAC,CAAE,IAAI,CAACA,CAAC;AACTxB,KAAK,CAAE,CAAC;AACR9C,OAAO,CAAE,CAAC;AACV6B,IAAI,CAAE,GAAG,CAAG,IAAI,CAACiY,KAAK,CAACrgB;AACxB,CAAC,CAAC;AACH;AACA,IAAI,CAACqgB,KAAK,CAAC7X,UAAU,CAAC,UAAU,CAAE;AACjCjC,OAAO,CAAE,CAAC;AACVoE,CAAC,CAAE,IAAI,CAACA,CAAC;AACTC,CAAC,CAAE,IAAI,CAACA,CAAC,CAAG,EAAE;AACdC,CAAC,CAAE,IAAI,CAACA,CAAC;AACTxB,KAAK,CAAE,GAAG;AACVjB,IAAI,CAAE,GAAG,CAAG,IAAI,CAACiY,KAAK,CAACrgB;AACxB,CAAC,CAAE;AACFuG,OAAO,CAAE,CAAC;AACVoE,CAAC,CAAE,IAAI,CAACA,CAAC;AACTC,CAAC,CAAE,IAAI,CAACA,CAAC;AACTC,CAAC,CAAE,IAAI,CAACkQ,MAAM,CAAC,EAAE,CAAC;AAClB3S,IAAI,CAAE,GAAG,CAAG,IAAI,CAACiY,KAAK,CAACrgB;AACxB,CAAC,CAAE,YAAY,CAAC;AAChB,GAAI,IAAI,CAACqgB,KAAK,CAACrgB,YAAY,CAAG,CAAC,CAAE,IAAI,CAACqgB,KAAK,CAAClY,IAAI,CAAC,GAAG,CAAG,IAAI,CAACkY,KAAK,CAACrgB,YAAY,CAAC;AAC/E,IAAI,CAACwU,aAAa,CAACvQ,OAAO,CAAE,IAAI,CAAC;AACjC,GAAI,CAAAoZ,QAAQ,CAAG,IAAI,CAACA,QAAQ;AAC5B,GAAIA,QAAQ,CAAE;AACb,IAAI,CAACA,QAAQ,CAAG,IAAI;AACpBA,QAAQ,CAACtT,OAAO,CAAC,CAAEe,IAAI,CAAE,IAAI,CAACqW,WAAW,EAAI,IAAI,CAAC5Y,aAAa,CAAG,EAAE,CAAG,CAAC,EAAE,CAAC,CAAEhC,OAAO,CAAE,CAAG,CAAC;AAC1F,GAAG,CAAG,IAAI,CAAC8Z,KAAK,CAACrgB,YAAY,CAAE,UAAM,CAAEqd,QAAQ,CAACjX,MAAM,CAAC,CAAC,CAAE,CAAC,CAAC;AAC7D;AACD,CAAC,CAAAmb,OAAA;AACDxC,SAAS,CAAT,SAAAA,SAASA,CAAC9a,OAAgB,CAAE,KAAAwf,MAAA;AAC3B,IAAI,CAACpB,SAAS,CAAC,CAAC;AAChB,GAAI,CAAC,IAAI,CAAChC,KAAK,CAACtgB,SAAS,CAAE;AAC1B,IAAI,CAACuI,GAAG,CAAClC,MAAM,CAAC,CAAC;AACjB,GAAI,IAAI,CAACiX,QAAQ,CAAE;AAClB,IAAI,CAACA,QAAQ,CAACjX,MAAM,CAAC,CAAC;AACtB,IAAI,CAACiX,QAAQ,CAAG,IAAI;AACrB;AACA;AACD;AACA,IAAI,CAAC7I,aAAa,CAACvQ,OAAO,CAAE,KAAK,CAAE,IAAI,CAAC;AACxC,IAAI,CAACoc,KAAK,CAAC7M,aAAa,CAACvP,OAAO,CAACiD,IAAI,CAAC;AACtC,GAAI,IAAI,CAAC4Z,MAAM,CAAE,CAAE5Y,WAAW,CAACmb,UAAU,CAAC,IAAI,CAACvC,MAAM,CAAC,CAAE;AACxD,IAAI,CAACxT,IAAI,CAAC;AACT1C,CAAC,CAAE,IAAI,CAACA,CAAC,CAAG,EAAE;AACdrE,OAAO,CAAE;AACV,CAAC,CAAE,OAAO,CAAC;AACX,IAAI,CAAC8Z,KAAK,CAACnW,OAAO,CAAC,IAAI,CAAC5B,GAAG,CAAC;AAC5B,IAAI,CAACA,GAAG,CAACoD,OAAO,CAAC,CAAC,CAAC0W,IAAI,CAAC,UAAM,CAAEqB,MAAI,CAACnb,GAAG,CAAClC,MAAM,CAAC,CAAC,CAAE,CAAC,CAAC;AACrD,GAAI,CAAAiX,QAAQ,CAAG,IAAI,CAACA,QAAQ;AAC5B,GAAIA,QAAQ,CAAE;AACb,IAAI,CAACA,QAAQ,CAAG,IAAI;AACpBA,QAAQ,CAACtT,OAAO,CAAC,CAAExD,OAAO,CAAE,CAAG,CAAC;AAChC,GAAG,CAAE,UAAM,CAAE8W,QAAQ,CAACjX,MAAM,CAAC,CAAC,CAAE,CAAC,CAAC;AACnC;AACD,CAAC,CAAAmb,OAAA;;;;;;AAMD7C,aAAa,CAAb,SAAAA,aAAaA,CAACza,OAAgB,CAAE0a,cAAwB,CAAEC,WAAqB,CAAE,KAAA8E,MAAA;AAChF,GAAI,CAAC,IAAI,CAACrD,KAAK,CAACtgB,SAAS,EAAI,CAAC6e,WAAW,CAAE;AAC3C,GAAI,CAAA0B,EAAE,CAAG1a,GAAG,CAAC8Q,aAAa,CAACzS,OAAO,CAAE,IAAI,CAACsE,aAAa,CAAE;AACvDtI,GAAG,CAAE,IAAI,CAACogB,KAAK,CAACpgB,GAAG;AACnBC,GAAG,CAAE,IAAI,CAACmgB,KAAK,CAACngB;AACjB,CAAC,CAAC;AACF,GAAI,CAAAghB,KAAK,CAAG,IAAI,CAACZ,EAAE;AACnB,GAAI1B,WAAW,CAAE;AAChB,GAAI3a,OAAO,CAACqe,SAAS,CAACE,OAAO,CAAE;;AAE9B,IAAI,CAACtB,KAAK,CAAGtb,GAAG,CAAC8Q,aAAa,CAACzS,OAAO,CAAE,IAAI,CAACsE,aAAa,CAAE;AAC3DtI,GAAG,CAAE,IAAI,CAACogB,KAAK,CAACpgB,GAAG;AACnBC,GAAG,CAAE,IAAI,CAACmgB,KAAK,CAACngB,GAAG;AACnBsiB,OAAO,CAAE;AACV,CAAC,CAAC;AACH,CAAC,IAAM,CAAE,IAAI,CAACtB,KAAK,CAAG,IAAI,CAAE;AAC7B,CAAC,IAAM,IAAI,CAAC,IAAI,CAACA,KAAK,CAAE,CAAE,IAAI,CAACA,KAAK,CAAGA,KAAK,CAAE;AAC9C,IAAI,CAACZ,EAAE,CAAGA,EAAE;AACZ,IAAI,CAACQ,MAAM,CAAGR,EAAE,CAACQ,MAAM;AACvB,GAAI,CAAC,IAAI,CAACT,KAAK,CAACtgB,SAAS,CAAE;AAC3B,GAAI,CAAA4jB,SAAS,CAAGlK,IAAI,CAACxV,OAAO,CAAC2f,eAAe,CAAC,CAAC,CAAC;AAC/C,GAAI,CAAAC,KAAK,CAAG,KAAK;AACjB,GAAI,CAAAC,QAAQ,CAAG,CAAC7f,OAAO,CAAC0e,QAAQ,CAAC,CAAC;AAClC,GAAM,CAAAtC,KAAK,CAAG,IAAI,CAACA,KAAK;AACxB,GAAI1B,cAAc,EAAI,CAACmF,QAAQ,CAAE;AAChC,GAAIH,SAAS,GAAK,cAAc,CAAE;AACjCtW,gBAAgB,CAAC0W,WAAW,CAACzW,IAAI,CAAC+S,KAAK,CAAE,CAAC,IAAI,CAAC,CAAC;AAChDwD,KAAK,CAAG,IAAI;AACb,CAAC,IAAM,IAAIF,SAAS,GAAK,eAAe,CAAE;AACzCtW,gBAAgB,CAAC2W,WAAW,CAAC1W,IAAI,CAAC+S,KAAK,CAAE,CAAC,IAAI,CAAC,CAAC;AAChDwD,KAAK,CAAG,IAAI;AACb,CAAC,IAAM,IAAIF,SAAS,GAAK,eAAe,CAAE;AACzCtW,gBAAgB,CAAC4W,UAAU,CAAC3W,IAAI,CAAC+S,KAAK,CAAE,CAAC,IAAI,CAAC,CAAC;AAC/CwD,KAAK,CAAG,IAAI;AACb,CAAC,IAAM,IAAIF,SAAS,GAAK,iBAAiB,CAAE,CAAEtW,gBAAgB,CAAC6W,cAAc,CAAC5W,IAAI,CAAC+S,KAAK,CAAE,CAAC,IAAI,CAAC,CAAC,CAAE,CAAC;AAC/F,GAAIsD,SAAS,GAAK,kBAAkB,EAAIA,SAAS,GAAK,aAAa,CAAE,CAAEtW,gBAAgB,CAAC8W,WAAW,CAAC7W,IAAI,CAAC+S,KAAK,CAAE,CAAC,IAAI,CAAC,CAAC,CAAE,CAAC;AAC1H,GAAIsD,SAAS,GAAK,YAAY,CAAE,CAAEtW,gBAAgB,CAAC+W,YAAY,CAAC9W,IAAI,CAAC+S,KAAK,CAAE,CAAC,IAAI,CAAC,CAAC,CAAE,CAAC;AACtF,GAAIsD,SAAS,GAAK,eAAe,EAAIA,SAAS,GAAK,oBAAoB,EAAIA,SAAS,GAAK,WAAW,EAAIA,SAAS,GAAK,gBAAgB,CAAE,CAAC,CAAC;AAC1I,GAAIA,SAAS,GAAK,aAAa,CAAE,CAAEG,QAAQ,CAAG,IAAI,CAAE,CAAC;AACrD;AACJzW,gBAAgB,CAACgX,OAAO,CAAC/W,IAAI,CAAC+S,KAAK,CAAE,CAAC,IAAI,CAAC,CAAC;AAC5CwD,KAAK,CAAG,IAAI;AACb;AACD;;AAEA,GAAI,CAAAnB,MAAM,CAAGhgB,CAAC,CAAC,YAAY,CAAG4d,EAAE,CAACrX,GAAG,CAAG,qDAAqD,EAAIqX,EAAE,CAACE,SAAS,CAAG,oBAAoB,CAAG,EAAE,CAAC,CAAG,KAAK,CAAC;AAClJkC,MAAM,CAACpc,GAAG,CAAC,IAAI,CAAC+Z,KAAK,CAAC1W,GAAG,CAAC;AACzBgB,CAAC,CAAE,IAAI,CAACA,CAAC;AACTC,CAAC,CAAE,IAAI,CAACA,CAAC;AACTC,CAAC,CAAE,IAAI,CAACA,CAAC;AACTtB,MAAM,CAAE,CAAC;AACTD,MAAM,CAAE,CAAC;AACT/C,OAAO,CAAE;AACV,CAAC,CAAE+Z,EAAE,CAAC,CAAC;AACP,GAAIwD,QAAQ,CAAE;AACb,IAAI,CAACxb,GAAG,CAACgc,WAAW,CAAC5B,MAAM,CAAC;AAC5B,IAAI,CAACpa,GAAG,CAAGoa,MAAM;AACjB,IAAI,CAAC1D,SAAS,CAAC,CAAC;AACjB,CAAC,IAAM;AACN,IAAI,CAAC1W,GAAG,CAACyB,OAAO,CAAC,IAAI,CAACsW,KAAK,CAAC1W,GAAG,CAAC;AAC/BgB,CAAC,CAAE,IAAI,CAACA,CAAC;AACTC,CAAC,CAAE,IAAI,CAACA,CAAC;AACTC,CAAC,CAAE,IAAI,CAACA,CAAC;AACTtB,MAAM,CAAE,CAAC;AACTD,MAAM,CAAE,CAAC;AACT/C,OAAO,CAAE;AACV,CAAC,CAAE2a,KAAK,CAAC,CAAE,GAAG,CAAE,UAAM;AACrB,GAAIwC,MAAI,CAAC5C,MAAM,EAAI+C,KAAK,CAAE,CAAE3b,WAAW,CAACmb,UAAU,CAACK,MAAI,CAAC5C,MAAM,CAAC,CAAE;AACjE4C,MAAI,CAACpb,GAAG,CAACgc,WAAW,CAAC5B,MAAM,CAAC;AAC5BgB,MAAI,CAACpb,GAAG,CAAGoa,MAAM;AACjBgB,MAAI,CAACpb,GAAG,CAACyB,OAAO,CAACsW,KAAK,CAAC1W,GAAG,CAAC;AAC1BgB,CAAC,CAAE+Y,MAAI,CAAC/Y,CAAC;AACTC,CAAC,CAAE8Y,MAAI,CAAC9Y,CAAC;AACTC,CAAC,CAAE6Y,MAAI,CAAC7Y,CAAC;AACTtE,OAAO,CAAE;AACV,CAAC,CAAE+Z,EAAE,CAAC,CAAE,GAAG,CAAC;AACb,CAAC,CAAC;AACF,IAAI,CAACD,KAAK,CAAClY,IAAI,CAAC,GAAG,CAAC;AACrB;AACA,IAAI,CAACkY,KAAK,CAAC7M,aAAa,CAACvP,OAAO,CAACiD,IAAI,CAAC;AACtC,GAAI0X,WAAW,CAAE,CAAE,IAAI,CAACP,YAAY,CAACpa,OAAO,CAAC,CAAE,CAAC;AAC3C,CAAE,IAAI,CAACuQ,aAAa,CAACvQ,OAAO,CAAC,CAAE;AACrC,CAAC,CAAAsd,OAAA;AACDgD,UAAU,CAAV,SAAAA,UAAUA,CAAC7f,EAAM,CAAE;AAClB,GAAIA,EAAE,GAAK,SAAS,EAAIA,EAAE,GAAK,WAAW,CAAE;AAC3C,IAAI,CAAC2c,OAAO,CAAC3c,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC4I,IAAI,CAAC;AACxBjE,KAAK,CAAE,GAAG;AACV9C,OAAO,CAAE,CAAC;AACV6B,IAAI,CAAE;AACP,CAAC,CAAC,CAACkF,IAAI,CAAC;AACP/G,OAAO,CAAE,GAAG;AACZ6B,IAAI,CAAE;AACP,CAAC,CAAC;AACH;AACD,CAAC,CAAAmZ,OAAA;AACDxD,SAAS,CAAT,SAAAA,SAASA,CAACrZ,EAAM,CAAEwU,OAAiB,CAAE;AACpC,GAAIxU,EAAE,GAAI,KAAI,CAAC2c,OAAO,CAAE;AACvB,IAAI,CAACkD,UAAU,CAAC7f,EAAE,CAAC;AACnB;AACD;AACA,GAAM,CAAA8f,OAAO,CAAG,CAAC,IAAI,CAACjc,aAAa;AACnC,GAAI7D,EAAE,GAAK,YAAY,EAAIA,EAAE,GAAK,UAAU,CAAE,CAAE,IAAI,CAACkd,OAAO,CAAC1I,OAAO,CAAC,CAAE,CAAC;AACnE,GAAIxU,EAAE,GAAK,WAAW,CAAE;AAC5B,GAAM,CAAA+f,IAAI,CAAG;AACZja,OAAO,CAAE,OAAO;AAChBG,CAAC,CAAE,IAAI,CAACA,CAAC,CAAG,EAAE;AACdC,CAAC,CAAE,IAAI,CAACA,CAAC,CAAG,EAAE;AACdC,CAAC,CAAE,IAAI,CAACA,CAAC;AACTxB,KAAK,CAAE,GAAG;AACV9C,OAAO,CAAE;AACV,CAAC;AACD,GAAM,CAAAme,IAAI,CAAG;AACZla,OAAO,CAAE,OAAO;AAChBG,CAAC,CAAE,IAAI,CAACA,CAAC,CAAG,EAAE;AACdC,CAAC,CAAE,IAAI,CAACA,CAAC,CAAG,EAAE;AACdC,CAAC,CAAE,IAAI,CAACA,CAAC;AACTxB,KAAK,CAAE,GAAG;AACV9C,OAAO,CAAE;AACV,CAAC;AACD,GAAM,CAAAoe,IAAI,CAAG;AACZna,OAAO,CAAE,OAAO;AAChBG,CAAC,CAAE,IAAI,CAACA,CAAC,CAAG,EAAE;AACdC,CAAC,CAAE,IAAI,CAACA,CAAC,CAAG,EAAE;AACdC,CAAC,CAAE,IAAI,CAACA,CAAC;AACTxB,KAAK,CAAE,GAAG;AACV9C,OAAO,CAAE;AACV,CAAC;AACD,GAAM,CAAAqe,UAAU,CAAG,GAAI,CAAA9J,MAAM,CAAC/R,aAAa,CAAC8b,UAAU,CAAEJ,IAAI,CAAE,IAAI,CAACpE,KAAK,CAAC;AACzE,GAAM,CAAAyE,UAAU,CAAG,GAAI,CAAAhK,MAAM,CAAC/R,aAAa,CAAC8b,UAAU,CAAEH,IAAI,CAAE,IAAI,CAACrE,KAAK,CAAC;AACzE,GAAM,CAAA0E,UAAU,CAAG,GAAI,CAAAjK,MAAM,CAAC/R,aAAa,CAAC8b,UAAU,CAAEF,IAAI,CAAE,IAAI,CAACtE,KAAK,CAAC;AACzE,IAAI,CAACA,KAAK,CAACvf,aAAa,CAAC0jB,OAAO,CAAC,CAAC7e,MAAM,CAACif,UAAU,CAACtc,GAAG,CAAC;AACxD,IAAI,CAAC+X,KAAK,CAACvf,aAAa,CAAC0jB,OAAO,CAAC,CAAC7e,MAAM,CAACmf,UAAU,CAACxc,GAAG,CAAC;AACxD,IAAI,CAAC+X,KAAK,CAACvf,aAAa,CAAC0jB,OAAO,CAAC,CAAC7e,MAAM,CAACof,UAAU,CAACzc,GAAG,CAAC;AACxD,IAAI,CAAC+Y,OAAO,CAAC,WAAW,CAAC,CAAG,CAACuD,UAAU,CAAEE,UAAU,CAAEC,UAAU,CAAC;AACjE,CAAC,IAAM,IAAIrgB,EAAE,GAAK,SAAS,EAAIA,EAAE,GAAK,WAAW,CAAE;AAClD,GAAM,CAAAsgB,OAAO,CAAG,GAAI,CAAAlK,MAAM,CAAC/R,aAAa,CAACic,OAAO,CAAE;AACjDxa,OAAO,CAAE,OAAO;AAChBG,CAAC,CAAE,IAAI,CAACA,CAAC;AACTC,CAAC,CAAE,IAAI,CAACA,CAAC;AACTC,CAAC,CAAE,IAAI,CAACkQ,MAAM,CAAC,CAAC,EAAE,CAAC;AACnBzR,MAAM,CAAE,CAAC;AACTC,MAAM,CAAE,CAAC;AACThD,OAAO,CAAE;AACV,CAAC,CAAE,IAAI,CAAC8Z,KAAK,CAAC;AACd,IAAI,CAACA,KAAK,CAACvf,aAAa,CAAC0jB,OAAO,CAAC,CAAC7e,MAAM,CAACqf,OAAO,CAAC1c,GAAG,CAAC;AACrD,IAAI,CAAC+Y,OAAO,CAAC3c,EAAE,CAAC,CAAG,CAACsgB,OAAO,CAAC;AAC5BA,OAAO,CAAC1X,IAAI,CAAC;AACZ/G,OAAO,CAAE,GAAG;AACZ6B,IAAI,CAAE8Q,OAAO,CAAG,CAAC,CAAG;AACrB,CAAC,CAAC,CAAC5L,IAAI,CAAC;AACP/G,OAAO,CAAE,GAAG;AACZ6B,IAAI,CAAE8Q,OAAO,CAAG,CAAC,CAAG;AACrB,CAAC,CAAC;AACH;AACD,CAAC,CAAAqI,OAAA;AACDzD,YAAY,CAAZ,SAAAA,YAAYA,CAACpZ,EAAM,CAAEwU,OAAiB,CAAE;AACvC,GAAIxU,EAAE,GAAK,aAAa,CAAE,IAAI,CAACoa,eAAe,CAAC,CAAC;AAChD,GAAIpa,EAAE,GAAK,YAAY,CAAE,IAAI,CAACod,WAAW,CAAC5I,OAAO,CAAC;AAClD,GAAI,IAAI,CAACmI,OAAO,CAAC3c,EAAE,CAAC,CAAE,SAAAugB,IAAA,GAAAC,iBAAA;AACA,IAAI,CAAC7D,OAAO,CAAC3c,EAAE,CAAC,CAAAugB,IAAA,CAAAC,iBAAA,CAAAje,MAAA,CAAAge,IAAA,IAAhC,GAAM,CAAA5d,MAAM,CAAA6d,iBAAA,CAAAD,IAAA,EAAsB5d,MAAM,CAAC4N,OAAO,CAAC,CAAC,CAAC;AACxD,MAAO,KAAI,CAACoM,OAAO,CAAC3c,EAAE,CAAC;AACxB;AACD,CAAC,CAAA6c,OAAA;AACD1C,YAAY,CAAZ,SAAAA,YAAYA,CAAA,CAAG;AACd,IAAK,GAAM,CAAAna,EAAE,GAAI,KAAI,CAAC2c,OAAO,CAAE,IAAI,CAACvD,YAAY,CAACpZ,EAAE,CAAQ,IAAI,CAAC;AAChE,IAAI,CAACod,WAAW,CAAC,IAAI,CAAC;AACtB,IAAI,CAAChD,eAAe,CAAC,CAAC;AACvB,CAAC,CAAAyC,OAAA;AACDgC,WAAW,CAAX,SAAAA,WAAWA,CAACtf,OAAgB,CAAE;AAC7B,GAAIA,OAAO,CAACiD,IAAI,CAAC8H,KAAK,CAAE;AACxB,GAAI/K,OAAO,CAACE,YAAY,GAAK,SAAS,EAAK,SAAS,CAACghB,IAAI,CAAClhB,OAAO,CAAC8K,IAAI,CAAE,CAAE,CAAE,IAAI,CAACsR,KAAK,CAAC7R,MAAM,CAAC,CAAC,CAAC,CAAC,CAAE,CAAC;AAC9F,GAAI,IAAI,CAAC6R,KAAK,CAACte,MAAM,GAAK,CAAC,CAAC,CAAE,CAAE,IAAI,CAACse,KAAK,CAACP,OAAO,CAAC,CAAC,CAAE;AAC7D,CAAC,CAAAyB,OAAA;;;AAGD6D,mBAAmB,CAAnB,SAAAA,mBAAmBA,CAACnH,IAAY,CAAE;;;AAGjC,GAAM,CAAAoH,QAAQ,CAAG;AAChB,cAAc;AACd,IAAI,CAAChF,KAAK,CAAClgB,WAAW,GAAK,CAAC,CAAG,gBAAgB,CAAG,eAAe;AACjE,eAAe,CACf;;AACD,MAAO,CAAAklB,QAAQ,CAACpH,IAAI,CAAC;AACtB,CAAC,CAAAsD,OAAA;AACD+D,cAAc,CAAd,SAAAA,cAAcA,CAACrhB,OAAgB,CAAE;AAChC,GAAI,CAAAoS,GAAG,CAAG,qBAAqB,EAAI,IAAI,CAAC9N,aAAa,CAAG,WAAW,CAAG,WAAW,CAAC,CAAG,IAAI,CAAC6c,mBAAmB,CAACnhB,OAAO,CAACga,IAAI,CAAC,CAAG,0BAA0B;AACxJ,GAAM,CAAAsH,UAAU,CAAG,IAAI,CAAChd,aAAa,GAAK,IAAI,CAAC8X,KAAK,CAAC1gB,MAAM,CAACqE,cAAc,EAAI,IAAI,CAACqc,KAAK,CAAC1gB,MAAM,CAACoE,WAAW,CAAC;AAC5GsS,GAAG,aAAezT,SAAS,CAAC2M,UAAU,CAACgW,UAAU,CAAGthB,OAAO,CAACE,YAAY,CAAGF,OAAO,CAAC8K,IAAI,CAAG;AAC1F,GAAM,CAAA6H,MAAM,CAAG3S,OAAO,CAAC2S,MAAM;AAC7B,GAAIA,MAAM,GAAK,GAAG,EAAIA,MAAM,GAAK,GAAG,CAAE,CAAEP,GAAG,iBAAkBzQ,GAAG,CAACiR,QAAQ,WAAUD,MAAM,CAACnG,WAAW,CAAC,CAAC,iBAAcmG,MAAM,sDAA8C,CAAE;AAC3KP,GAAG,EAAKpS,OAAO,CAAC6S,KAAK,GAAK,GAAG,gBAAoB7S,OAAO,CAAC6S,KAAK,WAAW;AACzE,GAAI,CAAA0O,MAAM,CAAG,EAAE;AACf,GAAIvhB,OAAO,CAACE,YAAY,CAACU,QAAQ,CAAC,OAAO,CAAC,CAAE2gB,MAAM,CAAG,MAAM,CAAC;AACvD,GAAIvhB,OAAO,CAACE,YAAY,GAAK,eAAe,CAAEqhB,MAAM,CAAG,OAAO,CAAC;AAC/D,GAAIvhB,OAAO,CAACE,YAAY,GAAK,gBAAgB,CAAEqhB,MAAM,CAAG,OAAO;AACpE,GAAIA,MAAM,CAAE,CAAEnP,GAAG,iBAAkBzQ,GAAG,CAACC,cAAc,iBAAgB2f,MAAM,iBAAcA,MAAM,8CAA0C,CAAE;AAC3I,GAAIvhB,OAAO,CAACwhB,aAAa,CAAE,CAAEpP,GAAG,iBAAkBzQ,GAAG,CAACC,cAAc,sBAAqB5B,OAAO,CAACwhB,aAAa,sBAAmBxhB,OAAO,CAACwhB,aAAa,yEAAiE,CAAE;AACzNpP,GAAG,gLAAsK;AACzKA,GAAG,UAAY;AACf,MAAO,CAAAA,GAAG;AACX,CAAC,CAAAkL,OAAA;AACDlD,YAAY,CAAZ,SAAAA,YAAYA,CAACpa,OAAgB,CAAEqa,WAAqB,CAAE;AACrD,GAAI,IAAI,CAACjB,QAAQ,CAAE;AAClB,IAAI,CAACA,QAAQ,CAACjX,MAAM,CAAC,CAAC;AACtB,IAAI,CAACiX,QAAQ,CAAG,IAAW;AAC5B;AACA,IAAI,CAAC7I,aAAa,CAACvQ,OAAO,CAAE,IAAI,CAAC;AACjC,GAAI,CAACqa,WAAW,EAAI,IAAI,CAACjB,QAAQ,CAAE;AAClC,IAAI,CAACA,QAAQ,CAAC/W,GAAG,CAAC;AACjBkE,OAAO,CAAE,OAAO;AAChBM,IAAI,CAAE,IAAI,CAACqW,WAAW;AACtBpW,GAAG,CAAE,IAAI,CAACqW,UAAU;AACpB7a,OAAO,CAAE;AACV,CAAC,CAAC;AACH;AACD,CAAC,CAAAgb,OAAA;AACD9C,qBAAqB,CAArB,SAAAA,qBAAqBA,CAACxa,OAAgB,CAAEsa,YAAsB,CAAEC,QAAkB,CAAE,CAAE,GAAI,IAAI,CAACnB,QAAQ,CAAE,CAAE,IAAI,CAAC7I,aAAa,CAACvQ,OAAO,CAAEsa,YAAY,CAAEC,QAAQ,CAAC,CAAE,CAAE,CAAC,CAAA+C,OAAA;AACnK/M,aAAa,CAAb,SAAAA,aAAaA,CAACvQ,OAAgB,CAAEsa,YAAsB,CAAEC,QAAkB,CAAE;AAC3E,GAAI,CAAC,IAAI,CAAC6B,KAAK,CAACtgB,SAAS,CAAE;AAC3B,GAAI,CAACkE,OAAO,CAAC0e,QAAQ,CAAC,CAAC,CAAE;AACxB,GAAI,IAAI,CAACtF,QAAQ,CAAE,IAAI,CAACA,QAAQ,CAACmG,IAAI,CAAC,CAAC;AACvC;AACD;AACA,GAAI,CAAC,IAAI,CAACnG,QAAQ,CAAE;AACnB,IAAI,CAACA,QAAQ,CAAG3a,CAAC,CAAC,IAAI,CAAC4iB,cAAc,CAACrhB,OAAO,CAAC,CAAC;AAC/C,IAAI,CAACoc,KAAK,CAACtf,KAAK,CAAC4E,MAAM,CAAC,IAAI,CAAC0X,QAAQ,CAAC;AACtCkB,YAAY,CAAG,IAAI;AACpB;AACA,GAAI,CAAAd,OAAO;AACX,GAAIc,YAAY,EAAIC,QAAQ,CAAE;AAC7Bf,OAAO,CAAG/d,WAAW,CAACge,UAAU,CAACzZ,OAAO,CAAC;AACzC,GAAI,CAAAgH,CAAC,CAAGhH,OAAO,CAACuZ,OAAO,CAAC,GAAG,CAAC;AAC5B,GAAI,CAAAD,GAAG,CAAG,IAAI,CAACF,QAAQ,CAAClX,IAAI,CAAC,KAAK,CAAC;AACnCoX,GAAG,CAACjX,GAAG,CAAC;AACP0E,KAAK,CAAEC,CAAC;AACR,oBAAoB,CAAGA,CAAC,CAAG,CAAC,CAAG;AAChC,CAAC,CAAC;AACF,GAAIwS,OAAO,GAAK,GAAG,CAAEF,GAAG,CAACM,WAAW,CAAC,kBAAkB,CAAC,CAAC;AACpD,GAAIJ,OAAO,GAAK,GAAG,CAAEF,GAAG,CAACM,WAAW,CAAC,QAAQ,CAAC,CAAClb,QAAQ,CAAC,WAAW,CAAC,CAAC;AACrE4a,GAAG,CAAC5a,QAAQ,CAAC,kBAAkB,CAAC;AACrC,IAAI,CAAC2a,YAAY,CAACrZ,OAAO,CAAC;AAC3B;AACA,GAAIsa,YAAY,CAAE;AACjB,GAAI,CAAAmH,OAAO,CAAG,IAAI,CAACrI,QAAQ,CAAClX,IAAI,CAAC,SAAS,CAAC;AAC3Cuf,OAAO,CAACpf,GAAG,CAAC,OAAO,CAAErC,OAAO,CAACuZ,OAAO,CAAC,GAAG,CAAC,CAAG,CAAC,CAAC;AAC9C,GAAIC,OAAO,GAAK,GAAG,CAAEiI,OAAO,CAAC7H,WAAW,CAAC,0BAA0B,CAAC,CAAC;AAChE,GAAIJ,OAAO,GAAK,GAAG,CAAEiI,OAAO,CAAC7H,WAAW,CAAC,YAAY,CAAC,CAAClb,QAAQ,CAAC,eAAe,CAAC,CAAC;AACjF+iB,OAAO,CAAC/iB,QAAQ,CAAC,0BAA0B,CAAC;AAClD;AACA,GAAI,CAAA2M,MAAM,CAAG,EAAE;AACf,GAAM,CAAAqW,gBAAgB,CAAG/f,GAAG,CAACC,cAAc,CAAG,oBAAoB;;AAElE,GAAM,CAAA+f,WAAkC,CAAG;AACxCC,GAAG,CAAE,aAAa;AAClBC,GAAG,CAAE,eAAe;AACpBC,GAAG,CAAE,cAAc;AACnBC,GAAG,CAAE,cAAc;AACnBC,GAAG,CAAE,kBAAkB;AACvBC,GAAG,CAAE,eAAe;;AAEpBC,IAAI,CAAE,aAAa;AACnBC,YAAY,CAAE,qBAAqB;AACnCC,YAAY,CAAE,qBAAqB;AACnCC,MAAM,CAAE,eAAe;AACvBC,IAAI,CAAE,aAAa;AACnBC,SAAS,CAAE;AACd,CAAC;AACD,GAAIviB,OAAO,CAACqL,MAAM,EAAIsW,WAAW,CAAC3hB,OAAO,CAACqL,MAAM,CAAC,CAAE;AAChD,GAAM,CAAAmX,IAAI,CAAGb,WAAW,CAAC3hB,OAAO,CAACqL,MAAM,CAAC;AACxCA,MAAM,gBAAiBqW,gBAAgB,CAAGc,IAAI;;AAE5BxiB,OAAO,CAACqL,MAAM,SAAO;AAC1C;AACA,GAAIrL,OAAO,CAACwhB,aAAa,CAAE,CAAEnW,MAAM,gBAAiB1J,GAAG,CAACC,cAAc,kBAAiBkX,kBAAkB,CAAC9Y,OAAO,CAACwhB,aAAa,CAAC,iBAAcxhB,OAAO,CAACwhB,aAAa,6BAAyB,CAAE,CAAC;AAC1L,GAAIxhB,OAAO,CAACqe,SAAS,CAACoE,UAAU,EAAIziB,OAAO,CAACqe,SAAS,CAACoE,UAAU,CAAC,CAAC,CAAC,CAAE;AACzE,GAAM,CAAA7J,KAAK,CAAG5Y,OAAO,CAACqe,SAAS,CAACoE,UAAU,CAAC,CAAC,CAAC,CAAC3T,KAAK,CAAC,GAAG,CAAC,CAAC,QAAA4T,IAAA,GAAAA,IAAA;AACtC9J,KAAK,CAAA5V,MAAA,CAAA0f,IAAA,GAAE,CAArB,GAAM,CAAA3T,IAAI,CAAI6J,KAAK,CAAA8J,IAAA,CAAT,CAAarX,MAAM,EAAI,YAAY,CAAG1J,GAAG,CAACC,cAAc,CAAG,gBAAgB,CAAGkX,kBAAkB,CAAC/J,IAAI,CAAC,CAAG,aAAa,CAAGA,IAAI,CAAG,yBAAyB,CAAE;AAC3K;AACA,GAAI/O,OAAO,CAACqe,SAAS,CAACsE,OAAO,CAAE;AAC9B,GAAM,CAAA5T,KAAI,CAAG/O,OAAO,CAACqe,SAAS,CAACsE,OAAO,CAAC,CAAC,CAAC;AACzCtX,MAAM,EAAI,aAAa,CAAG1J,GAAG,CAACC,cAAc,CAAG,gBAAgB,CAAGmN,KAAI,CAAG,aAAa,CAAGA,KAAI,CAAG,yBAAyB;AAC1H;AACA,IAAK,GAAM,CAAA6T,IAAI,GAAI,CAAA5iB,OAAO,CAAC6iB,MAAM,CAAE,CAAE,GAAI7iB,OAAO,CAAC6iB,MAAM,CAACD,IAAI,CAAC,CAAE,CAAEvX,MAAM,EAAI,eAAe,CAAGrL,OAAO,CAAC8iB,YAAY,CAACF,IAAyB,CAAC,CAAG,IAAI,CAAG5iB,OAAO,CAAC+iB,QAAQ,CAACH,IAAyB,CAAC,CAAG,UAAU,CAAE,CAAE;AAClN,IAAK,GAAI,CAAAjX,CAAC,GAAI,CAAA3L,OAAO,CAACqe,SAAS,CAAE,CAAEhT,MAAM,EAAI4F,aAAa,CAAC+R,YAAY,CAACrX,CAAC,CAAC,CAAE;AAC5E,IAAK,GAAI,CAAAA,IAAC,GAAI,CAAA3L,OAAO,CAAC4e,YAAY,CAAE;AACnC,GAAIjT,IAAC,GAAK,OAAO,EAAI,CAAC3L,OAAO,CAACijB,WAAW,CAAC,CAAC,CAACriB,QAAQ,CAAC,QAAQ,CAAC,CAAE;AAChEyK,MAAM,EAAI4F,aAAa,CAAC+R,YAAY,CAACrX,IAAC,CAAC;AACxC;AACA,IAAK,GAAI,CAAAA,IAAC,GAAI,CAAA3L,OAAO,CAAC6e,YAAY,CAAE,CAAExT,MAAM,EAAI4F,aAAa,CAAC+R,YAAY,CAACrX,IAAC,CAAC,CAAE;AAC/E,GAAI,CAAAuX,SAAS,CAAG,IAAI,CAAC9J,QAAQ,CAAClX,IAAI,CAAC,SAAS,CAAC;AAC7CghB,SAAS,CAACjb,IAAI,CAACoD,MAAM,CAAC;AACvB,CAAC,CAAA4F,aAAA;;AAEc+R,YAAY,CAA3B,QAAe,CAAAA,YAAYA,CAACviB,EAAU,CAAE;AACvC,GAAI,CAAA+D,MAAM,CAAGyM,aAAa,CAACkS,WAAW,CAAC1iB,EAAE,CAAC;AAC1C,GAAI,MAAO,CAAA+D,MAAM,GAAK,QAAQ,CAAE,MAAO,CAAAA,MAAM;AAC7C,GAAIA,MAAM,GAAK,IAAI,CAAE,MAAQ,CAAAyM,aAAa,CAACkS,WAAW,CAAC1iB,EAAE,CAAC,CAAG,EAAE;AAC/D,GAAI+D,MAAM,GAAK6B,SAAS,CAAE;AACzB,GAAI,CAAA+c,KAAK,MAAQ3iB,EAAE,KAAI;AACvB,GAAIkB,GAAG,CAACyL,OAAO,CAAClE,GAAG,CAACzI,EAAE,CAAC,CAAC4iB,MAAM,CAAE,CAAED,KAAK,CAAGzhB,GAAG,CAACyL,OAAO,CAAClE,GAAG,CAACzI,EAAE,CAAC,CAACqK,IAAI,CAAE,CAAC;AAChE,GAAInJ,GAAG,CAAC2hB,KAAK,CAACpa,GAAG,CAACzI,EAAE,CAAC,CAAC4iB,MAAM,CAAE,CAAED,KAAK,CAAGzhB,GAAG,CAAC2hB,KAAK,CAACpa,GAAG,CAACzI,EAAE,CAAC,CAACqK,IAAI,CAAE,CAAC;AACjE,GAAInJ,GAAG,CAACsH,KAAK,CAACC,GAAG,CAACzI,EAAE,CAAC,CAAC4iB,MAAM,CAAE,CAAED,KAAK,CAAGzhB,GAAG,CAACsH,KAAK,CAACC,GAAG,CAACzI,EAAE,CAAC,CAACqK,IAAI,CAAE,CAAC;AACjE,GAAInJ,GAAG,CAAC4hB,SAAS,CAACra,GAAG,CAACzI,EAAE,CAAC,CAAC4iB,MAAM,CAAE,CAAED,KAAK,CAAGzhB,GAAG,CAAC4hB,SAAS,CAACra,GAAG,CAACzI,EAAE,CAAC,CAACqK,IAAI,CAAE,CAAC;AACzE,GAAK0Y,aAAa,CAAS/iB,EAAE,CAACgjB,MAAM,CAAC,CAAC,CAAE,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,CAAGjjB,EAAE,CAACgjB,MAAM,CAAC,CAAC,CAAC,CAACjX,WAAW,CAAC,CAAC,CAAC,CAAE,CAAE4W,KAAK,CAAG3iB,EAAE,CAACgjB,MAAM,CAAC,CAAC,CAAE,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,CAAGjjB,EAAE,CAACgjB,MAAM,CAAC,CAAC,CAAC,CAACjX,WAAW,CAAC,CAAC,CAAE;AACnKhI,MAAM,CAAG,CAAC4e,KAAK,CAAE,SAAS,CAAC;AAC5B;AACA,MAAQ,CAAAnS,aAAa,CAACkS,WAAW,CAAC1iB,EAAE,CAAC,kBAAmB+D,MAAM,CAAC,CAAC,CAAC,OAAKA,MAAM,CAAC,CAAC,CAAC,CAACiX,OAAO,CAAC,IAAI,CAAE,QAAQ,CAAC,WAAU;AAClH,CAAC,CAAA6B,OAAA;AACDjE,YAAY,CAAZ,SAAAA,YAAYA,CAACrZ,OAAgB,CAAE;AAC9B,GAAI,CAAC,IAAI,CAACoZ,QAAQ,CAAE;AACpB,GAAI,CAAAuK,OAAO,CAAG,IAAI,CAACvK,QAAQ,CAAClX,IAAI,CAAC,SAAS,CAAC;AAC3C,GAAI,CAAA0hB,aAAa,CAAG,IAAI,CAACxK,QAAQ,CAAClX,IAAI,CAAC,eAAe,CAAC;AACvD,GAAIlC,OAAO,CAACmL,KAAK,GAAK,EAAE,EAAI,IAAI,CAACiR,KAAK,CAAC1gB,MAAM,CAACqM,YAAY,EAAI/H,OAAO,CAACmL,KAAK,GAAK,GAAG,CAAE;AACpFwY,OAAO,CAACpE,IAAI,CAAC,CAAC;AACdqE,aAAa,CAACrE,IAAI,CAAC,CAAC;AACrB,CAAC,IAAM,IAAI,IAAI,CAACnD,KAAK,CAAC1gB,MAAM,CAACqM,YAAY,EAAI,IAAI,CAACqU,KAAK,CAAC1gB,MAAM,CAACmoB,aAAa,CAAE;AAC7EF,OAAO,CAAC1b,IAAI,CAAIjI,OAAO,CAACkL,EAAE,IAAG,CAAC;AAC9ByY,OAAO,CAACG,IAAI,CAAC,CAAC;AACdF,aAAa,CAACE,IAAI,CAAC,CAAC;AACrB,CAAC,IAAM;AACNH,OAAO,CAAC1b,IAAI,CAAIjI,OAAO,CAACuZ,OAAO,CAAC,GAAG,CAAC,IAAG,CAAC;AACxCoK,OAAO,CAACG,IAAI,CAAC,CAAC;AACdF,aAAa,CAACE,IAAI,CAAC,CAAC;AACrB;AACD,CAAC,QAAA7S,aAAA,GAh/BiC4F,MAAM,EAA5B5F,aAAa,CAERkS,WAAW,CAA2E,CACtG7E,WAAW,CAAE,IAAI,CACjBmE,UAAU,CAAE,IAAI,CAChBE,OAAO,CAAE,IAAI,CACbpE,OAAO,CAAE,CAAC,WAAW,CAAE,MAAM,CAAC,CAC9BwF,OAAO,CAAE,IAAI,CACbC,UAAU,CAAE,CAAC,aAAa,CAAE,KAAK,CAAC,CAClCC,SAAS,CAAE,CAAC,UAAU,CAAE,KAAK,CAAC,CAC9BC,SAAS,CAAE,CAAC,YAAY,CAAE,KAAK,CAAC,CAChCC,IAAI,CAAE,CAAC,QAAQ,CAAE,KAAK,CAAC,CACvBC,SAAS,CAAE,CAAC,YAAY,CAAE,MAAM,CAAC,CACjCC,QAAQ,CAAE,CAAC,iBAAiB,CAAE,MAAM,CAAC,CACrCC,UAAU,CAAE,CAAC,WAAW,CAAE,SAAS,CAAC,CACpCC,UAAU,CAAE,CAAC,aAAa,CAAE,KAAK,CAAC,CAClCC,SAAS,CAAE,CAAC,WAAW,CAAE,KAAK,CAAC,CAC/BC,WAAW,CAAE,CAAC,aAAa,CAAE,SAAS,CAAC,CACvCC,SAAS,CAAE,CAAC,aAAa,CAAE,SAAS,CAAC,CACrCC,UAAU,CAAE,CAAC,aAAa,CAAE,SAAS,CAAC,CACtCC,KAAK,CAAE,CAAC,OAAO,CAAE,KAAK,CAAC,CACvBC,SAAS,CAAE,CAAC,WAAW,CAAE,KAAK,CAAC,CAC/BC,OAAO,CAAE,CAAC,aAAa,CAAE,KAAK,CAAC,CAC/BC,OAAO,CAAE,CAAC,SAAS,CAAE,KAAK,CAAC,CAC3BC,KAAK,CAAE,CAAC,OAAO,CAAE,KAAK,CAAC,CACvBC,OAAO,CAAE,CAAC,SAAS,CAAE,KAAK,CAAC,CAC3BC,OAAO,CAAE,CAAC,SAAS,CAAE,KAAK,CAAC,CAC3BC,OAAO,CAAE,CAAC,SAAS,CAAE,MAAM,CAAC,CAC5BC,QAAQ,CAAE,CAAC,WAAW,CAAE,MAAM,CAAC,CAC/BC,UAAU,CAAE,CAAC,WAAW,CAAE,MAAM,CAAC,CACjCC,UAAU,CAAE,CAAC,mBAAmB,CAAE,MAAM,CAAC,CACzCC,UAAU,CAAE,CAAC,mBAAmB,CAAE,MAAM,CAAC,CACzCC,OAAO,CAAE,CAAC,YAAY,CAAE,KAAK,CAAC,CAC9BC,OAAO,CAAE,CAAC,kBAAkB,CAAE,KAAK,CAAC,CACpCC,OAAO,CAAE,CAAC,aAAa,CAAE,KAAK,CAAC,CAC/BC,OAAO,CAAE,CAAC,aAAa,CAAE,KAAK,CAAC,CAC/BC,UAAU,CAAE,CAAC,SAAS,CAAE,MAAM,CAAC,CAC/BC,SAAS,CAAE,CAAC,YAAY,CAAE,KAAK,CAAC,CAChCC,MAAM,CAAE,CAAC,QAAQ,CAAE,KAAK,CAAC,CACzBC,YAAY,CAAE,CAAC,eAAe,CAAE,KAAK,CAAC,CACtCC,IAAI,CAAE,CAAC,MAAM,CAAE,MAAM,CAAC,CACtBC,UAAU,CAAE,CAAC,aAAa,CAAE,MAAM,CAAC,CACnCC,SAAS,CAAE,CAAC,YAAY,CAAE,KAAK,CAAC,CAChCC,WAAW,CAAE,CAAC,oBAAoB,CAAE,MAAM,CAAC,CAC3CC,WAAW,CAAE,CAAC,oBAAoB,CAAE,MAAM,CAAC,CAC3CC,SAAS,CAAE,CAAC,YAAY,CAAE,KAAK,CAAC,CAChCC,iBAAiB,CAAE,CAAC,qBAAqB,CAAE,MAAM,CAAC,CAClDC,iBAAiB,CAAE,CAAC,qBAAqB,CAAE,MAAM,CAAC,CAClDC,iBAAiB,CAAE,CAAC,qBAAqB,CAAE,MAAM,CAAC,CAClDC,iBAAiB,CAAE,CAAC,qBAAqB,CAAE,MAAM,CAAC,CAClDC,iBAAiB,CAAE,CAAC,qBAAqB,CAAE,MAAM,CAAC,CAClDC,aAAa,CAAE,CAAC,kBAAkB,CAAE,MAAM,CAAC,CAC3CC,aAAa,CAAE,CAAC,kBAAkB,CAAE,MAAM,CAAC,CAC3CC,aAAa,CAAE,CAAC,kBAAkB,CAAE,MAAM,CAAC,CAC3CC,aAAa,CAAE,CAAC,kBAAkB,CAAE,MAAM,CAAC,CAC3CC,aAAa,CAAE,CAAC,kBAAkB,CAAE,MAAM,CAAC,CAC3CC,OAAO,CAAE,CAAC,WAAW,CAAE,MAAM,CAAC,CAC9BC,OAAO,CAAE,CAAC,WAAW,CAAE,MAAM,CAAC,CAC9BC,OAAO,CAAE,CAAC,WAAW,CAAE,MAAM,CAAC,CAC9BC,OAAO,CAAE,CAAC,WAAW,CAAE,MAAM,CAAC,CAC9BC,OAAO,CAAE,CAAC,WAAW,CAAE,MAAM,CAAC,CAC9BC,SAAS,CAAE,CAAC,YAAY,CAAE,KAAK,CAAC,CAChCC,QAAQ,CAAE,CAAC,UAAU,CAAE,KAAK,CAAC,CAC7BC,OAAO,CAAE,CAAC,UAAU,CAAE,KAAK,CAAC,CAC5BC,QAAQ,CAAE,CAAC,WAAW,CAAE,KAAK,CAAC,CAC9BC,SAAS,CAAE,CAAC,QAAQ,CAAE,KAAK,CAAC,CAC5BC,UAAU,CAAE,IAAI,CAChBC,WAAW,CAAE,IAAI,CACjBC,KAAK,CAAE,CAAC,OAAO,CAAE,MAAM,CAAC,CACxBC,UAAU,CAAE,CAAC,aAAa,CAAE,MAAM,CAAC,CACnCC,QAAQ,CAAE,CAAC,WAAW,CAAE,MAAM,CAAC,CAC/BC,UAAU,CAAE,IAAI,CAEhBC,MAAM,CAAE,CAAC,QAAQ,CAAE,SAAS,CAAC,CAC7BC,IAAI,CAAE,CAAC,MAAM,CAAE,SAAS,CAAC,CACzBC,KAAK,CAAE,CAAC,QAAQ,CAAE,SAAS,CAAC,CAC5BnH,OAAO,CAAE,CAAC,SAAS,CAAE,MAAM,CAAC,CAC5BoH,UAAU,CAAE,CAAC,aAAa,CAAE,MAAM,CAAC,CACnCC,SAAS,CAAE,CAAC,YAAY,CAAE,MAAM,CAAC,CACjCC,YAAY,CAAE,CAAC,eAAe,CAAE,MAAM,CAAC,CACvCC,QAAQ,CAAE,CAAC,WAAW,CAAE,MAAM,CAAC,CAC/BC,QAAQ,CAAE,CAAC,WAAW,CAAE,MAAM,CAAC,CAC/BC,WAAW,CAAE,CAAC,cAAc,CAAE,MAAM,CAAC,CACrCC,SAAS,CAAE,CAAC,YAAY,CAAE,MAAM,CAAC,CACjCC,WAAW,CAAE,CAAC,cAAc,CAAE,MAAM,CAAC,CACrCC,MAAM,CAAE,CAAC,QAAQ,CAAE,MAAM,CAAC,CAC1BC,MAAM,CAAE,CAAC,QAAQ,CAAE,MAAM,CAAC,CAC1BC,MAAM,CAAE,CAAC,QAAQ,CAAE,MAAM,CAAC,CAC1BC,MAAM,CAAE,CAAC,QAAQ,CAAE,MAAM,CAAC,CAC1BC,UAAU,CAAE,CAAC,UAAU,CAAE,SAAS,CAAC,CACnCC,SAAS,CAAE,CAAC,UAAU,CAAE,SAAS,CAAC,CAClCC,MAAM,CAAE,CAAC,QAAQ,CAAE,KAAK,CAAC,CACzBC,SAAS,CAAE,CAAC,WAAW,CAAE,KAAK,CAAC,CAC/BC,UAAU,CAAE,CAAC,aAAa,CAAE,KAAK,CAAC,CAClCC,UAAU,CAAE,CAAC,aAAa,CAAE,MAAM,CAAC,CACnCC,QAAQ,CAAE,CAAC,WAAW,CAAE,MAAM,CAAC,CAC/BC,QAAQ,CAAE,CAAC,UAAU,CAAE,SAAS,CAAC,CACjCC,SAAS,CAAE,CAAC,YAAY,CAAE,SAAS,CAAC,CACpCC,UAAU,CAAE,CAAC,aAAa,CAAE,MAAM,CAAC,CACnCC,SAAS,CAAE,CAAC,WAAW,CAAE,SAAS,CAAC,CACnCC,WAAW,CAAE,IAAI,CAEjBzqB,IAAI,CAAE,CAAC,MAAM,CAAE,KAAK,CAAC,CACrB0qB,KAAK,CAAE,CAAC,OAAO,CAAE,KAAK,CAAC,CACvBC,QAAQ,CAAE,CAAC,WAAW,CAAE,KAAK,CAAC,CAC9BC,WAAW,CAAE,CAAC,aAAa,CAAE,KAAK,CAAC,CACnCC,UAAU,CAAE,CAAC,aAAa,CAAE,KAAK,CAAC,CAClCC,QAAQ,CAAE,CAAC,WAAW,CAAE,KAAK,CAAC,CAC9BC,QAAQ,CAAE,CAAC,WAAW,CAAE,KAAK,CAAC,CAC9BC,WAAW,CAAE,CAAC,cAAc,CAAE,KAAK,CAAC,CACpCC,SAAS,CAAE,CAAC,WAAW,CAAE,KAAK,CAAC,CAC/BC,IAAI,CAAE,CAAC,MAAM,CAAE,KAAK,CAAC,CAErBjT,IAAI,CAAE,CAAC,MAAM,CAAE,MAAM,CAAC,CAEtBD,WAAW,CAAE,CAAC,cAAc,CAAE,MAAM,CAAC,CACrCF,OAAO,CAAE,CAAC,SAAS,CAAE,MAAM,CAC5B,CAAC;;;;;;;;AAm4BFxR,MAAM,CAACC,MAAM,CAAC/G,CAAC,CAAC2rB,MAAM,CAAE;AACvBC,WAAW,SAAAA,CAAC3jB,CAAS,CAAE4jB,CAAS,CAAEC,CAAS,CAAEC,CAAS,CAAEC,CAAS,CAAE,CAAE,MAAO,CAAC,CAAC,CAAG/jB,CAAC,CAAGA,CAAC,CAAG,CAAC,CAAGA,CAAC,CAAE,CAAC;AACjGgkB,aAAa,SAAAA,CAAChkB,CAAS,CAAE4jB,CAAS,CAAEC,CAAS,CAAEC,CAAS,CAAEC,CAAS,CAAE;AACpE/jB,CAAC,CAAG,CAAC,CAAGA,CAAC;AACT,MAAO,EAAC,EAAI,CAAC,CAAC,CAAGA,CAAC,CAAGA,CAAC,CAAG,CAAC,CAAGA,CAAC,CAAC;AAChC,CAAC;AACDikB,MAAM,SAAAA,CAACjkB,CAAS,CAAE4jB,CAAS,CAAEC,CAAS,CAAEC,CAAS,CAAEC,CAAS,CAAE;AAC7D/jB,CAAC,CAAG,CAAC,CAAGA,CAAC;AACT,MAAO,EAAC,CAAIA,CAAC,CAAGA,CAAE;AACnB,CAAC;AACDkkB,QAAQ,SAAAA,CAAClkB,CAAS,CAAE4jB,CAAS,CAAEC,CAAS,CAAEC,CAAS,CAAEC,CAAS,CAAE,CAAE,MAAO,CAAA/jB,CAAC,CAAGA,CAAC,CAAE;AACjF,CAAC,CAAC;;;;;;;;AAQF,GAAM,CAAA5B,aAA0C,CAAG;AAClD+lB,IAAI,CAAE,CAAE7lB,GAAG,CAAE,UAAU;AACtBgC,CAAC,CAAE,GAAG,CAAEC,CAAC,CAAE;AACZ,CAAC;AACD6jB,UAAU,CAAE,CAAE9lB,GAAG,CAAE,gBAAgB;AAClCgC,CAAC,CAAE,GAAG,CAAEC,CAAC,CAAE;AACZ,CAAC;AACD8jB,SAAS,CAAE,CAAE/lB,GAAG,CAAE,eAAe;AAChCgC,CAAC,CAAE,GAAG,CAAEC,CAAC,CAAE;AACZ,CAAC;AACD+jB,OAAO,CAAE,CAAEhmB,GAAG,CAAE,aAAa;AAC5BgC,CAAC,CAAE,GAAG,CAAEC,CAAC,CAAE;AACZ,CAAC;AACDgkB,SAAS,CAAE,CAAEjmB,GAAG,CAAE,eAAe;AAChCgC,CAAC,CAAE,GAAG,CAAEC,CAAC,CAAE;AACZ,CAAC;AACDikB,QAAQ,CAAE,CAAElmB,GAAG,CAAE,cAAc;AAC9BgC,CAAC,CAAE,EAAE,CAAEC,CAAC,CAAE;AACX,CAAC;AACDkkB,YAAY,CAAE,CAAEnmB,GAAG,CAAE,kBAAkB;AACtCgC,CAAC,CAAE,EAAE,CAAEC,CAAC,CAAE;AACX,CAAC;AACDmkB,MAAM,CAAE,CAAEpmB,GAAG,CAAE,YAAY;AAC1BgC,CAAC,CAAE,EAAE,CAAEC,CAAC,CAAE;AACX,CAAC;AACDokB,UAAU,CAAE,CAAErmB,GAAG,CAAE,iBAAiB;AACnCgC,CAAC,CAAE,EAAE,CAAEC,CAAC,CAAE;AACX,CAAC;AACDqkB,SAAS,CAAE,CAAEtmB,GAAG,CAAE,eAAe;AAChCgC,CAAC,CAAE,EAAE,CAAEC,CAAC,CAAE;AACX,CAAC;AACDskB,KAAK,CAAE,CAAEvmB,GAAG,CAAE,WAAW;AACxBgC,CAAC,CAAE,GAAG,CAAEC,CAAC,CAAE;AACZ,CAAC;AACDkQ,KAAK,CAAE,CAAEnS,GAAG,CAAE,WAAW;AACxBgC,CAAC,CAAE,EAAE,CAAEC,CAAC,CAAE;AACX,CAAC;AACDmQ,KAAK,CAAE,CAAEpS,GAAG,CAAE,WAAW;AACxBgC,CAAC,CAAE,EAAE,CAAEC,CAAC,CAAE;AACX,CAAC;AACDoQ,KAAK,CAAE,CAAErS,GAAG,CAAE,WAAW;AACxBgC,CAAC,CAAE,EAAE,CAAEC,CAAC,CAAE;AACX,CAAC;AACDukB,KAAK,CAAE,CAAExmB,GAAG,CAAE,WAAW;AACxBgC,CAAC,CAAE,EAAE,CAAEC,CAAC,CAAE;AACX,CAAC;AACDwkB,KAAK,CAAE,CAAEzmB,GAAG,CAAE,WAAW;AACxBgC,CAAC,CAAE,EAAE,CAAEC,CAAC,CAAE;AACX,CAAC;AACDykB,IAAI,CAAE,CAAE1mB,GAAG,CAAE,UAAU;AACtBgC,CAAC,CAAE,EAAE,CAAEC,CAAC,CAAE;AACX,CAAC;AACD8Q,OAAO,CAAE,CAAE/S,GAAG,CAAE,aAAa;AAC5BgC,CAAC,CAAE,EAAE,CAAEC,CAAC,CAAE;AACX,CAAC;AACDuQ,WAAW,CAAE,CAAExS,GAAG,CAAE,iBAAiB;AACpCgC,CAAC,CAAE,EAAE,CAAEC,CAAC,CAAE;AACX,CAAC;AACDyQ,WAAW,CAAE,CAAE1S,GAAG,CAAE,iBAAiB;AACpCgC,CAAC,CAAE,EAAE,CAAEC,CAAC,CAAE;AACX,CAAC;AACDoR,aAAa,CAAE,CAAErT,GAAG,CAAE,mBAAmB;AACxCgC,CAAC,CAAE,EAAE,CAAEC,CAAC,CAAE;AACX,CAAC;AACD0kB,UAAU,CAAE,CAAE3mB,GAAG,CAAE,gBAAgB;AAClCgC,CAAC,CAAE,GAAG,CAAEC,CAAC,CAAE;AACZ,CAAC;AACD2Z,UAAU,CAAE,CAAE5b,GAAG,CAAE,gBAAgB;AAClCgC,CAAC,CAAE,GAAG,CAAEC,CAAC,CAAE;AACZ,CAAC;AACD2kB,WAAW,CAAE,CAAE5mB,GAAG,CAAE,iBAAiB;AACpCgC,CAAC,CAAE,GAAG,CAAEC,CAAC,CAAE;AACZ,CAAC;AACD4kB,QAAQ,CAAE,CAAE7mB,GAAG,CAAE,cAAc;AAC9BgC,CAAC,CAAE,GAAG,CAAEC,CAAC,CAAE;AACZ,CAAC;AACD6kB,OAAO,CAAE,CAAE9mB,GAAG,CAAE,aAAa;AAC5BgC,CAAC,CAAE,GAAG,CAAEC,CAAC,CAAE;AACZ,CAAC;AACD8kB,SAAS,CAAE,CAAE/mB,GAAG,CAAE,eAAe;AAChCgC,CAAC,CAAE,GAAG,CAAEC,CAAC,CAAE;AACZ,CAAC;AACD+kB,IAAI,CAAE,CAAEhnB,GAAG,CAAE,UAAU;AACtBgC,CAAC,CAAE,GAAG,CAAEC,CAAC,CAAE;AACZ,CAAC;AACDglB,QAAQ,CAAE,CAAEjnB,GAAG,CAAE,cAAc;AAC9BgC,CAAC,CAAE,EAAE,CAAEC,CAAC,CAAE;AACX,CAAC;AACDilB,IAAI,CAAE,CAAElnB,GAAG,CAAE,UAAU;AACtBgC,CAAC,CAAE,EAAE,CAAEC,CAAC,CAAE;AACX,CAAC;AACDklB,KAAK,CAAE,CAAEnnB,GAAG,CAAE,WAAW;AACxBgC,CAAC,CAAE,EAAE,CAAEC,CAAC,CAAE;AACX,CAAC;AACDmlB,IAAI,CAAE,CAAEpnB,GAAG,CAAE,UAAU;AACtBgC,CAAC,CAAE,EAAE,CAAEC,CAAC,CAAE;AACX,CAAC;AACDolB,OAAO,CAAE,CAAErnB,GAAG,CAAE,aAAa;AAC5BgC,CAAC,CAAE,GAAG,CAAEC,CAAC,CAAE;AACZ,CAAC;AACDqlB,UAAU,CAAE,CAAEtnB,GAAG,CAAE,gBAAgB;AAClCgC,CAAC,CAAE,GAAG,CAAEC,CAAC,CAAE;AACZ,CAAC;AACDsR,GAAG,CAAE,CAAEvT,GAAG,CAAE,SAAS;AACpBgC,CAAC,CAAE,GAAG,CAAEC,CAAC,CAAE;AACZ,CAAC;AACDslB,QAAQ,CAAE,CAAEvnB,GAAG,CAAE,cAAc;AAC9BgC,CAAC,CAAE,EAAE,CAAEC,CAAC,CAAE;AACX,CAAC;AACDulB,SAAS,CAAE,CAAExnB,GAAG,CAAE,eAAe;AAChCgC,CAAC,CAAE,EAAE,CAAEC,CAAC,CAAE;AACX,CAAC;AACDwlB,SAAS,CAAE,CAAEznB,GAAG,CAAE,eAAe;AAChCgC,CAAC,CAAE,EAAE,CAAEC,CAAC,CAAE;AACX,CAAC;AACDylB,UAAU,CAAE,CAAE1nB,GAAG,CAAE,gBAAgB;AAClCgC,CAAC,CAAE,EAAE,CAAEC,CAAC,CAAE;AACX,CAAC;AACD0lB,QAAQ,CAAE,CAAE3nB,GAAG,CAAE,cAAc;AAC9BgC,CAAC,CAAE,GAAG,CAAEC,CAAC,CAAE;AACZ,CAAC;AACD2lB,SAAS,CAAE,CAAE5nB,GAAG,CAAE,eAAe;AAChCgC,CAAC,CAAE,GAAG,CAAEC,CAAC,CAAE;AACZ,CAAC;AACD4lB,KAAK,CAAE,CAAE7nB,GAAG,CAAE,WAAW;AACxBgC,CAAC,CAAE,EAAE,CAAEC,CAAC,CAAE;AACX,CAAC;AACD6lB,KAAK,CAAE,CAAE9nB,GAAG,CAAE,WAAW;AACxBgC,CAAC,CAAE,EAAE,CAAEC,CAAC,CAAE;AACX,CAAC;AACD8lB,OAAO,CAAE,CAAE/nB,GAAG,CAAE,aAAa;AAC5BgC,CAAC,CAAE,GAAG,CAAEC,CAAC,CAAE;AACZ,CAAC;AACD+lB,KAAK,CAAE,CAAEhoB,GAAG,CAAE,WAAW;AACxBgC,CAAC,CAAE,EAAE,CAAEC,CAAC,CAAE;AACX,CAAC;AACDgmB,MAAM,CAAE,CAAEjoB,GAAG,CAAE,YAAY;AAC1BgC,CAAC,CAAE,GAAG,CAAEC,CAAC,CAAE;AACZ,CAAC;AACDimB,KAAK,CAAE,CAAEloB,GAAG,CAAE,WAAW;AACxBgC,CAAC,CAAE,GAAG,CAAEC,CAAC,CAAE;AACZ,CAAC;AACDkmB,KAAK,CAAE,CAAEnoB,GAAG,CAAE,WAAW;AACxBgC,CAAC,CAAE,GAAG,CAAEC,CAAC,CAAE;AACZ,CAAC;AACDmmB,OAAO,CAAE,CAAEpoB,GAAG,CAAE,aAAa;AAC5BgC,CAAC,CAAE,GAAG,CAAEC,CAAC,CAAE;AACZ,CAAC;AACDomB,KAAK,CAAE,CAAEroB,GAAG,CAAE,WAAW;AACxBgC,CAAC,CAAE,GAAG,CAAEC,CAAC,CAAE;AACZ,CAAC;AACDqmB,KAAK,CAAE,CAAEtoB,GAAG,CAAE,WAAW;AACxBgC,CAAC,CAAE,EAAE,CAAEC,CAAC,CAAE;AACX,CAAC;AACDsmB,IAAI,CAAE,CAAEvoB,GAAG,CAAE,UAAU;AACtBgC,CAAC,CAAE,GAAG,CAAEC,CAAC,CAAE;AACZ,CAAC;AACDumB,KAAK,CAAE,CAAExoB,GAAG,CAAE,WAAW;AACxBgC,CAAC,CAAE,EAAE,CAAEC,CAAC,CAAE;AACX,CAAC;AACDwmB,KAAK,CAAE,CAAEzoB,GAAG,CAAE,WAAW;AACxBgC,CAAC,CAAE,EAAE,CAAEC,CAAC,CAAE;AACX,CAAC;AACDymB,OAAO,CAAE,CAAE1oB,GAAG,CAAE,aAAa;AAC5BgC,CAAC,CAAE,GAAG,CAAEC,CAAC,CAAE;AACZ,CAAC;AACD0mB,OAAO,CAAE,CAAE3oB,GAAG,CAAE,cAAc;AAC7BgC,CAAC,CAAE,GAAG,CAAEC,CAAC,CAAE;AACZ,CAAC;AACD2mB,KAAK,CAAE,CAAE5oB,GAAG,CAAE,WAAW;AACxBgC,CAAC,CAAE,GAAG,CAAEC,CAAC,CAAE;AACZ,CAAC;AACD4mB,OAAO,CAAE,CAAE7oB,GAAG,CAAE,eAAe;AAC9BgC,CAAC,CAAE,GAAG,CAAEC,CAAC,CAAE;AACZ,CAAC;AACD8Z,OAAO,CAAE,CAAEzE,OAAO,CAAE,2EAA2E;AAC9FtV,CAAC,CAAE,GAAG,CAAEC,CAAC,CAAE;AACZ,CAAC;AACD2P,UAAU,CAAE,CAAE0F,OAAO,CAAE,iFAAiF;AACvGtV,CAAC,CAAE,GAAG,CAAEC,CAAC,CAAE;AACZ,CAAC;AACD8P,OAAO,CAAE,CAAEuF,OAAO,CAAE,8EAA8E;AACjGtV,CAAC,CAAE,GAAG,CAAEC,CAAC,CAAE;AACZ,CAAC;AACD+P,SAAS,CAAE,CAAEsF,OAAO,CAAE,gFAAgF;AACrGtV,CAAC,CAAE,GAAG,CAAEC,CAAC,CAAE;AACZ,CAAC;AACDgQ,WAAW,CAAE,CAAEqF,OAAO,CAAE,kFAAkF;AACzGtV,CAAC,CAAE,GAAG,CAAEC,CAAC,CAAE;AACZ,CAAC;AACDiQ,IAAI,CAAE,CAAEoF,OAAO,CAAE,2EAA2E;AAC3FtV,CAAC,CAAE,GAAG,CAAEC,CAAC,CAAE;AACZ;AACD,CAAC;AACD,CAAC,UAAM;AACN,GAAI,CAAC6mB,MAAM,CAACnsB,GAAG,EAAI,CAACA,GAAG,CAACC,cAAc,CAAE;AACxC,IAAK,GAAM,CAAAnB,EAAE,GAAI,CAAAqE,aAAa,CAAE;AAC/B,GAAI,CAACA,aAAa,CAACrE,EAAE,CAAC,CAACuE,GAAG,CAAE;AAC5BF,aAAa,CAACrE,EAAE,CAAC,CAACuE,GAAG,CAAGrD,GAAG,CAACiR,QAAQ,CAAG9N,aAAa,CAACrE,EAAE,CAAC,CAACuE,GAAG;AAC7D;AACD,CAAC,EAAE,CAAC;AACJ,GAAM,CAAAwF,oBAAoB,CAAG;AAC5B,aAAa;AACb,kBAAkB;AAClB,mBAAmB;AACnB,kBAAkB;AAClB,oBAAoB;AACpB,mBAAmB,CACnB;;AACD,GAAM,CAAAC,mBAAmB,CAAG;AAC3B,aAAa;AACb,kBAAkB;AAClB,kBAAkB;AAClB,qBAAqB;AACrB,mBAAmB,CACnB;;AACD,GAAM,CAAAC,mBAAmB,CAAG;AAC3B,cAAc;AACd,mBAAmB;AACnB,eAAe;AACf,eAAe;AACf,sBAAsB;AACtB,aAAa;AACb,mBAAmB;AACnB,iBAAiB;AACjB,oBAAoB;AACpB,iBAAiB;AACjB,eAAe;AACf,cAAc;AACd,gBAAgB;AAChB,gBAAgB;AAChB,cAAc,CACd;;AACD,GAAM,CAAAC,eAAe,CAAG;AACvB,sBAAsB;AACtB,cAAc;AACd,aAAa;AACb,iBAAiB;AACjB,kBAAkB;AAClB,iBAAiB;AACjB,mBAAmB;AACnB,gBAAgB;AAChB,eAAe;AACf,mBAAmB;AACnB,oBAAoB;AACpB,eAAe;AACf,gBAAgB;AAChB,sBAAsB;AACtB,gBAAgB;AAChB,eAAe;AACf,mBAAmB;AACnB,gBAAgB;AAChB,kBAAkB,CAClB;;;AAEM,GAAM,CAAAvB,gBAA2B,CAAG;AAC1CykB,OAAO,CAAE;AACRxkB,IAAI,SAAAA,CAAC+S,KAAK,CAAA2R,KAAA,CAAc,IAAX,CAAAjkB,QAAQ,CAAAikB,KAAA;AACrB3R,KAAK,CAAC7X,UAAU,CAAC,SAAS;AAC1B,CAAEmC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAAExB,KAAK,CAAE,GAAG,CAAE9C,OAAO,CAAE,CAAG,CAAC;AACxE,CAAEA,OAAO,CAAE,GAAG,CAAE6B,IAAI,CAAE,GAAK,CAAC,CAAE,QAAQ,CAAE,MAAM,CAAC;AAC/C;AACD,CAAC;AACD6pB,MAAM,CAAE;AACP3kB,IAAI,SAAAA,CAAC+S,KAAK,CAAA6R,KAAA,CAAwB,IAArB,CAAAnkB,QAAQ,CAAAmkB,KAAA,IAAElkB,QAAQ,CAAAkkB,KAAA;AAC/B7R,KAAK,CAAC7X,UAAU,CAAC,MAAM;AACvB,CAAEmC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAAExB,KAAK,CAAE,GAAG,CAAE9C,OAAO,CAAE,CAAG,CAAC;AACxE,CAAEoE,CAAC,CAAEqD,QAAQ,CAACrD,CAAC,CAAEC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAAC+M,MAAM,CAAC,EAAE,CAAC,CAAE1R,KAAK,CAAE,CAAC,CAAE9C,OAAO,CAAE,GAAK,CAAC,CAAE,QAAQ,CAAC;AAC5F;AACD,CAAC;AACD4rB,aAAa,CAAE;AACd7kB,IAAI,SAAAA,CAAC+S,KAAK,CAAA+R,KAAA,CAAwB,IAArB,CAAArkB,QAAQ,CAAAqkB,KAAA,IAAEpkB,QAAQ,CAAAokB,KAAA;AAC/BrkB,QAAQ,CAACT,IAAI,CAAC,CAAE3C,CAAC,CAAEqD,QAAQ,CAACrD,CAAC,CAAEC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEmD,QAAQ,CAAC+M,MAAM,CAAC,CAAC,EAAE,CAAC,CAAE3S,IAAI,CAAE,GAAK,CAAC,CAAE,WAAW,CAAC;AACtG2F,QAAQ,CAACT,IAAI,CAAC,CAAE3C,CAAC,CAAEqD,QAAQ,CAACrD,CAAC,CAAEC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAG,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAEzC,IAAI,CAAE,GAAK,CAAC,CAAC;AAC9E2F,QAAQ,CAACT,IAAI,CAAC,CAAElF,IAAI,CAAE,GAAK,CAAC,CAAE,gBAAgB,CAAC;AAC/C4F,QAAQ,CAAClE,KAAK,CAAC,GAAG,CAAC;AACnBkE,QAAQ,CAACV,IAAI,CAAC,CAAEzC,CAAC,CAAEmD,QAAQ,CAAC+M,MAAM,CAAC,EAAE,CAAC,CAAE3S,IAAI,CAAE,GAAK,CAAC,CAAE,OAAO,CAAC;AAC9D4F,QAAQ,CAACV,IAAI,CAAC,CAAElF,IAAI,CAAE,GAAK,CAAC,CAAE,OAAO,CAAC;AACtCiY,KAAK,CAAClY,IAAI,CAAC,GAAG,CAAC;AACf;AACD,CAAC;AACDkqB,OAAO,CAAE;AACR/kB,IAAI,SAAAA,CAAC+S,KAAK,CAAAiS,KAAA,CAAwB,IAArB,CAAAvkB,QAAQ,CAAAukB,KAAA,IAAEtkB,QAAQ,CAAAskB,KAAA;AAC9BjS,KAAK,CAAC7X,UAAU,CAAC,MAAM;AACvB,CAAEmC,CAAC,CAAEqD,QAAQ,CAACrD,CAAC,CAAEC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAExB,KAAK,CAAE,CAAC,CAAE9C,OAAO,CAAE,CAAC,CAAE6B,IAAI,CAAE,GAAK,CAAC;AACjF,CAAEuC,CAAC,CAAEqD,QAAQ,CAACmH,MAAM,CAAC,CAAC,EAAE,CAAC,CAAEvK,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAAC+M,MAAM,CAAC,EAAE,CAAC,CAAE1R,KAAK,CAAE,CAAC,CAAE9C,OAAO,CAAE,CAAC,CAAE6B,IAAI,CAAE,GAAK,CAAC,CAAE,QAAQ,CAAC;AAC/GiY,KAAK,CAAC7X,UAAU,CAAC,MAAM,CAAE,CAAEmC,CAAC,CAAEqD,QAAQ,CAACrD,CAAC,CAAEC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAExB,KAAK,CAAE,CAAC,CAAE9C,OAAO,CAAE,CAAC,CAAE6B,IAAI,CAAE,GAAK,CAAC;AAC1G,CAAEuC,CAAC,CAAEqD,QAAQ,CAACmH,MAAM,CAAC,CAAC,EAAE,CAAC,CAAEvK,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAAC+M,MAAM,CAAC,EAAE,CAAC,CAAE1R,KAAK,CAAE,CAAC,CAAE9C,OAAO,CAAE,CAAC,CAAE6B,IAAI,CAAE,IAAM,CAAC,CAAE,QAAQ,CAAC;AAChH4F,QAAQ,CAAClE,KAAK,CAAC,GAAG,CAAC;AACnBkE,QAAQ,CAACV,IAAI,CAAC,CAAEzC,CAAC,CAAEmD,QAAQ,CAAC+M,MAAM,CAAC,EAAE,CAAC,CAAE3S,IAAI,CAAE,GAAK,CAAC,CAAE,OAAO,CAAC;AAC9D4F,QAAQ,CAACV,IAAI,CAAC,CAAElF,IAAI,CAAE,GAAK,CAAC,CAAE,OAAO,CAAC;AACtC4F,QAAQ,CAACV,IAAI,CAAC,CAAEzC,CAAC,CAAEmD,QAAQ,CAAC+M,MAAM,CAAC,EAAE,CAAC,CAAE3S,IAAI,CAAE,GAAK,CAAC,CAAE,OAAO,CAAC;AAC9D4F,QAAQ,CAACV,IAAI,CAAC,CAAElF,IAAI,CAAE,GAAK,CAAC,CAAE,OAAO,CAAC;AACtC2F,QAAQ,CAACT,IAAI,CAAC,CAAE3C,CAAC,CAAEqD,QAAQ,CAACmH,MAAM,CAAC,CAAC,EAAE,CAAC,CAAEvK,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEmD,QAAQ,CAAC+M,MAAM,CAAC,CAAC,EAAE,CAAC,CAAE3S,IAAI,CAAE,GAAK,CAAC,CAAE,WAAW,CAAC;AAChH2F,QAAQ,CAACT,IAAI,CAAC,CAAE3C,CAAC,CAAEqD,QAAQ,CAACmH,MAAM,CAAC,EAAE,CAAC,CAAEvK,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAG,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAEzC,IAAI,CAAE,GAAK,CAAC,CAAC;AACvF2F,QAAQ,CAACT,IAAI,CAAC,CAAE3C,CAAC,CAAEqD,QAAQ,CAACmH,MAAM,CAAC,EAAE,CAAC,CAAEvK,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEmD,QAAQ,CAAC+M,MAAM,CAAC,CAAC,EAAE,CAAC,CAAE3S,IAAI,CAAE,GAAK,CAAC,CAAE,aAAa,CAAC;AACjH2F,QAAQ,CAACT,IAAI,CAAC,CAAE3C,CAAC,CAAEqD,QAAQ,CAACmH,MAAM,CAAC,CAAC,EAAE,CAAC,CAAEvK,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAG,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAEzC,IAAI,CAAE,GAAK,CAAC,CAAC;AACxF2F,QAAQ,CAACT,IAAI,CAAC,CAAElF,IAAI,CAAE,GAAK,CAAC,CAAE,gBAAgB,CAAC;AAChD;AACD,CAAC;AACDmqB,WAAW,CAAE;AACZjlB,IAAI,SAAAA,CAAC+S,KAAK,CAAAmS,KAAA,CAAwB,IAArB,CAAAzkB,QAAQ,CAAAykB,KAAA,IAAExkB,QAAQ,CAAAwkB,KAAA;AAC9BzkB,QAAQ,CAACT,IAAI,CAAC,CAAE3C,CAAC,CAAEqD,QAAQ,CAACrD,CAAC,CAAEC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEmD,QAAQ,CAAC+M,MAAM,CAAC,CAAC,EAAE,CAAC,CAAE3S,IAAI,CAAE,GAAK,CAAC,CAAE,WAAW,CAAC;AACtG2F,QAAQ,CAACT,IAAI,CAAC,CAAE3C,CAAC,CAAEqD,QAAQ,CAACrD,CAAC,CAAEC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAG,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAEzC,IAAI,CAAE,GAAK,CAAC,CAAC;AAC9E2F,QAAQ,CAACT,IAAI,CAAC,CAAElF,IAAI,CAAE,GAAK,CAAC,CAAE,gBAAgB,CAAC;AAC/C4F,QAAQ,CAAClE,KAAK,CAAC,GAAG,CAAC;AACnBkE,QAAQ,CAACV,IAAI,CAAC,CAAEzC,CAAC,CAAEmD,QAAQ,CAAC+M,MAAM,CAAC,EAAE,CAAC,CAAE3S,IAAI,CAAE,GAAK,CAAC,CAAE,OAAO,CAAC;AAC9D4F,QAAQ,CAACV,IAAI,CAAC,CAAElF,IAAI,CAAE,GAAK,CAAC,CAAE,OAAO,CAAC;AACtCiY,KAAK,CAAC7X,UAAU,CAAC,YAAY;AAC5B,CAAEmC,CAAC,CAAEqD,QAAQ,CAACrD,CAAC,CAAEC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAExB,KAAK,CAAE,CAAC,CAAE9C,OAAO,CAAE,CAAC,CAAE6B,IAAI,CAAE,GAAK,CAAC;AACjF,CAAEiB,KAAK,CAAE,CAAC,CAAE9C,OAAO,CAAE,CAAC,CAAE6B,IAAI,CAAE,GAAK,CAAC;AACpC,QAAQ,CAAE,MAAM,CAAC;AACnB;AACD,CAAC;AACDqqB,UAAU,CAAE;AACXnlB,IAAI,SAAAA,CAAC+S,KAAK,CAAAqS,KAAA,CAAwB,IAArB,CAAA3kB,QAAQ,CAAA2kB,KAAA,IAAE1kB,QAAQ,CAAA0kB,KAAA;AAC9B3kB,QAAQ,CAACT,IAAI,CAAC,CAAE3C,CAAC,CAAEqD,QAAQ,CAACmH,MAAM,CAAC,CAAC,EAAE,CAAC,CAAEvK,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEmD,QAAQ,CAAC+M,MAAM,CAAC,CAAC,EAAE,CAAC,CAAE3S,IAAI,CAAE,GAAK,CAAC,CAAE,WAAW,CAAC;AAChH2F,QAAQ,CAACT,IAAI,CAAC,CAAE3C,CAAC,CAAEqD,QAAQ,CAACmH,MAAM,CAAC,EAAE,CAAC,CAAEvK,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAG,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAEzC,IAAI,CAAE,GAAK,CAAC,CAAC;AACvF2F,QAAQ,CAACT,IAAI,CAAC,CAAE3C,CAAC,CAAEqD,QAAQ,CAACmH,MAAM,CAAC,EAAE,CAAC,CAAEvK,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEmD,QAAQ,CAAC+M,MAAM,CAAC,CAAC,EAAE,CAAC,CAAE3S,IAAI,CAAE,GAAK,CAAC,CAAE,aAAa,CAAC;AACjH2F,QAAQ,CAACT,IAAI,CAAC,CAAE3C,CAAC,CAAEqD,QAAQ,CAACmH,MAAM,CAAC,CAAC,EAAE,CAAC,CAACvK,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAG,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAEzC,IAAI,CAAE,GAAK,CAAC,CAAC;AACvF2F,QAAQ,CAACT,IAAI,CAAC,CAAElF,IAAI,CAAE;AACtB,CAAC,CAAE,gBAAgB,CAAC;AACpB4F,QAAQ,CAAClE,KAAK,CAAC,GAAG,CAAC;AACnBkE,QAAQ,CAACV,IAAI,CAAC,CAAEzC,CAAC,CAAEmD,QAAQ,CAAC+M,MAAM,CAAC,EAAE,CAAC,CAAE3S,IAAI,CAAE,GAAK,CAAC,CAAE,OAAO,CAAC;AAC9D4F,QAAQ,CAACV,IAAI,CAAC,CAAElF,IAAI,CAAE,GAAK,CAAC,CAAE,OAAO,CAAC;AACtC4F,QAAQ,CAACV,IAAI,CAAC,CAAEzC,CAAC,CAAEmD,QAAQ,CAAC+M,MAAM,CAAC,EAAE,CAAC,CAAE3S,IAAI,CAAE,GAAK,CAAC,CAAE,OAAO,CAAC;AAC9D4F,QAAQ,CAACV,IAAI,CAAC,CAAElF,IAAI,CAAE,GAAK,CAAC,CAAE,OAAO,CAAC;AACtCiY,KAAK,CAAC7X,UAAU,CAAC,UAAU;AAC1B,CAAEmC,CAAC,CAAEqD,QAAQ,CAACrD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAExB,KAAK,CAAE,CAAC,CAAE9C,OAAO,CAAE,CAAC,CAAE6B,IAAI,CAAE,GAAK,CAAC;AAC3F,CAAEuC,CAAC,CAAEqD,QAAQ,CAACrD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAExB,KAAK,CAAE,CAAC,CAAE9C,OAAO,CAAE,CAAC,CAAE6B,IAAI,CAAE,GAAK,CAAC;AAC3F,QAAQ,CAAE,MAAM,CAAC;AAClBiY,KAAK,CAAC7X,UAAU,CAAC,UAAU;AAC1B,CAAEmC,CAAC,CAAEqD,QAAQ,CAACrD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAExB,KAAK,CAAE,CAAC,CAAE9C,OAAO,CAAE,CAAC,CAAE6B,IAAI,CAAE,GAAK,CAAC;AAC3F,CAAEuC,CAAC,CAAEqD,QAAQ,CAACrD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAExB,KAAK,CAAE,CAAC,CAAE9C,OAAO,CAAE,CAAC,CAAE6B,IAAI,CAAE,GAAK,CAAC;AAC3F,QAAQ,CAAE,MAAM,CAAC;AAClBiY,KAAK,CAAC7X,UAAU,CAAC,WAAW;AAC3B,CAAEmC,CAAC,CAAEqD,QAAQ,CAACrD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAExB,KAAK,CAAE,CAAC,CAAE9C,OAAO,CAAE,CAAC,CAAE6B,IAAI,CAAE,GAAK,CAAC;AAC3F,CAAEuC,CAAC,CAAEqD,QAAQ,CAACrD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAExB,KAAK,CAAE,CAAC,CAAE9C,OAAO,CAAE,CAAC,CAAE6B,IAAI,CAAE,IAAM,CAAC;AAC7F,QAAQ,CAAE,MAAM,CAAC;AACjBiY,KAAK,CAAC7X,UAAU,CAAC,WAAW;AAC3B,CAAEmC,CAAC,CAAEqD,QAAQ,CAACrD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAExB,KAAK,CAAE,CAAC,CAAE9C,OAAO,CAAE,CAAC,CAAE6B,IAAI,CAAE,GAAK,CAAC;AAC3F,CAAEuC,CAAC,CAAEqD,QAAQ,CAACrD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAExB,KAAK,CAAE,CAAC,CAAE9C,OAAO,CAAE,CAAC,CAAE6B,IAAI,CAAE,IAAM,CAAC;AAC7F,QAAQ,CAAE,MAAM,CAAC;AAClB;AACD,CAAC;AACDuqB,WAAW,CAAE;AACZrlB,IAAI,SAAAA,CAAC+S,KAAK,CAAAuS,KAAA,CAAwB,IAArB,CAAA7kB,QAAQ,CAAA6kB,KAAA,IAAE5kB,QAAQ,CAAA4kB,KAAA;AAC9BvS,KAAK,CAAC7X,UAAU,CAAC,MAAM;AACtB,CAAEmC,CAAC,CAAEqD,QAAQ,CAACrD,CAAC,CAAEC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAExB,KAAK,CAAE,CAAC,CAAE9C,OAAO,CAAE,CAAC,CAAE6B,IAAI,CAAE,GAAK,CAAC;AACjF,CAAEuC,CAAC,CAAEqD,QAAQ,CAACmH,MAAM,CAAC,CAAC,EAAE,CAAC,CAAEvK,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAAC+M,MAAM,CAAC,EAAE,CAAC,CAAE1R,KAAK,CAAE,CAAC,CAAE9C,OAAO,CAAE,CAAC,CAAE6B,IAAI,CAAE,GAAK,CAAC;AACpG,QAAQ,CAAC;AACViY,KAAK,CAAC7X,UAAU,CAAC,MAAM;AACtB,CAAEmC,CAAC,CAAEqD,QAAQ,CAACrD,CAAC,CAAEC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAExB,KAAK,CAAE,CAAC,CAAE9C,OAAO,CAAE,CAAC,CAAE6B,IAAI,CAAE,GAAK,CAAC;AACjF,CAAEuC,CAAC,CAAEqD,QAAQ,CAACmH,MAAM,CAAC,CAAC,EAAE,CAAC,CAAEvK,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAAC+M,MAAM,CAAC,EAAE,CAAC,CAAE1R,KAAK,CAAE,CAAC,CAAE9C,OAAO,CAAE,CAAC,CAAE6B,IAAI,CAAE,GAAK,CAAC;AACpG,QAAQ,CAAC;AACViY,KAAK,CAAC7X,UAAU,CAAC,MAAM;AACtB,CAAEmC,CAAC,CAAEqD,QAAQ,CAACrD,CAAC,CAAEC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAExB,KAAK,CAAE,CAAC,CAAE9C,OAAO,CAAE,CAAC,CAAE6B,IAAI,CAAE,GAAK,CAAC;AACjF,CAAEuC,CAAC,CAAEqD,QAAQ,CAACmH,MAAM,CAAC,CAAC,EAAE,CAAC,CAAEvK,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAAC+M,MAAM,CAAC,EAAE,CAAC,CAAE1R,KAAK,CAAE,CAAC,CAAE9C,OAAO,CAAE,CAAC,CAAE6B,IAAI,CAAE,GAAK,CAAC;AACpG,QAAQ,CAAC;AACV2F,QAAQ,CAACT,IAAI,CAAC,CAAE3C,CAAC,CAAEqD,QAAQ,CAACmH,MAAM,CAAC,EAAE,CAAC,CAAEvK,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAAC+M,MAAM,CAAC,CAAC,EAAE,CAAC,CAAE3S,IAAI,CAAE,GAAK,CAAC,CAAE,iBAAiB,CAAC;AAChH2F,QAAQ,CAACT,IAAI,CAAC,CAAE3C,CAAC,CAAEqD,QAAQ,CAACrD,CAAC,CAAEC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAEzC,IAAI,CAAE,EAAI,CAAC,CAAC;AACzE2F,QAAQ,CAACT,IAAI,CAAC,CAAElF,IAAI,CAAE,GAAK,CAAC,CAAE,YAAY,CAAC;AAC3C4F,QAAQ,CAAClE,KAAK,CAAC,GAAG,CAAC;AACnBkE,QAAQ,CAACV,IAAI,CAAC,CAAE3C,CAAC,CAAEqD,QAAQ,CAACmH,MAAM,CAAC,CAAC,EAAE,CAAC,CAAEvK,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAAC+M,MAAM,CAAC,EAAE,CAAC,CAAE3S,IAAI,CAAE,EAAI,CAAC,CAAE,OAAO,CAAC;AACrG4F,QAAQ,CAACV,IAAI,CAAC,CAAElF,IAAI,CAAE,GAAK,CAAC,CAAE,OAAO,CAAC;AACvC;AACD,CAAC;AACDyqB,IAAI,CAAE;AACLvlB,IAAI,SAAAA,CAAC+S,KAAK,CAAAyS,KAAA,CAAwB,IAArB,CAAA/kB,QAAQ,CAAA+kB,KAAA,IAAE9kB,QAAQ,CAAA8kB,KAAA;AAC9BzS,KAAK,CAAC7X,UAAU,CAAC,SAAS;AACzB,CAAEmC,CAAC,CAAEqD,QAAQ,CAACrD,CAAC,CAAEC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAExB,KAAK,CAAE,GAAG,CAAE9C,OAAO,CAAE,CAAC,CAAE6B,IAAI,CAAE,GAAK,CAAC;AACxF,CAAEuC,CAAC,CAAEqD,QAAQ,CAACrD,CAAC,CAAEC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAExB,KAAK,CAAE,GAAG,CAAE9C,OAAO,CAAE,CAAC,CAAE6B,IAAI,CAAE,GAAK,CAAC;AACxF,QAAQ,CAAE,MAAM,CAAC;AAClBiY,KAAK,CAAC7X,UAAU,CAAC,YAAY;AAC5B,CAAEmC,CAAC,CAAEqD,QAAQ,CAACrD,CAAC,CAAEC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAExB,KAAK,CAAE,GAAG,CAAE9C,OAAO,CAAE,CAAC,CAAE6B,IAAI,CAAE,GAAK,CAAC;AACxF,CAAEuC,CAAC,CAAEqD,QAAQ,CAACrD,CAAC,CAAEC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAExB,KAAK,CAAE,GAAG,CAAE9C,OAAO,CAAE,CAAC,CAAE6B,IAAI,CAAE,GAAK,CAAC;AACxF,QAAQ,CAAE,MAAM,CAAC;AACnB;AACD,CAAC;AACD2qB,IAAI,CAAE;AACLzlB,IAAI,SAAAA,CAAC+S,KAAK,CAAA2S,MAAA,CAAwB,IAArB,CAAAjlB,QAAQ,CAAAilB,MAAA,IAAEhlB,QAAQ,CAAAglB,MAAA;AAC9B3S,KAAK,CAAC7X,UAAU,CAAC,MAAM;AACtB,CAAEmC,CAAC,CAAEqD,QAAQ,CAACrD,CAAC,CAAEC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAExB,KAAK,CAAE,CAAC,CAAE9C,OAAO,CAAE,CAAC,CAAE6B,IAAI,CAAE,GAAK,CAAC;AACjF,CAAEuC,CAAC,CAAEqD,QAAQ,CAACrD,CAAC,CAAEC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEmD,QAAQ,CAAC+M,MAAM,CAAC,EAAE,CAAC,CAAE1R,KAAK,CAAE,CAAC,CAAE9C,OAAO,CAAE,CAAC,CAAE6B,IAAI,CAAE,GAAK,CAAC;AAC/F,QAAQ,CAAC;AACX;AACD,CAAC;AACD6qB,UAAU,CAAE;AACX3lB,IAAI,SAAAA,CAAC+S,KAAK,CAAA6S,MAAA,CAAwB,IAArB,CAAAnlB,QAAQ,CAAAmlB,MAAA,IAAEllB,QAAQ,CAAAklB,MAAA;AAC9B7S,KAAK,CAAC7X,UAAU,CAAC,MAAM;AACtB,CAAEmC,CAAC,CAAEqD,QAAQ,CAACrD,CAAC,CAAEC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAExB,KAAK,CAAE,CAAC,CAAE9C,OAAO,CAAE,GAAG,CAAE6B,IAAI,CAAE,GAAK,CAAC;AACnF,CAAEiB,KAAK,CAAE,CAAC,CAAE9C,OAAO,CAAE,CAAC,CAAE6B,IAAI,CAAE,GAAK,CAAC;AACpC,QAAQ,CAAC;AACViY,KAAK,CAAC7X,UAAU,CAAC,MAAM;AACtB,CAAEmC,CAAC,CAAEqD,QAAQ,CAACrD,CAAC,CAAEC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAExB,KAAK,CAAE,CAAC,CAAE9C,OAAO,CAAE,GAAG,CAAE6B,IAAI,CAAE,GAAK,CAAC;AACnF,CAAEiB,KAAK,CAAE,CAAC,CAAE9C,OAAO,CAAE,CAAC,CAAE6B,IAAI,CAAE,GAAK,CAAC;AACpC,QAAQ,CAAC;AACViY,KAAK,CAAC7X,UAAU,CAACuF,QAAQ,CAACuS,EAAE;AAC3B,CAAE3V,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAAEtE,OAAO,CAAE,GAAG,CAAE6B,IAAI,CAAE,EAAI,CAAC;AACxE,CAAEuC,CAAC,CAAEqD,QAAQ,CAACrD,CAAC,CAAEC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAAC+M,MAAM,CAAC,EAAE,CAAC,CAAE3S,IAAI,CAAE,GAAK,CAAC;AACpE,OAAO,CAAE,MAAM,CAAC;AACjBiY,KAAK,CAAC7X,UAAU,CAACuF,QAAQ,CAACuS,EAAE;AAC3B,CAAE3V,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAAEtE,OAAO,CAAE,GAAG,CAAE6B,IAAI,CAAE,GAAK,CAAC;AACzE,CAAEuC,CAAC,CAAEqD,QAAQ,CAACrD,CAAC,CAAEC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAAC+M,MAAM,CAAC,EAAE,CAAC,CAAE3S,IAAI,CAAE,GAAK,CAAC;AACpE,OAAO,CAAE,MAAM,CAAC;AACjB2F,QAAQ,CAACT,IAAI,CAAC,CAAE3C,CAAC,CAAEqD,QAAQ,CAACrD,CAAC,CAAEC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAAC+M,MAAM,CAAC,EAAE,CAAC,CAAE3S,IAAI,CAAE,GAAG,CAAE7B,OAAO,CAAE,GAAK,CAAC,CAAG,OAAO,CAAC;AAC3GwH,QAAQ,CAACT,IAAI,CAAC,CAAE3C,CAAC,CAAEqD,QAAQ,CAACrD,CAAC,CAAEC,CAAC,CAAEoD,QAAQ,CAACrD,CAAC,CAAEE,CAAC,CAAEmD,QAAQ,CAAC+M,MAAM,CAAC,GAAG,CAAC,CAAExU,OAAO,CAAE,CAAC,CAAE6B,IAAI,CAAE,GAAK,CAAC,CAAE,QAAQ,CAAC;AAC1G2F,QAAQ,CAACT,IAAI,CAAC,CAAE3C,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAEC,CAAC,CAAEkD,QAAQ,CAACgN,MAAM,CAAC,EAAE,CAAC,CAAExU,OAAO,CAAE,CAAC,CAAE6B,IAAI,CAAE,CAAG,CAAC,CAAE,QAAQ,CAAC;AACvG2F,QAAQ,CAACT,IAAI,CAAC,CAAE/G,OAAO,CAAE,CAAC,CAAE6B,IAAI,CAAE,GAAK,CAAC,CAAE,OAAO,CAAC;AAClD4F,QAAQ,CAAClE,KAAK,CAAC,GAAG,CAAC;AACnBkE,QAAQ,CAACV,IAAI,CAAC,CAAEzC,CAAC,CAAEmD,QAAQ,CAAC+M,MAAM,CAAC,EAAE,CAAC,CAAE3S,IAAI,CAAE,GAAK,CAAC,CAAE,OAAO,CAAC;AAC9D4F,QAAQ,CAACV,IAAI,CAAC,CAAElF,IAAI,CAAE,GAAK,CAAC,CAAE,OAAO,CAAC;AACvC;AACD,CAAC;AACD+qB,cAAc,CAAE;AACf7lB,IAAI,SAAAA,CAAC+S,KAAK,CAAA+S,MAAA,CAAwB,IAArB,CAAArlB,QAAQ,CAAAqlB,MAAA,IAAEplB,QAAQ,CAAAolB,MAAA;AAC9BrlB,QAAQ,CAACT,IAAI,CAAC,CAAEzC,CAAC,CAAEkD,QAAQ,CAACgN,MAAM,CAAC,CAAC,EAAE,CAAC,CAAE3S,IAAI,CAAE,EAAE,CAAE7B,OAAO,CAAE,CAAG,CAAC,CAAE,OAAO,CAAC;AAC1EwH,QAAQ,CAACT,IAAI,CAAC,CAAE/G,OAAO,CAAE,CAAC,CAAE6B,IAAI,CAAE,GAAK,CAAC,CAAE,OAAO,CAAC;AAClD4F,QAAQ,CAACV,IAAI,CAAC,CAAEzC,CAAC,CAAEmD,QAAQ,CAAC+M,MAAM,CAAC,EAAE,CAAC,CAAE3S,IAAI,CAAE,EAAI,CAAC,CAAE,OAAO,CAAC;AAC7D4F,QAAQ,CAACV,IAAI,CAAC,CAAElF,IAAI,CAAE,GAAK,CAAC,CAAE,OAAO,CAAC;AACvC;AACD,CAAC;AACDirB,eAAe,CAAE;AAChB/lB,IAAI,SAAAA,CAAC+S,KAAK,CAAAiT,MAAA,CAAwB,IAArB,CAAAvlB,QAAQ,CAAAulB,MAAA,IAAEtlB,QAAQ,CAAAslB,MAAA;AAC9BjT,KAAK,CAAC7X,UAAU,CAAC,YAAY;AAC5B,CAAEmC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAAExB,KAAK,CAAE,GAAG,CAAE9C,OAAO,CAAE,GAAG,CAAE6B,IAAI,CAAE,CAAG,CAAC;AACnF,CAAEuC,CAAC,CAAEqD,QAAQ,CAACrD,CAAC,CAAEC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAEzC,IAAI,CAAE,GAAK,CAAC,CAAE,OAAO,CAAC;AACtEiY,KAAK,CAAC7X,UAAU,CAAC,YAAY;AAC5B,CAAEmC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAAExB,KAAK,CAAE,GAAG,CAAE9C,OAAO,CAAE,GAAG,CAAE6B,IAAI,CAAE,EAAI,CAAC;AACpF,CAAEuC,CAAC,CAAEqD,QAAQ,CAACrD,CAAC,CAAEC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAEzC,IAAI,CAAE,GAAK,CAAC,CAAE,OAAO,CAAC;AACtE4F,QAAQ,CAACV,IAAI,CAAC,CAAEzC,CAAC,CAAEmD,QAAQ,CAAC+M,MAAM,CAAC,EAAE,CAAC,CAAE3S,IAAI,CAAE,EAAI,CAAC,CAAE,OAAO,CAAC;AAC7D4F,QAAQ,CAACV,IAAI,CAAC,CAAElF,IAAI,CAAE,GAAK,CAAC,CAAE,OAAO,CAAC;AACvC;AACD,CAAC;AACDmrB,YAAY,CAAE;AACbjmB,IAAI,SAAAA,CAAC+S,KAAK,CAAAmT,MAAA,CAAwB,IAArB,CAAAzlB,QAAQ,CAAAylB,MAAA,IAAExlB,QAAQ,CAAAwlB,MAAA;AAC9BzlB,QAAQ,CAACT,IAAI,CAAC,CAAEjE,KAAK,CAAE,GAAG,CAAEjB,IAAI,CAAE,EAAI,CAAC,CAAE,OAAO,CAAC;AACjD2F,QAAQ,CAACT,IAAI,CAAC,CAAElF,IAAI,CAAE,GAAK,CAAC,CAAE,OAAO,CAAC;AACvC;AACD,CAAC;AACDqrB,WAAW,CAAE;AACZnmB,IAAI,SAAAA,CAAC+S,KAAK,CAAAqT,MAAA,CAAwB,IAArB,CAAA3lB,QAAQ,CAAA2lB,MAAA,IAAE1lB,QAAQ,CAAA0lB,MAAA;AAC9B3lB,QAAQ,CAACT,IAAI,CAAC,CAAE3C,CAAC,CAAEoD,QAAQ,CAACoH,MAAM,CAAC,CAAC,EAAE,CAAC,CAAEvK,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAEC,CAAC,CAAEkD,QAAQ,CAACgN,MAAM,CAAC,CAAC,EAAE,CAAC,CAAExU,OAAO,CAAE,CAAC,CAAE6B,IAAI,CAAE,GAAK,CAAC,CAAE,QAAQ,CAAC;AACpH2F,QAAQ,CAACT,IAAI,CAAC,CAAE3C,CAAC,CAAEqD,QAAQ,CAACrD,CAAC,CAAEC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAAC+M,MAAM,CAAC,CAAC,GAAG,CAAC,CAAExU,OAAO,CAAE,CAAC,CAAE6B,IAAI,CAAE,CAAG,CAAC,CAAE,QAAQ,CAAC;AACzG2F,QAAQ,CAACT,IAAI,CAAC,CAAE3C,CAAC,CAAEqD,QAAQ,CAACrD,CAAC,CAAEC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAAC+M,MAAM,CAAC,EAAE,CAAC,CAAExU,OAAO,CAAE,CAAC,CAAE6B,IAAI,CAAE,GAAK,CAAC,CAAE,QAAQ,CAAC;AACzG2F,QAAQ,CAACT,IAAI,CAAC,CAAE3C,CAAC,CAAEqD,QAAQ,CAACrD,CAAC,CAAEC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAAC+M,MAAM,CAAC,CAAC,CAAC,CAAC,CAAExU,OAAO,CAAE,CAAC,CAAE6B,IAAI,CAAE,GAAK,CAAC,CAAE,QAAQ,CAAC;AACzG2F,QAAQ,CAACT,IAAI,CAAC,CAAE/G,OAAO,CAAE,CAAC,CAAE6B,IAAI,CAAE,CAAG,CAAC,CAAE,QAAQ,CAAC;AACjD2F,QAAQ,CAACT,IAAI,CAAC,CAAElF,IAAI,CAAE,GAAG,CAAE7B,OAAO,CAAE,CAAG,CAAC,CAAE,QAAQ,CAAC;AACnDyH,QAAQ,CAAClE,KAAK,CAAC,GAAG,CAAC;AACnBkE,QAAQ,CAACV,IAAI,CAAC,CAAEzC,CAAC,CAAEmD,QAAQ,CAAC+M,MAAM,CAAC,EAAE,CAAC,CAAE3S,IAAI,CAAE,GAAK,CAAC,CAAE,OAAO,CAAC;AAC9D4F,QAAQ,CAACV,IAAI,CAAC,CAAElF,IAAI,CAAE,GAAK,CAAC,CAAE,OAAO,CAAC;AACvC;AACD,CAAC;AACDurB,UAAU,CAAE;AACXrmB,IAAI,SAAAA,CAAC+S,KAAK,CAAAuT,MAAA,CAAwB,IAArB,CAAA7lB,QAAQ,CAAA6lB,MAAA,IAAE5lB,QAAQ,CAAA4lB,MAAA;AAC9B7lB,QAAQ,CAACT,IAAI,CAAC,CAAE3C,CAAC,CAAEqD,QAAQ,CAACrD,CAAC,CAAEC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEmD,QAAQ,CAAC+M,MAAM,CAAC,CAAC,EAAE,CAAC,CAAE3S,IAAI,CAAE,GAAK,CAAC,CAAE,YAAY,CAAC;AACvG2F,QAAQ,CAACT,IAAI,CAAC,CAAE3C,CAAC,CAAEqD,QAAQ,CAACrD,CAAC,CAAEC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAG,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAEzC,IAAI,CAAE,GAAK,CAAC,CAAC;AAC9E2F,QAAQ,CAACT,IAAI,CAAC,CAAElF,IAAI,CAAE,GAAK,CAAC,CAAE,YAAY,CAAC;AAC3C4F,QAAQ,CAAClE,KAAK,CAAC,GAAG,CAAC;AACnBkE,QAAQ,CAACV,IAAI,CAAC,CAAEzC,CAAC,CAAEmD,QAAQ,CAAC+M,MAAM,CAAC,EAAE,CAAC,CAAE3S,IAAI,CAAE,GAAK,CAAC,CAAE,OAAO,CAAC;AAC9D4F,QAAQ,CAACV,IAAI,CAAC,CAAElF,IAAI,CAAE,GAAK,CAAC,CAAE,OAAO,CAAC;AACtCiY,KAAK,CAAClY,IAAI,CAAC,GAAG,CAAC;AAChB;AACD,CAAC;AACD0rB,KAAK,CAAE;AACNvmB,IAAI,SAAAA,CAAC+S,KAAK,CAAAyT,MAAA,CAAc,IAAX,CAAA/lB,QAAQ,CAAA+lB,MAAA;AACpBzT,KAAK,CAAC7X,UAAU,CAAC,SAAS;AACzB,CAAEmC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAAExB,KAAK,CAAE,GAAG,CAAEC,MAAM,CAAE,CAAC,CAAE/C,OAAO,CAAE,GAAG,CAAE6B,IAAI,CAAE,CAAG,CAAC;AACnG,CAAEiB,KAAK,CAAE,GAAG,CAAEC,MAAM,CAAE,CAAC,CAAE/C,OAAO,CAAE,GAAG,CAAE6B,IAAI,CAAE,GAAK,CAAC;AACnD,OAAO,CAAE,MAAM,CAAC;AACjBiY,KAAK,CAAC7X,UAAU,CAAC,SAAS;AACzB,CAAEmC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAG,CAAC,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAAExB,KAAK,CAAE,GAAG,CAAEC,MAAM,CAAE,CAAC,CAAE/C,OAAO,CAAE,GAAG,CAAE6B,IAAI,CAAE,EAAI,CAAC;AACnG,CAAEiB,KAAK,CAAE,GAAG,CAAEC,MAAM,CAAE,CAAC,CAAE/C,OAAO,CAAE,GAAG,CAAE6B,IAAI,CAAE,GAAK,CAAC;AACnD,OAAO,CAAE,MAAM,CAAC;AACjBiY,KAAK,CAAC7X,UAAU,CAAC,SAAS;AACzB,CAAEmC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAAExB,KAAK,CAAE,GAAG,CAAEC,MAAM,CAAE,CAAC,CAAE/C,OAAO,CAAE,GAAG,CAAE6B,IAAI,CAAE,GAAK,CAAC;AACrG,CAAEiB,KAAK,CAAE,GAAG,CAAEC,MAAM,CAAE,CAAC,CAAE/C,OAAO,CAAE,GAAG,CAAE6B,IAAI,CAAE,GAAK,CAAC;AACnD,OAAO,CAAE,MAAM,CAAC;AACjB2F,QAAQ,CAACT,IAAI,CAAC,CAAE1C,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEkD,QAAQ,CAACgN,MAAM,CAAC,EAAE,CAAC,CAAExR,MAAM,CAAE,GAAG,CAAEnB,IAAI,CAAE,GAAK,CAAC,CAAE,OAAO,CAAC;AAC/F2F,QAAQ,CAACT,IAAI,CAAC,CAAElF,IAAI,CAAE,GAAK,CAAC,CAAE,OAAO,CAAC;AACtC2F,QAAQ,CAACjE,KAAK,CAAC,EAAE,CAAC;AAClBiE,QAAQ,CAACT,IAAI,CAAC,CAAE3C,CAAC,CAAEoD,QAAQ,CAACoH,MAAM,CAAC,CAAC,EAAE,CAAC,CAAEvK,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEkD,QAAQ,CAACgN,MAAM,CAAC,CAAC,CAAC,CAAExR,MAAM,CAAE,GAAG,CAACnB,IAAI,CAAE,GAAK,CAAC,CAAE,OAAO,CAAC;AACtH2F,QAAQ,CAACT,IAAI,CAAC,CAAElF,IAAI,CAAE,GAAK,CAAC,CAAE,OAAO,CAAC;AACvC;AACD,CAAC;AACD2rB,UAAU,CAAE;AACXzmB,IAAI,SAAAA,CAAC+S,KAAK,CAAA2T,MAAA,CAAc,IAAX,CAAAjmB,QAAQ,CAAAimB,MAAA;AACpB3T,KAAK,CAAC7X,UAAU,CAAC,MAAM;AACtB,CAAEmC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAAExB,KAAK,CAAE,CAAC,CAAE9C,OAAO,CAAE,GAAG,CAAE6B,IAAI,CAAE,CAAG,CAAC;AACjF,CAAEiB,KAAK,CAAE,CAAC,CAAE9C,OAAO,CAAE,CAAC,CAAE6B,IAAI,CAAE,GAAK,CAAC;AACpC,QAAQ,CAAC;AACViY,KAAK,CAAC7X,UAAU,CAAC,MAAM;AACtB,CAAEmC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAAExB,KAAK,CAAE,CAAC,CAAE9C,OAAO,CAAE,GAAG,CAAE6B,IAAI,CAAE,GAAK,CAAC;AACnF,CAAEiB,KAAK,CAAE,CAAC,CAAE9C,OAAO,CAAE,CAAC,CAAE6B,IAAI,CAAE,GAAK,CAAC;AACpC,QAAQ,CAAC;AACX;AACD,CAAC;AACD6rB,WAAW,CAAE;AACZ3mB,IAAI,SAAAA,CAAC+S,KAAK,CAAA6T,MAAA,CAAc,IAAX,CAAAnmB,QAAQ,CAAAmmB,MAAA;AACpB7T,KAAK,CAAC7X,UAAU,CAAC,aAAa;AAC7B,CAAEmC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAAExB,KAAK,CAAE,CAAC,CAAE9C,OAAO,CAAE,GAAG,CAAE6B,IAAI,CAAE,CAAG,CAAC;AACjF,CAAEiB,KAAK,CAAE,CAAC,CAAE9C,OAAO,CAAE,GAAG,CAAE6B,IAAI,CAAE,GAAK,CAAC;AACtC,QAAQ,CAAC;AACX;AACD,CAAC;AACD+rB,YAAY,CAAE;AACb7mB,IAAI,SAAAA,CAAC+S,KAAK,CAAA+T,MAAA,CAAc,IAAX,CAAArmB,QAAQ,CAAAqmB,MAAA;AACpB/T,KAAK,CAAC7X,UAAU,CAAC,aAAa;AAC7B,CAAEmC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAAExB,KAAK,CAAE,GAAG,CAAE9C,OAAO,CAAE,GAAG,CAAE6B,IAAI,CAAE,CAAG,CAAC;AAC7F,CAAEuC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAEvB,KAAK,CAAE,GAAG,CAAE9C,OAAO,CAAE,GAAG,CAAE6B,IAAI,CAAE,GAAK,CAAC;AACtE,QAAQ,CAAE,MAAM,CAAC;AAClBiY,KAAK,CAAC7X,UAAU,CAAC,aAAa;AAC7B,CAAEmC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAG,CAAC,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAAExB,KAAK,CAAE,GAAG,CAAE9C,OAAO,CAAE,GAAG,CAAE6B,IAAI,CAAE,GAAK,CAAC;AAC9F,CAAEuC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAEvB,KAAK,CAAE,GAAG,CAAE9C,OAAO,CAAE,GAAG,CAAE6B,IAAI,CAAE,GAAK,CAAC;AACrE,QAAQ,CAAE,MAAM,CAAC;AACnBiY,KAAK,CAAC7X,UAAU,CAAC,aAAa;AAC7B,CAAEmC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAAExB,KAAK,CAAE,GAAG,CAAE9C,OAAO,CAAE,GAAG,CAAE6B,IAAI,CAAE,GAAK,CAAC;AAC/F,CAAEuC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAEvB,KAAK,CAAE,GAAG,CAAE9C,OAAO,CAAE,GAAG,CAAE6B,IAAI,CAAE,GAAK,CAAC;AACrE,QAAQ,CAAE,MAAM,CAAC;AACnBiY,KAAK,CAAC7X,UAAU,CAAC,aAAa;AAC7B,CAAEmC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAAExB,KAAK,CAAE,GAAG,CAAE9C,OAAO,CAAE,GAAG,CAAE6B,IAAI,CAAE,GAAK,CAAC;AAC/F,CAAEuC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAEvB,KAAK,CAAE,GAAG,CAAE9C,OAAO,CAAE,GAAG,CAAE6B,IAAI,CAAE,GAAK,CAAC;AACtE,QAAQ,CAAE,MAAM,CAAC;AAClBiY,KAAK,CAAC7X,UAAU,CAAC,aAAa;AAC7B,CAAEmC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAAExB,KAAK,CAAE,GAAG,CAAE9C,OAAO,CAAE,GAAG,CAAE6B,IAAI,CAAE,GAAK,CAAC;AAC/F,CAAEuC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAACC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAEvB,KAAK,CAAE,GAAG,CAAE9C,OAAO,CAAE,GAAG,CAAE6B,IAAI,CAAE,GAAK,CAAC;AACrE,QAAQ,CAAE,MAAM,CAAC;AACnB;AACD,CAAC;AACDisB,IAAI,CAAE;AACL/mB,IAAI,SAAAA,CAAC+S,KAAK,CAAAiU,MAAA,CAAc,IAAX,CAAAvmB,QAAQ,CAAAumB,MAAA;AACpBjU,KAAK,CAAC7X,UAAU,CAAC,SAAS;AACzB,CAAEmC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAG,CAAC,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAAExB,KAAK,CAAE,GAAG,CAAE9C,OAAO,CAAE,GAAG,CAAE6B,IAAI,CAAE,GAAK,CAAC;AAC9F,CAAEuC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAG,EAAE,CAAErE,OAAO,CAAE,CAAC,CAAE6B,IAAI,CAAE,GAAK,CAAC;AAClE,OAAO,CAAC;AACTiY,KAAK,CAAC7X,UAAU,CAAC,SAAS;AACzB,CAAEmC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAAExB,KAAK,CAAE,GAAG,CAAE9C,OAAO,CAAE,GAAG,CAAE6B,IAAI,CAAE,GAAK,CAAC;AAC/F,CAAEuC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAG,EAAE,CAAErE,OAAO,CAAE,CAAC,CAAE6B,IAAI,CAAE,GAAK,CAAC;AAClE,OAAO,CAAC;AACTiY,KAAK,CAAC7X,UAAU,CAAC,SAAS;AACzB,CAAEmC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAAExB,KAAK,CAAE,GAAG,CAAE9C,OAAO,CAAE,GAAG,CAAE6B,IAAI,CAAE,GAAK,CAAC;AAC/F,CAAEuC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAG,EAAE,CAAErE,OAAO,CAAE,CAAC,CAAE6B,IAAI,CAAE,GAAK,CAAC;AAClE,OAAO,CAAC;AACTiY,KAAK,CAAC7X,UAAU,CAAC,SAAS;AACzB,CAAEmC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAAExB,KAAK,CAAE,GAAG,CAAE9C,OAAO,CAAE,GAAG,CAAE6B,IAAI,CAAE,GAAK,CAAC;AAC/F,CAAEuC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAG,EAAE,CAAErE,OAAO,CAAE,CAAC,CAAE6B,IAAI,CAAE,GAAK,CAAC;AAClE,OAAO,CAAC;AACV;AACD,CAAC;AACDkb,KAAK,CAAE;AACNhW,IAAI,SAAAA,CAAC+S,KAAK,CAAAkU,MAAA,CAAc,IAAX,CAAAxmB,QAAQ,CAAAwmB,MAAA;AACpBlU,KAAK,CAAClW,gBAAgB,CAAC,SAAS,CAAE,GAAG,CAAE,GAAG,CAAE,GAAG,CAAC;AAChDkW,KAAK,CAAC7X,UAAU,CAAC,OAAO;AACvB,CAAEmC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAG,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAAExB,KAAK,CAAE,GAAG,CAAE9C,OAAO,CAAE,GAAG,CAAE6B,IAAI,CAAE,GAAK,CAAC;AAC9F,CAAEwC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAG,EAAE,CAAErE,OAAO,CAAE,CAAC,CAAE6B,IAAI,CAAE,GAAK,CAAC;AAC9C,OAAO,CAAC;AACTiY,KAAK,CAAC7X,UAAU,CAAC,OAAO;AACvB,CAAEmC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAAExB,KAAK,CAAE,GAAG,CAAE9C,OAAO,CAAE,GAAG,CAAE6B,IAAI,CAAE,GAAK,CAAC;AAC/F,CAAEuC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAG,EAAE,CAAErE,OAAO,CAAE,CAAC,CAAE6B,IAAI,CAAE,GAAK,CAAC;AAClE,OAAO,CAAC;AACTiY,KAAK,CAAC7X,UAAU,CAAC,OAAO;AACvB,CAAEmC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAAExB,KAAK,CAAE,GAAG,CAAE9C,OAAO,CAAE,GAAG,CAAE6B,IAAI,CAAE,GAAK,CAAC;AAC/F,CAAEuC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAG,EAAE,CAAErE,OAAO,CAAE,CAAC,CAAE6B,IAAI,CAAE,GAAK,CAAC;AAClE,OAAO,CAAC;AACTiY,KAAK,CAAC7X,UAAU,CAAC,OAAO;AACvB,CAAEmC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAG,CAAC,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAAExB,KAAK,CAAE,GAAG,CAAE9C,OAAO,CAAE,GAAG,CAAE6B,IAAI,CAAE,GAAK,CAAC;AAC9F,CAAEuC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAG,CAAC,CAAErE,OAAO,CAAE,CAAC,CAAE6B,IAAI,CAAE,GAAK,CAAC;AACjE,OAAO,CAAC;AACTiY,KAAK,CAAC7X,UAAU,CAAC,OAAO;AACvB,CAAEmC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAAExB,KAAK,CAAE,GAAG,CAAE9C,OAAO,CAAE,GAAG,CAAE6B,IAAI,CAAE,GAAK,CAAC;AAC/F,CAAEuC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAG,CAAC,CAAErE,OAAO,CAAE,CAAC,CAAE6B,IAAI,CAAE,GAAK,CAAC;AACjE,OAAO,CAAC;AACTiY,KAAK,CAAC7X,UAAU,CAAC,OAAO;AACvB,CAAEmC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAG,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAG,CAAC,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAAExB,KAAK,CAAE,GAAG,CAAE9C,OAAO,CAAE,GAAG,CAAE6B,IAAI,CAAE,GAAK,CAAC;AAC7F,CAAEwC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAG,EAAE,CAAErE,OAAO,CAAE,CAAC,CAAE6B,IAAI,CAAE,GAAK,CAAC;AAC9C,OAAO,CAAC;AACV;AACD,CAAC;AACDosB,MAAM,CAAE;AACPlnB,IAAI,SAAAA,CAAC+S,KAAK,CAAAoU,MAAA,CAAwB,IAArB,CAAA1mB,QAAQ,CAAA0mB,MAAA,IAAEzmB,QAAQ,CAAAymB,MAAA;AAC9B1mB,QAAQ,CAACT,IAAI,CAAC,CAAE3C,CAAC,CAAEoD,QAAQ,CAACoH,MAAM,CAAC,CAAC,GAAG,CAAC,CAAEvK,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAAEtE,OAAO,CAAE,CAAC,CAAE6B,IAAI,CAAE,GAAK,CAAC,CAAE,OAAO,CAAC;AAC/G2F,QAAQ,CAACT,IAAI,CAAC,CAAE3C,CAAC,CAAEqD,QAAQ,CAACmH,MAAM,CAAC,CAAC,GAAG,CAAC,CAAEvK,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAEzC,IAAI,CAAE,CAAG,CAAC,CAAE,QAAQ,CAAC;AAClG2F,QAAQ,CAACT,IAAI,CAAC,CAAE3C,CAAC,CAAEqD,QAAQ,CAACrD,CAAC,CAAEC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAEtE,OAAO,CAAE,CAAC,CAAE6B,IAAI,CAAE,GAAK,CAAC,CAAE,OAAO,CAAC;AAC/FiY,KAAK,CAAC7X,UAAU,CAAC,MAAM;AACtB,CAAEmC,CAAC,CAAEqD,QAAQ,CAACrD,CAAC,CAAEC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAExB,KAAK,CAAE,CAAC,CAAE9C,OAAO,CAAE,GAAG,CAAE6B,IAAI,CAAE,GAAK,CAAC;AACnF,CAAEiB,KAAK,CAAE,CAAC,CAAE9C,OAAO,CAAE,CAAC,CAAE6B,IAAI,CAAE,GAAK,CAAC;AACpC,QAAQ,CAAC;AACV2F,QAAQ,CAACT,IAAI,CAAC,CAAE3C,CAAC,CAAEqD,QAAQ,CAACmH,MAAM,CAAC,GAAG,CAAC,CAAEvK,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAEtE,OAAO,CAAE,CAAC,CAAE6B,IAAI,CAAE,GAAK,CAAC,CAAC;AACrG2F,QAAQ,CAACT,IAAI,CAAC,CAAE3C,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEkD,QAAQ,CAACgN,MAAM,CAAC,EAAE,CAAC,CAAE3S,IAAI,CAAE,CAAG,CAAC,CAAC;AACtF2F,QAAQ,CAACT,IAAI,CAAC,CAAE3C,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAAEzC,IAAI,CAAE,GAAK,CAAC,CAAE,OAAO,CAAC;AACnF4F,QAAQ,CAAClE,KAAK,CAAC,GAAG,CAAC;AACnBkE,QAAQ,CAACV,IAAI,CAAC,CAAEzC,CAAC,CAAEmD,QAAQ,CAAC+M,MAAM,CAAC,EAAE,CAAC,CAAE3S,IAAI,CAAE,GAAK,CAAC,CAAE,OAAO,CAAC;AAC9D4F,QAAQ,CAACV,IAAI,CAAC,CAAElF,IAAI,CAAE,GAAK,CAAC,CAAE,OAAO,CAAC;AACvC;AACD,CAAC;AACDssB,KAAK,CAAE;AACNpnB,IAAI,SAAAA,CAAC+S,KAAK,CAAAsU,MAAA,CAAc,IAAX,CAAA5mB,QAAQ,CAAA4mB,MAAA;AACpB5mB,QAAQ,CAACT,IAAI,CAAC,CAAE3C,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAG,EAAE,CAAEvC,IAAI,CAAE,GAAI,CAAC,CAAC;AAChD2F,QAAQ,CAACT,IAAI,CAAC,CAAE3C,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAG,EAAE,CAAEvC,IAAI,CAAE,GAAI,CAAC,CAAC;AAChD2F,QAAQ,CAACT,IAAI,CAAC,CAAE3C,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAEvC,IAAI,CAAE,GAAI,CAAC,CAAC;AAC5C;AACD,CAAC;AACDwsB,KAAK,CAAE;AACNtnB,IAAI,SAAAA,CAAC+S,KAAK,CAAAwU,MAAA,CAAc,IAAX,CAAA9mB,QAAQ,CAAA8mB,MAAA;AACpB9mB,QAAQ,CAACT,IAAI,CAAC,CAAE3C,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAG,EAAG,CAAC,CAAC;AACrCoD,QAAQ,CAACT,IAAI,CAAC,CAAE3C,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAG,EAAG,CAAC,CAAC;AACrCoD,QAAQ,CAACT,IAAI,CAAC,CAAE3C,CAAC,CAAEoD,QAAQ,CAACpD,CAAE,CAAC,CAAC;AACjC;AACD,CAAC;AACDmqB,OAAO,CAAE;AACRxnB,IAAI,SAAAA,CAAC+S,KAAK,CAAA0U,MAAA,CAAc,IAAX,CAAA/mB,QAAQ,CAAA+mB,MAAA;AACpB1U,KAAK,CAAC7X,UAAU,CAAC,MAAM;AACtB,CAAEmC,CAAC,CAAEqD,QAAQ,CAACmH,MAAM,CAAC,CAAC,EAAE,CAAC,CAAEvK,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEmD,QAAQ,CAAC+M,MAAM,CAAC,CAAC,EAAE,CAAC,CAAE1R,KAAK,CAAE,GAAG,CAAE9C,OAAO,CAAE,CAAG,CAAC;AACjG,CAAEoE,CAAC,CAAEqD,QAAQ,CAACmH,MAAM,CAAC,CAAC,EAAE,CAAC,CAAEvK,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAExB,KAAK,CAAE,CAAC,CAAE9C,OAAO,CAAE,GAAG,CAAE6B,IAAI,CAAE,GAAK,CAAC;AAClG,OAAO,CAAE,MAAM,CAAC;AACjB4F,QAAQ,CAAClE,KAAK,CAAC,GAAG,CAAC;AACnBkE,QAAQ,CAACV,IAAI,CAAC,CAAE1C,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAG,CAAC,CAAErB,MAAM,CAAE,GAAG,CAAEnB,IAAI,CAAE,GAAK,CAAC,CAAE,OAAO,CAAC;AACtE4F,QAAQ,CAACV,IAAI,CAAC,CAAElF,IAAI,CAAE,GAAK,CAAC,CAAE,OAAO,CAAC;AACtC4F,QAAQ,CAACV,IAAI,CAAC,CAAE1C,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAG,CAAC,CAAErB,MAAM,CAAE,GAAG,CAAEnB,IAAI,CAAE,GAAK,CAAC,CAAE,OAAO,CAAC;AACtE4F,QAAQ,CAACV,IAAI,CAAC,CAAElF,IAAI,CAAE,GAAK,CAAC,CAAE,OAAO,CAAC;AACvC;AACD,CAAC;AACD4sB,KAAK,CAAE;AACN1nB,IAAI,SAAAA,CAAC+S,KAAK,CAAA4U,MAAA,CAAwB,IAArB,CAAAlnB,QAAQ,CAAAknB,MAAA,IAAEjnB,QAAQ,CAAAinB,MAAA;AAC9B5U,KAAK,CAAC7X,UAAU,CAAC,YAAY;AAC5B,CAAEmC,CAAC,CAAEqD,QAAQ,CAACrD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAExB,KAAK,CAAE,GAAG,CAAE9C,OAAO,CAAE,GAAG,CAAE6B,IAAI,CAAE,CAAG,CAAC;AAC7F,CAAEuC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAAEzC,IAAI,CAAE,GAAG,CAAE7B,OAAO,CAAE,GAAK,CAAC;AACzE,YAAY,CAAE,MAAM,CAAC;AACtB8Z,KAAK,CAAC7X,UAAU,CAAC,YAAY;AAC5B,CAAEmC,CAAC,CAAEqD,QAAQ,CAACrD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAExB,KAAK,CAAE,GAAG,CAAE9C,OAAO,CAAE,GAAG,CAAE6B,IAAI,CAAE,EAAI,CAAC;AAC9F,CAAEuC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAAEzC,IAAI,CAAE,GAAG,CAAE7B,OAAO,CAAE,GAAK,CAAC,CAAE,QAAQ,CAAE,MAAM,CAAC;AAC7F8Z,KAAK,CAAC7X,UAAU,CAAC,YAAY;AAC5B,CAAEmC,CAAC,CAAEqD,QAAQ,CAACrD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAExB,KAAK,CAAE,GAAG,CAAE9C,OAAO,CAAE,GAAG,CAAE6B,IAAI,CAAE,GAAK,CAAC;AAC/F,CAAEuC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAAEzC,IAAI,CAAE,GAAG,CAAE7B,OAAO,CAAE,GAAK,CAAC;AACzE,iBAAiB,CAAE,MAAM,CAAC;AAC5B;AACD,CAAC;AACD2uB,KAAK,CAAE;AACN5nB,IAAI,SAAAA,CAAC+S,KAAK,CAAA8U,MAAA,CAAwB,IAArB,CAAApnB,QAAQ,CAAAonB,MAAA,IAAEnnB,QAAQ,CAAAmnB,MAAA;AAC9B9U,KAAK,CAAC7X,UAAU,CAAC,YAAY;AAC5B,CAAEmC,CAAC,CAAEqD,QAAQ,CAACrD,CAAC,CAAEC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAExB,KAAK,CAAE,GAAG,CAAE9C,OAAO,CAAE,GAAG,CAAE6B,IAAI,CAAE,CAAG,CAAC;AACnF,CAAEuC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAAEzC,IAAI,CAAE,GAAG,CAAC7B,OAAO,CAAE,CAAG,CAAC;AACtE,YAAY,CAAC;AACd8Z,KAAK,CAAC7X,UAAU,CAAC,YAAY;AAC5B,CAAEmC,CAAC,CAAEqD,QAAQ,CAACrD,CAAC,CAAEC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAExB,KAAK,CAAE,GAAG,CAAE9C,OAAO,CAAE,GAAG,CAAE6B,IAAI,CAAE,EAAI,CAAC;AACpF,CAAEuC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAAEzC,IAAI,CAAE,GAAG,CAAE7B,OAAO,CAAE,CAAG,CAAC;AACvE,QAAQ,CAAC;AACV8Z,KAAK,CAAC7X,UAAU,CAAC,YAAY;AAC5B,CAAEmC,CAAC,CAAEqD,QAAQ,CAACrD,CAAC,CAAEC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAExB,KAAK,CAAE,GAAG,CAAE9C,OAAO,CAAE,GAAG,CAAE6B,IAAI,CAAE,GAAK,CAAC;AACrF,CAAEuC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAAEzC,IAAI,CAAE,GAAG,CAAE7B,OAAO,CAAE,CAAG,CAAC;AACvE,iBAAiB,CAAC;AACpB;AACD,CAAC;AACD6uB,SAAS,CAAE;AACV9nB,IAAI,SAAAA,CAAC+S,KAAK,CAAAgV,MAAA,CAAwB,IAArB,CAAAtnB,QAAQ,CAAAsnB,MAAA,IAAErnB,QAAQ,CAAAqnB,MAAA;AAC9BhV,KAAK,CAAC7X,UAAU,CAAC,WAAW;AAC3B,CAAEmC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAAExB,KAAK,CAAE,GAAG,CAAE9C,OAAO,CAAE,GAAK,CAAC;AAC1E,CAAEoE,CAAC,CAAEqD,QAAQ,CAACrD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAG,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAAC+M,MAAM,CAAC,EAAE,CAAC,CAAE1R,KAAK,CAAE,CAAC,CAAE9C,OAAO,CAAE,GAAK,CAAC;AAC3F,OAAO,CAAE,SAAS,CAAC;AACnB8Z,KAAK,CAAC7X,UAAU,CAAC,WAAW;AAC3B,CAAEmC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAAExB,KAAK,CAAE,GAAG,CAAE9C,OAAO,CAAE,GAAG,CAAE6B,IAAI,CAAE,EAAI,CAAC;AACpF,CAAEuC,CAAC,CAAEqD,QAAQ,CAACrD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAG,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAAC+M,MAAM,CAAC,EAAE,CAAC,CAAE1R,KAAK,CAAE,CAAC,CAAE9C,OAAO,CAAE,GAAK,CAAC;AAC1F,OAAO,CAAE,SAAS,CAAC;AACpB8Z,KAAK,CAAC7X,UAAU,CAAC,WAAW;AAC3B,CAAEmC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAAExB,KAAK,CAAE,GAAG,CAAE9C,OAAO,CAAE,GAAG,CAAE6B,IAAI,CAAE,GAAK,CAAC;AACrF,CAAEuC,CAAC,CAAEqD,QAAQ,CAACrD,CAAC,CAAEC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAG,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAAC+M,MAAM,CAAC,EAAE,CAAC,CAAE1R,KAAK,CAAE,CAAC,CAAE9C,OAAO,CAAE,GAAK,CAAC;AACrF,OAAO,CAAE,SAAS,CAAC;AACrB;AACD,CAAC;AACD+uB,KAAK,CAAE;AACNhoB,IAAI,SAAAA,CAAC+S,KAAK,CAAAkV,MAAA,CAAc,IAAX,CAAAxnB,QAAQ,CAAAwnB,MAAA;AACpBlV,KAAK,CAAC7X,UAAU,CAAC,MAAM;AACtB,CAAEmC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAAExB,KAAK,CAAE,CAAC,CAAE9C,OAAO,CAAE,GAAG,CAAE6B,IAAI,CAAE,CAAG,CAAC;AACjF,CAAEyC,CAAC,CAAEkD,QAAQ,CAACgN,MAAM,CAAC,CAAC,EAAE,CAAC,CAAE1R,KAAK,CAAE,CAAC,CAAE9C,OAAO,CAAE,CAAC,CAAE6B,IAAI,CAAE,GAAK,CAAC;AAC7D,QAAQ,CAAC;AACViY,KAAK,CAAC7X,UAAU,CAAC,MAAM;AACtB,CAAEmC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAAExB,KAAK,CAAE,CAAC,CAAE9C,OAAO,CAAE,GAAG,CAAE6B,IAAI,CAAE,GAAK,CAAC;AACnF,CAAEyC,CAAC,CAAEkD,QAAQ,CAACgN,MAAM,CAAC,CAAC,EAAE,CAAC,CAAE1R,KAAK,CAAE,CAAC,CAAE9C,OAAO,CAAE,CAAC,CAAE6B,IAAI,CAAE,GAAK,CAAC;AAC7D,QAAQ,CAAC;AACViY,KAAK,CAAC7X,UAAU,CAAC,MAAM;AACtB,CAAEmC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAAExB,KAAK,CAAE,CAAC,CAAE9C,OAAO,CAAE,GAAG,CAAE6B,IAAI,CAAE,GAAK,CAAC;AACnF,CAAEyC,CAAC,CAAEkD,QAAQ,CAACgN,MAAM,CAAC,CAAC,EAAE,CAAC,CAAE1R,KAAK,CAAE,CAAC,CAAE9C,OAAO,CAAE,CAAC,CAAE6B,IAAI,CAAE,GAAK,CAAC;AAC7D,QAAQ,CAAC;AACX;AACD,CAAC;AACDotB,OAAO,CAAE;AACRloB,IAAI,SAAAA,CAAC+S,KAAK,CAAAoV,MAAA,CAAc,IAAX,CAAA1nB,QAAQ,CAAA0nB,MAAA;AACpB1nB,QAAQ,CAACT,IAAI,CAAC,CAAE1C,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAG,EAAE,CAAErB,MAAM,CAAE,GAAG,CAAEnB,IAAI,CAAE,GAAK,CAAC,CAAE,OAAO,CAAC;AACvE2F,QAAQ,CAACjE,KAAK,CAAC,GAAG,CAAC;AACnBiE,QAAQ,CAACT,IAAI,CAAC,CAAElF,IAAI,CAAE,GAAK,CAAC,CAAC;AAC9B;AACD,CAAC;AACDstB,cAAc,CAAE;AACfpoB,IAAI,SAAAA,CAAC+S,KAAK,CAAAsV,MAAA,CAAc,IAAX,CAAA3nB,QAAQ,CAAA2nB,MAAA;AACpBtV,KAAK,CAAClW,gBAAgB,CAAC,SAAS,CAAE,GAAG,CAAE,GAAG,CAAC;AAC3CkW,KAAK,CAAClW,gBAAgB,CAAC,SAAS,CAAE,GAAG,CAAE,GAAG,CAAE,GAAG,CAAC;AAChD6D,QAAQ,CAACV,IAAI,CAAC,CAAEjE,KAAK,CAAE,GAAG,CAAEjB,IAAI,CAAE,GAAK,CAAC,CAAC;AACzC4F,QAAQ,CAACV,IAAI,CAAC,CAAEjE,KAAK,CAAE,CAAC,CAAEjB,IAAI,CAAE,GAAK,CAAC,CAAC;AACvC4F,QAAQ,CAACV,IAAI,CAAC,CAAEjE,KAAK,CAAE,GAAG,CAAEjB,IAAI,CAAE,GAAK,CAAC,CAAC;AACzC4F,QAAQ,CAACV,IAAI,CAAC,CAAEjE,KAAK,CAAE,CAAC,CAAEjB,IAAI,CAAE,GAAK,CAAC,CAAC;AACvCiY,KAAK,CAAClY,IAAI,CAAC,GAAG,CAAC;AAChB;AACD,CAAC;AACDytB,aAAa,CAAE;AACdtoB,IAAI,SAAAA,CAAC+S,KAAK,CAAAwV,MAAA,CAAc,IAAX,CAAA7nB,QAAQ,CAAA6nB,MAAA;AACpBxV,KAAK,CAAClW,gBAAgB,CAAC,SAAS,CAAE,GAAG,CAAE,GAAG,CAAC;AAC3CkW,KAAK,CAAC7X,UAAU,CAAC,UAAU;AAC1B,CAAEmC,CAAC,CAAEqD,QAAQ,CAACrD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAExB,KAAK,CAAE,CAAC,CAAE9C,OAAO,CAAE,GAAK,CAAC;AAC7E,CAAE8C,KAAK,CAAE,CAAC,CAAE9C,OAAO,CAAE,CAAG,CAAC;AACzB,QAAQ,CAAC;AACV8Z,KAAK,CAAC7X,UAAU,CAAC,UAAU;AAC1B,CAAEmC,CAAC,CAAEqD,QAAQ,CAACrD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAExB,KAAK,CAAE,CAAC,CAAE9C,OAAO,CAAE,GAAG,CAAE6B,IAAI,CAAE,GAAK,CAAC;AAC7F,CAAEiB,KAAK,CAAE,CAAC,CAAE9C,OAAO,CAAE,CAAG,CAAC;AACzB,QAAQ,CAAC;AACV8Z,KAAK,CAAC7X,UAAU,CAAC,UAAU;AAC1B,CAAEmC,CAAC,CAAEqD,QAAQ,CAACrD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAExB,KAAK,CAAE,CAAC,CAAE9C,OAAO,CAAE,GAAG,CAAE6B,IAAI,CAAE,GAAK,CAAC;AAC7F,CAAEiB,KAAK,CAAE,CAAC,CAAE9C,OAAO,CAAE,CAAG,CAAC;AACzB,QAAQ,CAAC;AACVyH,QAAQ,CAAClE,KAAK,CAAC,GAAG,CAAC;AACnBkE,QAAQ,CAACV,IAAI,CAAC,CAAE3C,CAAC,CAAEqD,QAAQ,CAACrD,CAAC,CAAG,EAAE,CAAEvC,IAAI,CAAE,EAAI,CAAC,CAAC;AAChD4F,QAAQ,CAACV,IAAI,CAAC,CAAE3C,CAAC,CAAEqD,QAAQ,CAACrD,CAAC,CAAG,EAAE,CAAEvC,IAAI,CAAE,GAAK,CAAC,CAAC;AACjD4F,QAAQ,CAACV,IAAI,CAAC,CAAE3C,CAAC,CAAEqD,QAAQ,CAACrD,CAAC,CAAG,EAAE,CAAEvC,IAAI,CAAE,GAAK,CAAC,CAAC;AACjD4F,QAAQ,CAACV,IAAI,CAAC,CAAE3C,CAAC,CAAEqD,QAAQ,CAACrD,CAAC,CAAG,EAAE,CAAEvC,IAAI,CAAE,GAAK,CAAC,CAAC;AACjD4F,QAAQ,CAACV,IAAI,CAAC,CAAE3C,CAAC,CAAEqD,QAAQ,CAACrD,CAAC,CAAEvC,IAAI,CAAE,GAAK,CAAC,CAAC;AAC7C;AACD,CAAC;AACD0tB,OAAO,CAAE;AACRxoB,IAAI,SAAAA,CAAC+S,KAAK,CAAA0V,MAAA,CAAc,IAAX,CAAA/nB,QAAQ,CAAA+nB,MAAA;AACpB1V,KAAK,CAAC7X,UAAU,CAAC,UAAU;AAC1B,CAAEmC,CAAC,CAAEqD,QAAQ,CAACrD,CAAC,CAAEC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAExB,KAAK,CAAE,CAAC,CAAE9C,OAAO,CAAE,CAAG,CAAC;AACtE,CAAEoE,CAAC,CAAEqD,QAAQ,CAACrD,CAAC,CAAEC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEmD,QAAQ,CAAC+M,MAAM,CAAC,EAAE,CAAC,CAAExU,OAAO,CAAE,CAAC,CAAE6B,IAAI,CAAE,GAAK,CAAC;AACrF,YAAY,CAAC;AACf;AACD,CAAC;AACD4tB,KAAK,CAAE;AACN1oB,IAAI,SAAAA,CAAC+S,KAAK,CAAA4V,MAAA,CAAc,IAAX,CAAAloB,QAAQ,CAAAkoB,MAAA;AACpB5V,KAAK,CAAC7X,UAAU,CAAC,OAAO;AACvB,CAAEmC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAAExB,KAAK,CAAE,GAAG,CAAE9C,OAAO,CAAE,GAAG,CAAE6B,IAAI,CAAE,CAAG,CAAC;AAC7F,CAAEiB,KAAK,CAAE,CAAC,CAAE9C,OAAO,CAAE,CAAC,CAAE6B,IAAI,CAAE,GAAI,CAAC;AACnC,iBAAiB,CAAE,MAAM,CAAC;AAC3BiY,KAAK,CAAC7X,UAAU,CAAC,OAAO;AACvB,CAAEmC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAAExB,KAAK,CAAE,GAAG,CAAE9C,OAAO,CAAE,GAAG,CAAE6B,IAAI,CAAE,GAAK,CAAC;AAC/F,CAAEiB,KAAK,CAAE,CAAC,CAAE9C,OAAO,CAAE,CAAC,CAAE6B,IAAI,CAAE,GAAK,CAAC;AACpC,iBAAiB,CAAE,MAAM,CAAC;AAC3BiY,KAAK,CAAC7X,UAAU,CAAC,OAAO;AACvB,CAAEmC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAAExB,KAAK,CAAE,GAAG,CAAE9C,OAAO,CAAE,GAAG,CAAE6B,IAAI,CAAE,GAAK,CAAC;AAC1F,CAAEiB,KAAK,CAAE,CAAC,CAAE9C,OAAO,CAAE,CAAC,CAAE6B,IAAI,CAAE,GAAI,CAAC;AACnC,iBAAiB,CAAE,MAAM,CAAC;AAC5B;AACD,CAAC;AACD8tB,UAAU,CAAE;AACX5oB,IAAI,SAAAA,CAAC+S,KAAK,CAAA8V,MAAA,CAAc,IAAX,CAAApoB,QAAQ,CAAAooB,MAAA;AACpB9V,KAAK,CAAC7X,UAAU,CAAC,MAAM;AACtB,CAAEmC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAAExB,KAAK,CAAE,CAAC,CAAE9C,OAAO,CAAE,CAAC,CAAE6B,IAAI,CAAE,CAAG,CAAC;AACpF,CAAEwC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAG,EAAE,CAAErE,OAAO,CAAE,GAAG,CAAE6B,IAAI,CAAE,GAAK,CAAC;AACjD,QAAQ,CAAE,MAAM,CAAC;AACjBiY,KAAK,CAAC7X,UAAU,CAAC,MAAM;AACtB,CAAEmC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAAExB,KAAK,CAAE,CAAC,CAAE9C,OAAO,CAAE,CAAC,CAAE6B,IAAI,CAAE,GAAI,CAAC;AACrF,CAACwC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAG,EAAE,CAAErE,OAAO,CAAE,GAAG,CAAE6B,IAAI,CAAE,GAAK,CAAC;AAChD,QAAQ,CAAE,MAAM,CAAC;AACjBiY,KAAK,CAAC7X,UAAU,CAAC,MAAM;AACtB,CAAEmC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAAExB,KAAK,CAAE,CAAC,CAAE9C,OAAO,CAAE,CAAC,CAAE6B,IAAI,CAAE,GAAK,CAAC;AACtF,CAAEwC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAG,EAAE,CAAErE,OAAO,CAAE,GAAG,CAAE6B,IAAI,CAAE,GAAK,CAAC;AAChD,QAAQ,CAAE,MAAM,CAAC;AAClBiY,KAAK,CAAC7X,UAAU,CAAC,MAAM;AACtB,CAAEmC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAAExB,KAAK,CAAE,CAAC,CAAE9C,OAAO,CAAE,CAAC,CAAE6B,IAAI,CAAE,GAAK,CAAC;AACtF,CAAEwC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAG,EAAE,CAAErE,OAAO,CAAE,GAAG,CAAE6B,IAAI,CAAE,GAAK,CAAC;AAChD,QAAQ,CAAE,MAAM,CAAC;AAClB2F,QAAQ,CAACT,IAAI,CAAC,CAAE3C,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAG,GAAG,CAAEvC,IAAI,CAAE,EAAI,CAAC,CAAE,OAAO,CAAC;AAC1D2F,QAAQ,CAACT,IAAI,CAAC,CAAE3C,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAG,GAAG,CAAEvC,IAAI,CAAE,EAAI,CAAC,CAAE,OAAO,CAAC;AAC1D2F,QAAQ,CAACT,IAAI,CAAC,CAAE3C,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAG,GAAG,CAAEvC,IAAI,CAAE,EAAI,CAAC,CAAE,OAAO,CAAC;AAC1D2F,QAAQ,CAACT,IAAI,CAAC,CAAE3C,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAG,GAAG,CAAEvC,IAAI,CAAE,EAAI,CAAC,CAAE,OAAO,CAAC;AAC1D2F,QAAQ,CAACT,IAAI,CAAC,CAAE3C,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAG,GAAG,CAAEvC,IAAI,CAAE,EAAI,CAAC,CAAE,OAAO,CAAC;AAC1D2F,QAAQ,CAACT,IAAI,CAAC,CAAElF,IAAI,CAAE,GAAK,CAAC,CAAE,OAAO,CAAC;AACvC;AACD,CAAC;AACDguB,WAAW,CAAE;AACZ9oB,IAAI,SAAAA,CAAC+S,KAAK,CAAAgW,MAAA,CAAc,IAAX,CAAAtoB,QAAQ,CAAAsoB,MAAA;AACpBhW,KAAK,CAAC7X,UAAU,CAAC,UAAU;AAC1B,CAAEmC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAAExB,KAAK,CAAE,CAAC,CAAE9C,OAAO,CAAE,GAAK,CAAC;AAC7E,CAAE8C,KAAK,CAAE,CAAC,CAAE9C,OAAO,CAAE,CAAG,CAAC;AACzB,QAAQ,CAAC;AACV8Z,KAAK,CAAC7X,UAAU,CAAC,UAAU;AAC1B,CAAEmC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAAExB,KAAK,CAAE,CAAC,CAAE9C,OAAO,CAAE,GAAG,CAAE6B,IAAI,CAAE,GAAK,CAAC;AAC7F,CAAEiB,KAAK,CAAE,CAAC,CAAE9C,OAAO,CAAE,CAAG,CAAC;AACzB,QAAQ,CAAC;AACV8Z,KAAK,CAAC7X,UAAU,CAAC,UAAU;AAC1B,CAAEmC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAAExB,KAAK,CAAE,CAAC,CAAE9C,OAAO,CAAE,GAAG,CAAE6B,IAAI,CAAE,GAAK,CAAC;AAC7F,CAAEiB,KAAK,CAAE,CAAC,CAAE9C,OAAO,CAAE,CAAG,CAAC;AAC1B,QAAQ,CAAC;AACTwH,QAAQ,CAACT,IAAI,CAAC,CAAE3C,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAG,EAAE,CAAEvC,IAAI,CAAE,EAAI,CAAC,CAAC;AAChD2F,QAAQ,CAACT,IAAI,CAAC,CAAE3C,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAG,EAAE,CAAEvC,IAAI,CAAE,GAAK,CAAC,CAAC;AACjD2F,QAAQ,CAACT,IAAI,CAAC,CAAE3C,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAG,EAAE,CAAEvC,IAAI,CAAE,GAAK,CAAC,CAAC;AACjD2F,QAAQ,CAACT,IAAI,CAAC,CAAE3C,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAG,EAAE,CAAEvC,IAAI,CAAE,GAAK,CAAC,CAAC;AACjD2F,QAAQ,CAACT,IAAI,CAAC,CAAE3C,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAG,EAAE,CAAEvC,IAAI,CAAE,GAAK,CAAC,CAAC;AACjD2F,QAAQ,CAACT,IAAI,CAAC,CAAE3C,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAG,EAAE,CAAEvC,IAAI,CAAE,GAAK,CAAC,CAAC;AACjD2F,QAAQ,CAACT,IAAI,CAAC,CAAE3C,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAEvC,IAAI,CAAE,GAAK,CAAC,CAAC;AAC7C;AACD,CAAC;AACDkuB,kBAAkB,CAAE;AACnBhpB,IAAI,SAAAA,CAAC+S,KAAK,CAAAkW,MAAA,CAAwB,IAArB,CAAAxoB,QAAQ,CAAAwoB,MAAA,IAAEvoB,QAAQ,CAAAuoB,MAAA;AAC9BlW,KAAK,CAAClW,gBAAgB,CAAC,sCAAsC,CAAE,IAAI,CAAE,GAAG,CAAC;AACzEkW,KAAK,CAAC7X,UAAU,CAAC,YAAY;AAC5B,CAAEmC,CAAC,CAAEqD,QAAQ,CAACrD,CAAC,CAAEC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAExB,KAAK,CAAE,GAAG,CAAEC,MAAM,CAAE,GAAG,CAAEC,MAAM,CAAE,CAAC,CAAEhD,OAAO,CAAE,GAAK,CAAC;AACvG,CAAE8C,KAAK,CAAE,CAAC,CAAEC,MAAM,CAAE,CAAC,CAAE/C,OAAO,CAAE,GAAG,CAAE6B,IAAI,CAAE,GAAK,CAAC;AAClD,OAAO,CAAE,MAAM,CAAC;AAChBiY,KAAK,CAAC7X,UAAU,CAAC,YAAY;AAC5B,CAAEmC,CAAC,CAAEqD,QAAQ,CAACrD,CAAC,CAAEC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAExB,KAAK,CAAE,CAAG,CAAC;AAC/D,CAAEsB,CAAC,CAAEqD,QAAQ,CAACrD,CAAC,CAAG,EAAE,CAAEtB,KAAK,CAAE,CAAC,CAAEC,MAAM,CAAE,GAAG,CAAE/C,OAAO,CAAE,GAAG,CAAE6B,IAAI,CAAE,GAAK,CAAC;AACvE,QAAQ,CAAE,MAAM,CAAC;AAClBiY,KAAK,CAAC7X,UAAU,CAAC,YAAY;AAC5B,CAAEmC,CAAC,CAAEqD,QAAQ,CAACrD,CAAC,CAAEC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAExB,KAAK,CAAE,CAAG,CAAC;AAC/D,CAAEsB,CAAC,CAAEqD,QAAQ,CAACrD,CAAC,CAAG,EAAE,CAAEtB,KAAK,CAAE,CAAC,CAAEC,MAAM,CAAE,GAAG,CAAE/C,OAAO,CAAE,GAAG,CAAE6B,IAAI,CAAE,GAAK,CAAC;AACvE,QAAQ,CAAE,MAAM,CAAC;AAClBiY,KAAK,CAAC7X,UAAU,CAAC,YAAY;AAC5B,CAAEmC,CAAC,CAAEqD,QAAQ,CAACrD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAEtE,OAAO,CAAE,GAAG,CAAE8C,KAAK,CAAE,IAAI,CAAEjB,IAAI,CAAE,EAAI,CAAC;AAC1F,CAAEwC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAG,EAAE,CAAErE,OAAO,CAAE,CAAC,CAAE6B,IAAI,CAAE,GAAK,CAAC;AAC/C,OAAO,CAAC;AACRiY,KAAK,CAAC7X,UAAU,CAAC,YAAY;AAC5B,CAAEmC,CAAC,CAAEqD,QAAQ,CAACrD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAEtE,OAAO,CAAE,GAAG,CAAE8C,KAAK,CAAE,IAAI,CAAEjB,IAAI,CAAE,GAAK,CAAC;AAC3F,CAAEwC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAG,EAAE,CAAErE,OAAO,CAAE,CAAC,CAAE6B,IAAI,CAAE,GAAK,CAAC;AAC9C,OAAO,CAAC;AACTiY,KAAK,CAAC7X,UAAU,CAAC,YAAY;AAC5B,CAAEmC,CAAC,CAAEqD,QAAQ,CAACrD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAEtE,OAAO,CAAE,GAAG,CAAE8C,KAAK,CAAE,GAAG,CAAEjB,IAAI,CAAE,GAAK,CAAC;AAC1F,CAAEwC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAG,EAAE,CAAErE,OAAO,CAAE,CAAC,CAAE6B,IAAI,CAAE,GAAK,CAAC;AAC9C,OAAO,CAAC;AACTiY,KAAK,CAAC7X,UAAU,CAAC,YAAY;AAC5B,CAAEmC,CAAC,CAAEqD,QAAQ,CAACrD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAEtE,OAAO,CAAE,GAAG,CAAE8C,KAAK,CAAE,IAAI,CAAEjB,IAAI,CAAE,GAAK,CAAC;AAC3F,CAAEwC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAG,EAAE,CAAErE,OAAO,CAAE,CAAC,CAAE6B,IAAI,CAAE,GAAK,CAAC;AAC9C,OAAO,CAAC;AACTiY,KAAK,CAAC7X,UAAU,CAAC,YAAY;AAC5B,CAAEmC,CAAC,CAAEqD,QAAQ,CAACrD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAExB,KAAK,CAAE,CAAC,CAAE9C,OAAO,CAAE,GAAG,CAAE6B,IAAI,CAAE,GAAK,CAAC;AAC7F,CAAEuC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAAEzC,IAAI,CAAE,GAAK,CAAC;AACrE,OAAO,CAAE,MAAM,CAAC;AACjBiY,KAAK,CAAC7X,UAAU,CAAC,YAAY;AAC5B,CAAEmC,CAAC,CAAEqD,QAAQ,CAACrD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAExB,KAAK,CAAE,CAAC,CAAE9C,OAAO,CAAE,GAAG,CAAE6B,IAAI,CAAE,GAAK,CAAC;AAC7F,CAAEuC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAAEzC,IAAI,CAAE,GAAK,CAAC;AACrE,OAAO,CAAE,MAAM,CAAC;AACjBiY,KAAK,CAAC7X,UAAU,CAAC,YAAY;AAC5B,CAAEmC,CAAC,CAAEqD,QAAQ,CAACrD,CAAC,CAAEC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAExB,KAAK,CAAE,CAAC,CAAE9C,OAAO,CAAE,GAAG,CAAE6B,IAAI,CAAE,GAAK,CAAC;AACxF,CAAEuC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAAEzC,IAAI,CAAE,GAAK,CAAC;AAChE,OAAO,CAAE,MAAM,CAAC;AACjBiY,KAAK,CAAC7X,UAAU,CAAC,YAAY;AAC5B,CAAEmC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAAExB,KAAK,CAAE,CAAC,CAAEC,MAAM,CAAE,GAAG,CAAEC,MAAM,CAAE,CAAC,CAAEhD,OAAO,CAAE,GAAG,CAAE6B,IAAI,CAAE,GAAK,CAAC;AAChH,CAAEiB,KAAK,CAAE,CAAC,CAAEC,MAAM,CAAE,CAAC,CAAE/C,OAAO,CAAE,GAAG,CAAE6B,IAAI,CAAE,IAAM,CAAC;AAClD,OAAO,CAAE,MAAM,CAAC;AACjBiY,KAAK,CAAC7X,UAAU,CAAC,YAAY;AAC5B,CAAEmC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAAEtE,OAAO,CAAE,GAAG,CAAE8C,KAAK,CAAE,IAAI,CAAEjB,IAAI,CAAE,GAAK,CAAC;AAChG,CAAEwC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAErE,OAAO,CAAE,CAAC,CAAE6B,IAAI,CAAE,IAAM,CAAC;AAC1C,OAAO,CAAC;AACTiY,KAAK,CAAC7X,UAAU,CAAC,YAAY;AAC5B,CAAEmC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAAEtE,OAAO,CAAE,CAAC,CAAE8C,KAAK,CAAE,IAAI,CAAEjB,IAAI,CAAE,GAAK,CAAC;AAC9F,CAAEwC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAErE,OAAO,CAAE,CAAC,CAAE6B,IAAI,CAAE,IAAM,CAAC;AAC1C,OAAO,CAAC;AACTiY,KAAK,CAAC7X,UAAU,CAAC,YAAY;AAC5B,CAAEmC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAAEtE,OAAO,CAAE,CAAC,CAAE8C,KAAK,CAAE,IAAI,CAAEjB,IAAI,CAAE,GAAK,CAAC;AAC9F,CAAEwC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAErE,OAAO,CAAE,CAAC,CAAE6B,IAAI,CAAE,IAAM,CAAC;AAC1C,OAAO,CAAC;AACTiY,KAAK,CAAC7X,UAAU,CAAC,YAAY;AAC5B,CAAEmC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAAEtE,OAAO,CAAE,CAAC,CAAE8C,KAAK,CAAE,IAAI,CAAEjB,IAAI,CAAE,IAAM,CAAC;AAC/F,CAAEwC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAErE,OAAO,CAAE,CAAC,CAAE6B,IAAI,CAAE,IAAM,CAAC;AAC1C,OAAO,CAAC;AACTiY,KAAK,CAAC7X,UAAU,CAAC,YAAY;AAC5B,CAAEmC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAAExB,KAAK,CAAE,CAAC,CAAE9C,OAAO,CAAE,CAAC,CAAE6B,IAAI,CAAE,GAAK,CAAC;AACtF,CAAEuC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAG,EAAE,CAAEpE,OAAO,CAAE,GAAG,CAAE6B,IAAI,CAAE,IAAM,CAAC;AACjD,QAAQ,CAAE,MAAM,CAAC;AAClBiY,KAAK,CAAC7X,UAAU,CAAC,YAAY;AAC5B,CAAEmC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAAExB,KAAK,CAAE,CAAC,CAAE9C,OAAO,CAAE,CAAC,CAAE6B,IAAI,CAAE,GAAK,CAAC;AACtF,CAAEuC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAG,EAAE,CAAEpE,OAAO,CAAE,GAAG,CAAE6B,IAAI,CAAE,IAAM,CAAC;AACjD,QAAQ,CAAE,MAAM,CAAC;AAClB4F,QAAQ,CAACV,IAAI,CAAC,CAAE3C,CAAC,CAAEqD,QAAQ,CAACrD,CAAC,CAAG,EAAE,CAAEvC,IAAI,CAAE,EAAI,CAAC,CAAC;AAChD4F,QAAQ,CAACV,IAAI,CAAC,CAAE3C,CAAC,CAAEqD,QAAQ,CAACrD,CAAC,CAAG,EAAE,CAAEvC,IAAI,CAAE,GAAK,CAAC,CAAC;AACjD4F,QAAQ,CAACV,IAAI,CAAC,CAAE3C,CAAC,CAAEqD,QAAQ,CAACrD,CAAC,CAAG,EAAE,CAAEvC,IAAI,CAAE,GAAK,CAAC,CAAC;AACjD4F,QAAQ,CAACV,IAAI,CAAC,CAAE3C,CAAC,CAAEqD,QAAQ,CAACrD,CAAC,CAAG,EAAE,CAAEvC,IAAI,CAAE,GAAK,CAAC,CAAC;AACjD4F,QAAQ,CAACV,IAAI,CAAC,CAAE3C,CAAC,CAAEqD,QAAQ,CAACrD,CAAC,CAAG,EAAE,CAAEvC,IAAI,CAAE,GAAK,CAAC,CAAC;AACjD4F,QAAQ,CAACV,IAAI,CAAC,CAAE3C,CAAC,CAAEqD,QAAQ,CAACrD,CAAC,CAAG,EAAE,CAAEvC,IAAI,CAAE,GAAK,CAAC,CAAC;AACjD4F,QAAQ,CAACV,IAAI,CAAC,CAAE3C,CAAC,CAAEqD,QAAQ,CAACrD,CAAC,CAAEvC,IAAI,CAAE,GAAK,CAAC,CAAC;AAC7C;AACD,CAAC;AACD+b,WAAW,CAAE;AACZ7W,IAAI,SAAAA,CAAC+S,KAAK,CAAAmW,MAAA,CAAc,IAAX,CAAAzoB,QAAQ,CAAAyoB,MAAA;AACpBnW,KAAK,CAAClW,gBAAgB,CAAC,SAAS,CAAE,GAAG,CAAE,GAAG,CAAC;AAC3CkW,KAAK,CAAC7X,UAAU,CAAC,MAAM;AACtB,CAAEmC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAAExB,KAAK,CAAE,GAAG,CAAE9C,OAAO,CAAE,CAAG,CAAC;AACxE,CAAE8C,KAAK,CAAE,CAAC,CAAEjB,IAAI,CAAE,GAAK,CAAC;AACxB,QAAQ,CAAE,SAAS,CAAC;AACrBiY,KAAK,CAAC7X,UAAU,CAAC,WAAW;AAC3B,CAAEmC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAAExB,KAAK,CAAE,CAAC,CAAE9C,OAAO,CAAE,GAAK,CAAC;AACxE,CAAE8C,KAAK,CAAE,IAAI,CAAEjB,IAAI,CAAE,GAAK,CAAC;AAC3B,QAAQ,CAAE,SAAS,CAAC;AACrBiY,KAAK,CAAC7X,UAAU,CAAC,SAAS;AACzB,CAAEmC,CAAC,CAAEoD,QAAQ,CAACoH,MAAM,CAAC,GAAG,CAAC,CAAEvK,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAAExB,KAAK,CAAE,GAAG,CAAE9C,OAAO,CAAE,GAAK,CAAC;AACzF,CAAEoE,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAAEtE,OAAO,CAAE,CAAC,CAAE6B,IAAI,CAAE,GAAK,CAAC;AACvE,WAAW,CAAE,MAAM,CAAC;AACrBiY,KAAK,CAAC7X,UAAU,CAAC,SAAS;AACzB,CAAEmC,CAAC,CAAEoD,QAAQ,CAACoH,MAAM,CAAC,CAAC,GAAG,CAAC,CAAEvK,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAAExB,KAAK,CAAE,GAAG,CAAE9C,OAAO,CAAE,GAAG,CAAE6B,IAAI,CAAE,GAAK,CAAC;AACrG,CAAEuC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAAEtE,OAAO,CAAE,CAAC,CAAC6B,IAAI,CAAE,GAAK,CAAC;AACtE,iBAAiB,CAAE,MAAM,CAAC;AAC3BiY,KAAK,CAAC7X,UAAU,CAAC,SAAS;AACzB,CAAEmC,CAAC,CAAEoD,QAAQ,CAACoH,MAAM,CAAC,CAAC,GAAG,CAAC,CAAEvK,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEkD,QAAQ,CAACgN,MAAM,CAAC,GAAG,CAAC,CAAE1R,KAAK,CAAE,GAAG,CAAE9C,OAAO,CAAE,GAAG,CAAE6B,IAAI,CAAE,GAAK,CAAC;AAC/G,CAAEuC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAACtE,OAAO,CAAE,CAAC,CAAE6B,IAAI,CAAE,GAAK,CAAC;AACvE,YAAY,CAAE,MAAM,CAAC;AACrBiY,KAAK,CAAC7X,UAAU,CAAC,SAAS;AACzB,CAAEmC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEkD,QAAQ,CAACgN,MAAM,CAAC,CAAC,GAAG,CAAC,CAAE1R,KAAK,CAAE,GAAG,CAAE9C,OAAO,CAAE,GAAG,CAAE6B,IAAI,CAAE,GAAK,CAAC;AACrG,CAAEuC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAAEtE,OAAO,CAAE,CAAC,CAAE6B,IAAI,CAAE,GAAK,CAAC;AACvE,WAAW,CAAE,MAAM,CAAC;AACrBiY,KAAK,CAAC7X,UAAU,CAAC,SAAS;AACzB,CAAEmC,CAAC,CAAEoD,QAAQ,CAACoH,MAAM,CAAC,GAAG,CAAC,CAAEvK,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAAExB,KAAK,CAAE,GAAG,CAAE9C,OAAO,CAAE,GAAG,CAAE6B,IAAI,CAAE,GAAK,CAAC;AACpG,CAAEuC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAAEtE,OAAO,CAAE,CAAC,CAAE6B,IAAI,CAAE,GAAK,CAAC;AACvE,iBAAiB,CAAC;AACpB;AACD,CAAC;AACDgc,YAAY,CAAE;AACb9W,IAAI,SAAAA,CAAC+S,KAAK,CAAAoW,MAAA,CAAc,IAAX,CAAA1oB,QAAQ,CAAA0oB,MAAA;AACpBpW,KAAK,CAAClW,gBAAgB,CAAC,SAAS,CAAE,GAAG,CAAE,GAAG,CAAC;AAC3CkW,KAAK,CAAC7X,UAAU,CAAC,MAAM;AACtB,CAAEmC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAAExB,KAAK,CAAE,CAAC,CAAE9C,OAAO,CAAE,CAAG,CAAC;AACtE,CAAE8C,KAAK,CAAE,CAAC,CAAEjB,IAAI,CAAE,GAAK,CAAC;AACxB,QAAQ,CAAE,SAAS,CAAC;AACrBiY,KAAK,CAAC7X,UAAU,CAAC,WAAW;AAC3B,CAAEmC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAAExB,KAAK,CAAE,IAAI,CAAE9C,OAAO,CAAE,GAAK,CAAC;AAC3E,CAAE8C,KAAK,CAAE,GAAG,CAAEjB,IAAI,CAAE,GAAK,CAAC;AAC1B,QAAQ,CAAE,SAAS,CAAC;AACrBiY,KAAK,CAAC7X,UAAU,CAAC,SAAS;AACzB,CAAEmC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAAExB,KAAK,CAAE,GAAG,CAAE9C,OAAO,CAAE,CAAG,CAAC;AACxE,CAAEoE,CAAC,CAAEoD,QAAQ,CAACoH,MAAM,CAAC,GAAG,CAAC,CAAEvK,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAAExB,KAAK,CAAE,GAAG,CAAE9C,OAAO,CAAE,GAAG,CAAE6B,IAAI,CAAE,GAAK,CAAC;AACpG,WAAW,CAAE,MAAM,CAAC;AACrBiY,KAAK,CAAC7X,UAAU,CAAC,SAAS;AACzB,CAAEmC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAAExB,KAAK,CAAE,GAAG,CAAE9C,OAAO,CAAE,CAAC,CAAE6B,IAAI,CAAE,GAAK,CAAC;AACnF,CAAEuC,CAAC,CAAEoD,QAAQ,CAACoH,MAAM,CAAC,CAAC,GAAG,CAAC,CAAEvK,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAAEtE,OAAO,CAAE,GAAG,CAAE6B,IAAI,CAAE,GAAK,CAAC;AACzF,iBAAiB,CAAE,MAAM,CAAC;AAC3BiY,KAAK,CAAC7X,UAAU,CAAC,SAAS;AACzB,CAAEmC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAAExB,KAAK,CAAE,GAAG,CAAE9C,OAAO,CAAE,CAAC,CAAE6B,IAAI,CAAE,GAAK,CAAC;AACnF,CAAEuC,CAAC,CAAEoD,QAAQ,CAACoH,MAAM,CAAC,CAAC,GAAG,CAAC,CAAEvK,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEkD,QAAQ,CAACgN,MAAM,CAAC,GAAG,CAAC,CAAExU,OAAO,CAAE,GAAG,CAAC6B,IAAI,CAAE,GAAK,CAAC;AAClG,YAAY,CAAE,MAAM,CAAC;AACtBiY,KAAK,CAAC7X,UAAU,CAAC,SAAS;AACzB,CAAEmC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAAExB,KAAK,CAAE,GAAG,CAAE9C,OAAO,CAAE,CAAC,CAAE6B,IAAI,CAAE,GAAK,CAAC;AACnF,CAAEuC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEkD,QAAQ,CAACgN,MAAM,CAAC,CAAC,GAAG,CAAC,CAAExU,OAAO,CAAE,GAAG,CAAE6B,IAAI,CAAE,GAAK,CAAC;AACzF,WAAW,CAAE,MAAM,CAAC;AACrBiY,KAAK,CAAC7X,UAAU,CAAC,SAAS;AACzB,CAAEmC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAAExB,KAAK,CAAE,GAAG,CAAE9C,OAAO,CAAE,CAAC,CAAE6B,IAAI,CAAE,GAAK,CAAC;AACnF,CAAEuC,CAAC,CAAEoD,QAAQ,CAACoH,MAAM,CAAC,GAAG,CAAC,CAAEvK,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAAEtE,OAAO,CAAE,GAAG,CAAE6B,IAAI,CAAE,GAAK,CAAC;AACxF,iBAAiB,CAAC;AACpB;AACD,CAAC;AACD2b,WAAW,CAAE;AACZzW,IAAI,SAAAA,CAAC+S,KAAK,CAAAqW,MAAA,CAAc,IAAX,CAAA3oB,QAAQ,CAAA2oB,MAAA;AACpBrW,KAAK,CAAClW,gBAAgB,CAAC,SAAS,CAAE,GAAG,CAAE,GAAG,CAAC;AAC3CkW,KAAK,CAAC7X,UAAU,CAAC,SAAS;AACzB,CAAEmC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAAExB,KAAK,CAAE,CAAC,CAAE9C,OAAO,CAAE,GAAG,CAAE6B,IAAI,CAAE,CAAG,CAAC;AACjF,CAAEiB,KAAK,CAAE,GAAG,CAAE9C,OAAO,CAAE,CAAC,CAAE6B,IAAI,CAAE,GAAK,CAAC;AACtC,QAAQ,CAAE,MAAM,CAAC;AAClBiY,KAAK,CAAC7X,UAAU,CAAC,SAAS;AACzB,CAAEmC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAAExB,KAAK,CAAE,GAAG,CAAE9C,OAAO,CAAE,CAAC,CAAE6B,IAAI,CAAE,GAAK,CAAC;AACnF,CAAEiB,KAAK,CAAE,CAAC,CAAE9C,OAAO,CAAE,CAAC,CAAE6B,IAAI,CAAE,GAAK,CAAC;AACpC,QAAQ,CAAE,MAAM,CAAC;AAClBiY,KAAK,CAAC7X,UAAU,CAAC,YAAY;AAC5B,CAAEmC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAACxB,KAAK,CAAE,GAAG,CAAE9C,OAAO,CAAE,GAAG,CAAE6B,IAAI,CAAE,GAAK,CAAC;AACpF,CAAEiB,KAAK,CAAE,CAAC,CAAE9C,OAAO,CAAE,CAAC,CAAE6B,IAAI,CAAE,GAAK,CAAC;AACpC,QAAQ,CAAE,MAAM,CAAC;AAClBiY,KAAK,CAAC7X,UAAU,CAAC,OAAO;AACvB,CAAEmC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAAExB,KAAK,CAAE,GAAG,CAAE9C,OAAO,CAAE,CAAC,CAAE6B,IAAI,CAAE,GAAK,CAAC;AACnF,CAAEiB,KAAK,CAAE,GAAG,CAAE9C,OAAO,CAAE,CAAC,CAAE6B,IAAI,CAAE,GAAK,CAAC;AACtC,OAAO,CAAC;AACV;AACD,CAAC;AACD4b,WAAW,CAAE;AACZ1W,IAAI,SAAAA,CAAC+S,KAAK,CAAAsW,MAAA,CAAc,IAAX,CAAA5oB,QAAQ,CAAA4oB,MAAA;AACpBtW,KAAK,CAAClW,gBAAgB,CAAC,uCAAuC,CAAE,GAAG,CAAE,GAAG,CAAC;AACzEkW,KAAK,CAAC7X,UAAU,CAAC,WAAW;AAC3B,CAAEmC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAAExB,KAAK,CAAE,CAAC,CAAE9C,OAAO,CAAE,GAAG,CAAE6B,IAAI,CAAE,CAAG,CAAC;AACjF,CAAEiB,KAAK,CAAE,GAAG,CAAE9C,OAAO,CAAE,CAAC,CAAE6B,IAAI,CAAE,GAAK,CAAC;AACtC,QAAQ,CAAE,MAAM,CAAC;AAClBiY,KAAK,CAAC7X,UAAU,CAAC,WAAW;AAC3B,CAAEmC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAAExB,KAAK,CAAE,GAAG,CAAE9C,OAAO,CAAE,CAAC,CAAE6B,IAAI,CAAE,GAAK,CAAC;AACnF,CAAEiB,KAAK,CAAE,CAAC,CAAE9C,OAAO,CAAE,CAAC,CAAE6B,IAAI,CAAE,GAAK,CAAC;AACpC,QAAQ,CAAE,MAAM,CAAC;AAClBiY,KAAK,CAAC7X,UAAU,CAAC,YAAY;AAC5B,CAAEmC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAAExB,KAAK,CAAE,GAAG,CAAE9C,OAAO,CAAE,GAAG,CAAE6B,IAAI,CAAE,GAAK,CAAC;AACrF,CAAEiB,KAAK,CAAE,CAAC,CAAE9C,OAAO,CAAE,CAAC,CAAE6B,IAAI,CAAE,GAAK,CAAC;AACpC,QAAQ,CAAE,MAAM,CAAC;AAClBiY,KAAK,CAAC7X,UAAU,CAAC,OAAO;AACvB,CAAEmC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAAExB,KAAK,CAAE,GAAG,CAAE9C,OAAO,CAAE,CAAC,CAAE6B,IAAI,CAAE,GAAK,CAAC;AACnF,CAAEiB,KAAK,CAAE,GAAG,CAAE9C,OAAO,CAAE,CAAC,CAAE6B,IAAI,CAAE,GAAK,CAAC;AACtC,OAAO,CAAC;AACV;AACD,CAAC;AACDic,OAAO,CAAE;AACR/W,IAAI,SAAAA,CAAC+S,KAAK,CAAAuW,MAAA,CAAc,IAAX,CAAA7oB,QAAQ,CAAA6oB,MAAA;AACpBvW,KAAK,CAAClW,gBAAgB,CAAC,SAAS,CAAE,GAAG,CAAE,GAAG,CAAC;AAC3CkW,KAAK,CAAC7X,UAAU,CAAC,SAAS;AACzB,CAAEmC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAAExB,KAAK,CAAE,CAAC,CAAE9C,OAAO,CAAE,GAAG,CAAE6B,IAAI,CAAE,CAAG,CAAC;AACjF,CAAEiB,KAAK,CAAE,GAAG,CAAE9C,OAAO,CAAE,CAAC,CAAE6B,IAAI,CAAE,GAAK,CAAC;AACtC,QAAQ,CAAE,MAAM,CAAC;AAClBiY,KAAK,CAAC7X,UAAU,CAAC,SAAS;AACzB,CAAEmC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAAExB,KAAK,CAAE,GAAG,CAAE9C,OAAO,CAAE,CAAC,CAAE6B,IAAI,CAAE,GAAK,CAAC;AACnF,CAAEiB,KAAK,CAAE,CAAC,CAAE9C,OAAO,CAAE,CAAC,CAAE6B,IAAI,CAAE,GAAK,CAAC;AACpC,QAAQ,CAAE,MAAM,CAAC;AAClBiY,KAAK,CAAC7X,UAAU,CAAC,UAAU;AAC1B,CAAEmC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAAExB,KAAK,CAAE,GAAG,CAAE9C,OAAO,CAAE,GAAG,CAAE6B,IAAI,CAAE,GAAK,CAAC;AACrF,CAAEiB,KAAK,CAAE,CAAC,CAAE9C,OAAO,CAAE,CAAC,CAAE6B,IAAI,CAAE,GAAK,CAAC;AACpC,QAAQ,CAAE,MAAM,CAAC;AAClBiY,KAAK,CAAC7X,UAAU,CAAC,SAAS;AACzB,CAAEmC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAAExB,KAAK,CAAE,GAAG,CAAE9C,OAAO,CAAE,CAAC,CAAE6B,IAAI,CAAE,GAAK,CAAC;AACnF,CAAEiB,KAAK,CAAE,CAAC,CAAE9C,OAAO,CAAE,CAAC,CAAE6B,IAAI,CAAE,GAAK,CAAC;AACpC,QAAQ,CAAE,MAAM,CAAC;AACnB;AACD,CAAC;AACDyuB,MAAM,CAAE;AACPvpB,IAAI,SAAAA,CAAC+S,KAAK,CAAAyW,MAAA,CAAc,IAAX,CAAA/oB,QAAQ,CAAA+oB,MAAA;AACpBzW,KAAK,CAAClW,gBAAgB,CAAC,uCAAuC,CAAE,IAAI,CAAE,GAAG,CAAC;AAC1EkW,KAAK,CAAC7X,UAAU,CAAC,aAAa;AAC7B,CAAEmC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAAExB,KAAK,CAAE,GAAG,CAAE9C,OAAO,CAAE,GAAG,CAAE6B,IAAI,CAAE,CAAG,CAAC;AAC7F,CAAEuC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAEvB,KAAK,CAAE,GAAG,CAAE9C,OAAO,CAAE,GAAG,CAAE6B,IAAI,CAAE,GAAK,CAAC;AACtE,QAAQ,CAAE,MAAM,CAAC;AAClBiY,KAAK,CAAC7X,UAAU,CAAC,aAAa;AAC7B,CAAEmC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAG,CAAC,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAAExB,KAAK,CAAE,GAAG,CAAE9C,OAAO,CAAE,GAAG,CAAE6B,IAAI,CAAE,GAAK,CAAC;AAC9F,CAAEuC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAEvB,KAAK,CAAE,GAAG,CAAE9C,OAAO,CAAE,GAAG,CAAE6B,IAAI,CAAE,GAAK,CAAC;AACtE,QAAQ,CAAE,MAAM,CAAC;AAClBiY,KAAK,CAAC7X,UAAU,CAAC,aAAa;AAC7B,CAAEmC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAAExB,KAAK,CAAE,GAAG,CAAE9C,OAAO,CAAE,GAAG,CAAE6B,IAAI,CAAE,GAAK,CAAC;AAC/F,CAAEuC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAEvB,KAAK,CAAE,GAAG,CAAE9C,OAAO,CAAE,GAAG,CAAE6B,IAAI,CAAE,GAAK,CAAC;AACtE,QAAQ,CAAE,MAAM,CAAC;AAClBiY,KAAK,CAAC7X,UAAU,CAAC,aAAa;AAC7B,CAAEmC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAAExB,KAAK,CAAE,GAAG,CAAE9C,OAAO,CAAE,GAAG,CAAE6B,IAAI,CAAE,GAAK,CAAC;AAC/F,CAAEuC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAEvB,KAAK,CAAE,GAAG,CAAE9C,OAAO,CAAE,GAAG,CAAE6B,IAAI,CAAE,GAAK,CAAC;AACtE,QAAQ,CAAE,MAAM,CAAC;AAClBiY,KAAK,CAAC7X,UAAU,CAAC,aAAa;AAC7B,CAAEmC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAAExB,KAAK,CAAE,GAAG,CAAE9C,OAAO,CAAE,GAAG,CAAE6B,IAAI,CAAE,GAAK,CAAC;AAC/F,CAAEuC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAEvB,KAAK,CAAE,GAAG,CAAE9C,OAAO,CAAE,GAAG,CAAE6B,IAAI,CAAE,GAAK,CAAC;AACtE,QAAQ,CAAE,MAAM,CAAC;AAClBiY,KAAK,CAAC7X,UAAU,CAAC,SAAS;AACzB,CAAEmC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAAExB,KAAK,CAAE,GAAG,CAAE9C,OAAO,CAAE,CAAC,CAAE6B,IAAI,CAAE,GAAK,CAAC;AACnF,CAAEiB,KAAK,CAAE,CAAC,CAAE9C,OAAO,CAAE,GAAG,CAAE6B,IAAI,CAAE,GAAK,CAAC;AACtC,OAAO,CAAE,SAAS,CAAC;AACpBiY,KAAK,CAAC7X,UAAU,CAACuF,QAAQ,CAACuS,EAAE;AAC3B,CAAE3V,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAACtE,OAAO,CAAE,GAAG,CAAE6B,IAAI,CAAE,GAAK,CAAC;AACxE,CAAEwC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAG,EAAE,CAAEvB,KAAK,CAAE,CAAC,CAAE9C,OAAO,CAAE,CAAC,CAAE6B,IAAI,CAAE,IAAM,CAAC;AACzD,OAAO,CAAC;AACTiY,KAAK,CAAC7X,UAAU,CAACuF,QAAQ,CAACuS,EAAE;AAC3B,CAAE3V,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAAEtE,OAAO,CAAE,GAAG,CAAE6B,IAAI,CAAE,IAAM,CAAC;AAC1E,CAAEwC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAG,EAAE,CAAEvB,KAAK,CAAE,CAAC,CAAE9C,OAAO,CAAE,CAAC,CAAE6B,IAAI,CAAE,IAAM,CAAC;AACzD,OAAO,CAAC;AACTiY,KAAK,CAAC7X,UAAU,CAACuF,QAAQ,CAACuS,EAAE;AAC3B,CAAE3V,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAAEtE,OAAO,CAAE,GAAG,CAAE6B,IAAI,CAAE,IAAM,CAAC;AAC1E,CAAEwC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAG,EAAE,CAAEvB,KAAK,CAAE,CAAC,CAAE9C,OAAO,CAAE,CAAC,CAAE6B,IAAI,CAAE,IAAM,CAAC;AACzD,OAAO,CAAC;AACV;AACD,CAAC;AACD8b,cAAc,CAAE;AACf5W,IAAI,SAAAA,CAAC+S,KAAK,CAAA0W,MAAA,CAAc,IAAX,CAAAhpB,QAAQ,CAAAgpB,MAAA;AACpB,GAAI,CAAAC,EAAE,CAAG,CAAC,CAAC,CAAE,CAAC,CAAC,CAAE,CAAC,CAAE,CAAC,CAAC,CAAC;AACvB,GAAI,CAAAC,EAAE,CAAG,CAAC,CAAC,CAAE,CAAC,CAAC,CAAE,CAAC,CAAC,CAAE,CAAC,CAAC;AACvB,GAAI,CAAAC,GAAG,CAAG,CAAC,CAAC,CAAE,CAAC,CAAE,CAAC,CAAC,CAAE,CAAC,CAAC;AACvB,GAAI,CAAAC,GAAG,CAAG,CAAC,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAC,CAAC;AACvB9W,KAAK,CAAClW,gBAAgB,CAAC,SAAS,CAAE,IAAI,CAAE,GAAG,CAAC;AAC5C,IAAK,GAAI,CAAAyF,CAAC,CAAG,CAAC,CAAEA,CAAC,CAAG,CAAC,CAAEA,CAAC,EAAE,CAAE;AAC3ByQ,KAAK,CAAC7X,UAAU,CAAC,YAAY;AAC5B,CAAEmC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAG,GAAG,CAAGqsB,EAAE,CAACpnB,CAAC,CAAC,CAAEhF,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAAG,EAAE,CAAGosB,EAAE,CAACrnB,CAAC,CAAC,CAAEvG,KAAK,CAAE,GAAG,CAACC,MAAM,CAAE,GAAG,CAAE/C,OAAO,CAAE,GAAK,CAAC;AACtH,CAAEoE,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAAExB,KAAK,CAAE,GAAG,CAAEC,MAAM,CAAE,GAAG,CAAE/C,OAAO,CAAE,CAAC,CAAE6B,IAAI,CAAE,GAAK,CAAC;AACrG,OAAO,CAAE,MAAM,CAAC;AACjBiY,KAAK,CAAC7X,UAAU,CAAC,YAAY;AAC5B,CAAEmC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAG,GAAG,CAAGusB,GAAG,CAACtnB,CAAC,CAAC,CAAEhF,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAAG,EAAE,CAAGssB,GAAG,CAACvnB,CAAC,CAAC,CAAEvG,KAAK,CAAE,GAAG,CAAEC,MAAM,CAAE,GAAG,CAAE/C,OAAO,CAAE,GAAK,CAAC;AACzH,CAAEoE,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAACC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAAExB,KAAK,CAAE,GAAG,CAAEC,MAAM,CAAE,GAAG,CAAE/C,OAAO,CAAE,CAAC,CAAE6B,IAAI,CAAE,GAAK,CAAC;AACpG,OAAO,CAAE,MAAM,CAAC;AACjBiY,KAAK,CAAC7X,UAAU,CAAC,YAAY;AAC5B,CAAEmC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAG,EAAE,CAAGqsB,EAAE,CAACpnB,CAAC,CAAC,CAAEhF,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAAG,GAAG,CAAGosB,EAAE,CAACrnB,CAAC,CAAC,CAAEvG,KAAK,CAAE,GAAG,CAAEC,MAAM,CAAE,GAAG,CAAE/C,OAAO,CAAE,GAAG,CAAE6B,IAAI,CAAE,GAAI,CAAC;AACjI,CAAEuC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAAExB,KAAK,CAAE,GAAG,CAAEC,MAAM,CAAE,GAAG,CAAE/C,OAAO,CAAE,CAAC,CAAE6B,IAAI,CAAE,GAAK,CAAC;AACrG,OAAO,CAAE,MAAM,CAAC;AACjBiY,KAAK,CAAC7X,UAAU,CAAC,YAAY;AAC5B,CAAEmC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAG,GAAG,CAAGusB,GAAG,CAACtnB,CAAC,CAAC,CAAEhF,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAAG,EAAE,CAAGssB,GAAG,CAACvnB,CAAC,CAAC,CAAEvG,KAAK,CAAE,GAAG,CAAEC,MAAM,CAAE,GAAG,CAAE/C,OAAO,CAAE,GAAG,CAAE6B,IAAI,CAAE,GAAK,CAAC;AACpI,CAAEuC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAAExB,KAAK,CAAE,GAAG,CAAEC,MAAM,CAAE,GAAG,CAAE/C,OAAO,CAAE,CAAC,CAAE6B,IAAI,CAAE,GAAK,CAAC;AACrG,OAAO,CAAE,MAAM,CAAC;AAClB;AACAiY,KAAK,CAAC7X,UAAU,CAAC,YAAY;AAC5B,CAAEmC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAAExB,KAAK,CAAE,CAAC,CAAE9C,OAAO,CAAE,CAAC,CAAE6B,IAAI,CAAE,EAAI,CAAC;AACrF,CAAEiB,KAAK,CAAE,CAAC,CAAE9C,OAAO,CAAE,GAAG,CAAE6B,IAAI,CAAE,GAAK,CAAC;AACtC,QAAQ,CAAE,MAAM,CAAC;AAClBiY,KAAK,CAAC7X,UAAU,CAAC,YAAY;AAC5B,CAAEmC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAAExB,KAAK,CAAE,GAAG,CAAE9C,OAAO,CAAE,CAAC,CAAE6B,IAAI,CAAE,GAAK,CAAC;AACxF,CAAEiB,KAAK,CAAE,GAAG,CAAE9C,OAAO,CAAE,CAAC,CAAE6B,IAAI,CAAE,GAAK,CAAC;AACtC,QAAQ,CAAE,MAAM,CAAC;AAClBiY,KAAK,CAAC7X,UAAU,CAAC,YAAY;AAC5B,CAAEmC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAAExB,KAAK,CAAE,GAAG,CAAE9C,OAAO,CAAE,CAAC,CAAE6B,IAAI,CAAE,GAAK,CAAC;AACxF,CAAEiB,KAAK,CAAE,CAAC,CAAE9C,OAAO,CAAE,CAAC,CAAE6B,IAAI,CAAE,GAAK,CAAC;AACpC,QAAQ,CAAE,MAAM,CAAC;AAClBiY,KAAK,CAAC7X,UAAU,CAAC,MAAM;AACtB,CAAEmC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAAExB,KAAK,CAAE,CAAC,CAAE9C,OAAO,CAAE,GAAG,CAAE6B,IAAI,CAAE,GAAK,CAAC;AACxF,CAAEiB,KAAK,CAAE,GAAG,CAAE9C,OAAO,CAAE,GAAG,CAAE6B,IAAI,CAAE,GAAK,CAAC;AACxC,QAAQ,CAAE,SAAS,CAAC;AACtB;AACD,CAAC;AACD6b,UAAU,CAAE;AACX3W,IAAI,SAAAA,CAAC+S,KAAK,CAAA+W,MAAA,CAAc,IAAX,CAAArpB,QAAQ,CAAAqpB,MAAA;AACpB/W,KAAK,CAAClW,gBAAgB,CAAC,SAAS,CAAE,GAAG,CAAE,GAAG,CAAC;AAC3CkW,KAAK,CAAClW,gBAAgB,CAAC,SAAS,CAAE,GAAG,CAAE,CAAC,CAAE,GAAG,CAAC;AAC9CkW,KAAK,CAAC7X,UAAU,CAAC,MAAM;AACtB,CAAEmC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAAExB,KAAK,CAAE,GAAG,CAAE9C,OAAO,CAAE,GAAG,CAAE6B,IAAI,CAAE,CAAG,CAAC;AAC7F,CAAEuC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAEvB,KAAK,CAAE,GAAG,CAAE9C,OAAO,CAAE,GAAG,CAAE6B,IAAI,CAAE,GAAK,CAAC;AACtE,QAAQ,CAAE,MAAM,CAAC;AAClBiY,KAAK,CAAC7X,UAAU,CAAC,MAAM;AACtB,CAAEmC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAG,CAAC,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAAExB,KAAK,CAAE,GAAG,CAAE9C,OAAO,CAAE,GAAG,CAAE6B,IAAI,CAAE,GAAK,CAAC;AAC9F,CAAEuC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAEvB,KAAK,CAAE,GAAG,CAAE9C,OAAO,CAAE,GAAG,CAAE6B,IAAI,CAAE,GAAK,CAAC;AACtE,QAAQ,CAAE,MAAM,CAAC;AAClBiY,KAAK,CAAC7X,UAAU,CAAC,MAAM;AACtB,CAAEmC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAAExB,KAAK,CAAE,GAAG,CAAE9C,OAAO,CAAE,GAAG,CAAE6B,IAAI,CAAE,GAAK,CAAC;AAC/F,CAAEuC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAEvB,KAAK,CAAE,GAAG,CAAE9C,OAAO,CAAE,GAAG,CAAE6B,IAAI,CAAE,GAAK,CAAC;AACtE,QAAQ,CAAE,MAAM,CAAC;AAClBiY,KAAK,CAAC7X,UAAU,CAAC,MAAM;AACtB,CAAEmC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAAExB,KAAK,CAAE,GAAG,CAAE9C,OAAO,CAAE,GAAG,CAAE6B,IAAI,CAAE,GAAK,CAAC;AAC/F,CAAEuC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAEvB,KAAK,CAAE,GAAG,CAAE9C,OAAO,CAAE,GAAG,CAAE6B,IAAI,CAAE,GAAK,CAAC;AACtE,QAAQ,CAAE,MAAM,CAAC;AAClBiY,KAAK,CAAC7X,UAAU,CAAC,MAAM;AACtB,CAAEmC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAAExB,KAAK,CAAE,GAAG,CAAE9C,OAAO,CAAE,GAAG,CAAE6B,IAAI,CAAE,GAAK,CAAC;AAC/F,CAAEuC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAEvB,KAAK,CAAE,GAAG,CAAE9C,OAAO,CAAE,GAAG,CAAE6B,IAAI,CAAE,GAAK,CAAC;AACtE,QAAQ,CAAE,MAAM,CAAC;AAClBiY,KAAK,CAAC7X,UAAU,CAAC,MAAM;AACtB,CAAEmC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAAExB,KAAK,CAAE,GAAG,CAAE9C,OAAO,CAAE,CAAG,CAAC;AACxE,CAAE8C,KAAK,CAAE,CAAC,CAAEjB,IAAI,CAAE,GAAK,CAAC;AACxB,QAAQ,CAAE,SAAS,CAAC;AACrBiY,KAAK,CAAC7X,UAAU,CAAC,aAAa;AAC7B,CAAEmC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAAExB,KAAK,CAAE,CAAC,CAAE9C,OAAO,CAAE,CAAG,CAAC;AACtE,CAAE8C,KAAK,CAAE,IAAI,CAAE9C,OAAO,CAAE,GAAG,CAAE6B,IAAI,CAAE,GAAK,CAAC;AACzC,QAAQ,CAAE,SAAS,CAAC;AACrBiY,KAAK,CAAC7X,UAAU,CAAC,YAAY;AAC5B,CAAEmC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAAExB,KAAK,CAAE,CAAC,CAAE9C,OAAO,CAAE,CAAC,CAAE6B,IAAI,CAAE,GAAK,CAAC;AACjF,CAAEiB,KAAK,CAAE,IAAI,CAAE9C,OAAO,CAAE,GAAG,CAAE6B,IAAI,CAAE,GAAK,CAAC;AACzC,QAAQ,CAAE,SAAS,CAAC;AACrBiY,KAAK,CAAC7X,UAAU,CAAC,aAAa;AAC7B,CAAEmC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAAExB,KAAK,CAAE,CAAC,CAAE9C,OAAO,CAAE,GAAK,CAAC;AACxE,CAAE8C,KAAK,CAAE,CAAC,CAAE9C,OAAO,CAAE,CAAC,CAAE6B,IAAI,CAAE,GAAK,CAAC;AACpC,QAAQ,CAAC;AACViY,KAAK,CAAC7X,UAAU,CAAC,aAAa;AAC7B,CAAEmC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAAExB,KAAK,CAAE,CAAC,CAAE9C,OAAO,CAAE,GAAG,CAAE6B,IAAI,CAAE,GAAK,CAAC;AACnF,CAAEiB,KAAK,CAAE,CAAC,CAAE9C,OAAO,CAAE,CAAC,CAAE6B,IAAI,CAAE,GAAK,CAAC;AACpC,QAAQ,CAAC;AACViY,KAAK,CAAC7X,UAAU,CAAC,aAAa;AAC7B,CAAEmC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAAExB,KAAK,CAAE,CAAC,CAAE9C,OAAO,CAAE,GAAG,CAAE6B,IAAI,CAAE,GAAK,CAAC;AACnF,CAAEiB,KAAK,CAAE,CAAC,CAAE9C,OAAO,CAAE,CAAC,CAAE6B,IAAI,CAAE,GAAK,CAAC;AACpC,QAAQ,CAAC;AACViY,KAAK,CAAC7X,UAAU,CAAC,OAAO;AACvB,CAAEmC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAAExB,KAAK,CAAE,GAAG,CAAE9C,OAAO,CAAE,CAAC,CAAE6B,IAAI,CAAE,GAAK,CAAC;AACnF,CAAEiB,KAAK,CAAE,CAAC,CAAE9C,OAAO,CAAE,CAAC,CAAE6B,IAAI,CAAE,GAAK,CAAC;AACpC,OAAO,CAAC;AACTiY,KAAK,CAAC7X,UAAU,CAAC,SAAS;AACzB,CAAEmC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAAExB,KAAK,CAAE,GAAG,CAAEC,MAAM,CAAE,IAAI,CAAEC,MAAM,CAAE,CAAC,CAAEhD,OAAO,CAAE,GAAG,CAAE6B,IAAI,CAAE,GAAK,CAAC;AACnH,CAAEiB,KAAK,CAAE,CAAC,CAAEC,MAAM,CAAE,CAAC,CAAEC,MAAM,CAAE,CAAC,CAAEhD,OAAO,CAAE,CAAC,CAAE6B,IAAI,CAAE,GAAK,CAAC;AAC1D,QAAQ,CAAC;AACViY,KAAK,CAAC7X,UAAU,CAAC,SAAS;AACzB,CAAEmC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAAExB,KAAK,CAAE,GAAG,CAAEC,MAAM,CAAE,IAAI,CAAEC,MAAM,CAAE,IAAI,CAAEhD,OAAO,CAAE,GAAG,CAAE6B,IAAI,CAAE,GAAK,CAAC;AACtH,CAAEiB,KAAK,CAAE,CAAC,CAAEC,MAAM,CAAE,CAAC,CAAE/C,OAAO,CAAE,GAAG,CAAE6B,IAAI,CAAE,IAAM,CAAC;AAClD,QAAQ,CAAC;AACX;AACD;AACD,CAAC;;AAEM,GAAM,CAAAuF,iBAA4B,CAAG;AAC3CwY,IAAI,CAAE;AACN7Y,IAAI,SAAAA,CAAC+S,KAAK,CAAAgX,MAAA,CAAc,IAAX,CAAAtpB,QAAQ,CAAAspB,MAAA;;AAEpBhqB,gBAAgB,CAACwpB,MAAM,CAACvpB,IAAI,CAAC+S,KAAK,CAAE,CAACtS,QAAQ,CAAC,CAAC;AAChD;AACD,CAAC;AACA8X,GAAG,CAAE;AACJvY,IAAI,SAAAA,CAAC+S,KAAK,CAAAiX,MAAA,CAAc,IAAX,CAAAvpB,QAAQ,CAAAupB,MAAA;AACpBjX,KAAK,CAAC7X,UAAU,CAAC,UAAU;AAC1B,CAAEmC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAAExB,KAAK,CAAE,GAAG,CAAE9C,OAAO,CAAE,GAAK,CAAC;AACpF,CAAEoE,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAAExB,KAAK,CAAE,CAAC,CAAE9C,OAAO,CAAE,CAAC,CAAE6B,IAAI,CAAE,GAAK,CAAC;AAC3F,OAAO,CAAE,MAAM,CAAC;AAClB;AACD,CAAC;AACD0d,GAAG,CAAE;AACJxY,IAAI,SAAAA,CAAC+S,KAAK,CAAAkX,MAAA,CAAc,IAAX,CAAAxpB,QAAQ,CAAAwpB,MAAA;AACpBlX,KAAK,CAAC7X,UAAU,CAAC,YAAY;AAC5B,CAAEmC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAAExB,KAAK,CAAE,GAAG,CAAE9C,OAAO,CAAE,CAAC,CAAE6B,IAAI,CAAE,CAAG,CAAC;AAC3F,CAAEwC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAEvB,KAAK,CAAE,CAAC,CAAE9C,OAAO,CAAE,GAAG,CAAE6B,IAAI,CAAE,GAAK,CAAC;AACrD,OAAO,CAAE,MAAM,CAAC;AACjBiY,KAAK,CAAC7X,UAAU,CAAC,YAAY;AAC5B,CAAEmC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAAExB,KAAK,CAAE,GAAG,CAAE9C,OAAO,CAAE,CAAC,CAAE6B,IAAI,CAAE,GAAK,CAAC;AAC7F,CAAEwC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAEvB,KAAK,CAAE,CAAC,CAAE9C,OAAO,CAAE,GAAG,CAAE6B,IAAI,CAAE,GAAK,CAAC;AACrD,OAAO,CAAE,MAAM,CAAC;AACjBiY,KAAK,CAAC7X,UAAU,CAAC,YAAY;AAC5B,CAAEmC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAAExB,KAAK,CAAE,GAAG,CAAE9C,OAAO,CAAE,CAAC,CAAE6B,IAAI,CAAE,GAAK,CAAC;AACxF,CAAEwC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAEvB,KAAK,CAAE,CAAC,CAAE9C,OAAO,CAAE,GAAG,CAAE6B,IAAI,CAAE,GAAK,CAAC;AACrD,OAAO,CAAE,MAAM,CAAC;AAClB;AACD,CAAC;AACD4d,GAAG,CAAE;AACJ1Y,IAAI,SAAAA,CAAC+S,KAAK,CAAAmX,MAAA,CAAc,IAAX,CAAAzpB,QAAQ,CAAAypB,MAAA;AACpBnX,KAAK,CAAC7X,UAAU,CAAC,MAAM;AACtB,CAAEmC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAAExB,KAAK,CAAE,GAAG,CAAE9C,OAAO,CAAE,GAAK,CAAC;AAC/E,CAAEoE,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEkD,QAAQ,CAACgN,MAAM,CAAC,CAAC,EAAE,CAAC,CAAE1R,KAAK,CAAE,GAAG,CAAE9C,OAAO,CAAE,CAAC,CAAE6B,IAAI,CAAE,GAAK,CAAC;AAClG,iBAAiB,CAAE,MAAM,CAAC;AAC3BiY,KAAK,CAAC7X,UAAU,CAAC,MAAM;AACtB,CAAEmC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAAExB,KAAK,CAAE,GAAG,CAAE9C,OAAO,CAAE,GAAG,CAAE6B,IAAI,CAAE,GAAK,CAAC;AAC1F,CAAEuC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEkD,QAAQ,CAACgN,MAAM,CAAC,CAAC,EAAE,CAAC,CAAE1R,KAAK,CAAE,GAAG,CAAE9C,OAAO,CAAE,CAAC,CAAE6B,IAAI,CAAE,GAAK,CAAC;AAClG,iBAAiB,CAAE,MAAM,CAAC;AAC5B;AACD,CAAC;AACD6d,GAAG,CAAE;AACJ3Y,IAAI,SAAAA,CAAC+S,KAAK,CAAAoX,MAAA,CAAc,IAAX,CAAA1pB,QAAQ,CAAA0pB,MAAA;AACpBpX,KAAK,CAAC7X,UAAU,CAAC,aAAa;AAC7B,CAAEmC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAAExB,KAAK,CAAE,GAAG,CAAE9C,OAAO,CAAE,GAAK,CAAC;AAC1E,CAAE8C,KAAK,CAAE,CAAC,CAAE9C,OAAO,CAAE,GAAG,CAAE6B,IAAI,CAAE,GAAK,CAAC;AACtC,QAAQ,CAAE,MAAM,CAAC;AAClB2F,QAAQ,CAACjE,KAAK,CAAC,GAAG,CAAC;AACnBiE,QAAQ,CAACT,IAAI,CAAC,CAAE3C,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAG,CAAC,CAAEvC,IAAI,CAAE,EAAI,CAAC,CAAE,OAAO,CAAC;AACxD2F,QAAQ,CAACT,IAAI,CAAC,CAAE3C,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAG,CAAC,CAAEvC,IAAI,CAAE,EAAI,CAAC,CAAE,OAAO,CAAC;AACxD2F,QAAQ,CAACT,IAAI,CAAC,CAAE3C,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAG,CAAC,CAAEvC,IAAI,CAAE,EAAI,CAAC,CAAE,OAAO,CAAC;AACxD2F,QAAQ,CAACT,IAAI,CAAC,CAAE3C,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAG,CAAC,CAAEvC,IAAI,CAAE,EAAI,CAAC,CAAE,OAAO,CAAC;AACxD2F,QAAQ,CAACT,IAAI,CAAC,CAAE3C,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAG,CAAC,CAAEvC,IAAI,CAAE,EAAI,CAAC,CAAE,OAAO,CAAC;AACxD2F,QAAQ,CAACT,IAAI,CAAC,CAAElF,IAAI,CAAE,GAAK,CAAC,CAAE,OAAO,CAAC;AACvC;AACD,CAAC;AACD8d,GAAG,CAAE;AACJ5Y,IAAI,SAAAA,CAAC+S,KAAK,CAAAqX,MAAA,CAAc,IAAX,CAAA3pB,QAAQ,CAAA2pB,MAAA;AACpBrX,KAAK,CAAC7X,UAAU,CAAC,QAAQ;AACxB,CAAEmC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAAExB,KAAK,CAAE,GAAG,CAAE9C,OAAO,CAAE,GAAG,CAAE6B,IAAI,CAAE,GAAK,CAAC;AAC1F,CAAEiB,KAAK,CAAE,GAAG,CAAE9C,OAAO,CAAE,CAAC,CAAE6B,IAAI,CAAE,GAAK,CAAC;AACtC,QAAQ,CAAE,MAAM,CAAC;AAClBiY,KAAK,CAAC7X,UAAU,CAAC,QAAQ;AACxB,CAAEmC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAAExB,KAAK,CAAE,GAAG,CAAE9C,OAAO,CAAE,GAAG,CAAE6B,IAAI,CAAE,GAAK,CAAC;AAC1F,CAAEiB,KAAK,CAAE,GAAG,CAAE9C,OAAO,CAAE,CAAC,CAAE6B,IAAI,CAAE,GAAK,CAAC;AACtC,QAAQ,CAAE,MAAM,CAAC;AAClBiY,KAAK,CAAC7X,UAAU,CAAC,QAAQ;AACxB,CAAEmC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAAExB,KAAK,CAAE,GAAG,CAAE9C,OAAO,CAAE,GAAG,CAAE6B,IAAI,CAAE,GAAK,CAAC;AAC1F,CAAEiB,KAAK,CAAE,GAAG,CAAE9C,OAAO,CAAE,CAAC,CAAE6B,IAAI,CAAE,GAAK,CAAC;AACtC,QAAQ,CAAE,MAAM,CAAC;AAClBiY,KAAK,CAAC7X,UAAU,CAAC,MAAM;AACtB,CAAEmC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAAExB,KAAK,CAAE,CAAC,CAAE9C,OAAO,CAAE,GAAK,CAAC;AACxE,CAAE8C,KAAK,CAAE,CAAC,CAAE9C,OAAO,CAAE,CAAC,CAAE6B,IAAI,CAAE,GAAK,CAAC;AACpC,QAAQ,CAAE,MAAM,CAAC;AACnB;AACD,CAAC;AACDuvB,MAAM,CAAE;AACPrqB,IAAI,SAAAA,CAAC+S,KAAK,CAAAuX,MAAA,CAAc,IAAX,CAAA7pB,QAAQ,CAAA6pB,MAAA;AACpBvX,KAAK,CAAC7X,UAAU,CAAC,YAAY;AAC5B,CAAEmC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAAExB,KAAK,CAAE,CAAC,CAAE9C,OAAO,CAAE,GAAK,CAAC;AACxE,CAAE8C,KAAK,CAAE,CAAC,CAAE9C,OAAO,CAAE,GAAG,CAAE6B,IAAI,CAAE,GAAK,CAAC;AACtC,QAAQ,CAAE,MAAM,CAAC;AACnB;AACD,CAAC;AACDyvB,SAAS,CAAE;AACVvqB,IAAI,SAAAA,CAAC+S,KAAK,CAAAyX,MAAA,CAAc,IAAX,CAAA/pB,QAAQ,CAAA+pB,MAAA;AACpBzX,KAAK,CAAC7X,UAAU,CAAC,OAAO;AACvB,CAAEmC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAAExB,KAAK,CAAE,GAAG,CAAE9C,OAAO,CAAE,GAAG,CAAE6B,IAAI,CAAE,CAAG,CAAC;AAC7F,CAAEiB,KAAK,CAAE,CAAC,CAAE9C,OAAO,CAAE,CAAC,CAAE6B,IAAI,CAAE,GAAK,CAAC;AACpC,iBAAiB,CAAE,MAAM,CAAC;AAC3BiY,KAAK,CAAC7X,UAAU,CAAC,OAAO;AACvB,CAAEmC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAAExB,KAAK,CAAE,GAAG,CAAE9C,OAAO,CAAE,GAAG,CAAE6B,IAAI,CAAE,GAAK,CAAC;AAC/F,CAAEiB,KAAK,CAAE,CAAC,CAAE9C,OAAO,CAAE,CAAC,CAAE6B,IAAI,CAAE,GAAK,CAAC;AACpC,iBAAiB,CAAE,MAAM,CAAC;AAC3BiY,KAAK,CAAC7X,UAAU,CAAC,OAAO;AACvB,CAAEmC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAAExB,KAAK,CAAE,GAAG,CAAE9C,OAAO,CAAE,GAAG,CAAE6B,IAAI,CAAE,GAAK,CAAC;AAC1F,CAAEiB,KAAK,CAAE,CAAC,CAAE9C,OAAO,CAAE,CAAC,CAAE6B,IAAI,CAAE,GAAK,CAAC;AACpC,iBAAiB,CAAE,MAAM,CAAC;AAC5B;AACD,CAAC;AACD2vB,MAAM,CAAE;AACPzqB,IAAI,SAAAA,CAAC+S,KAAK,CAAA2X,MAAA,CAAc,IAAX,CAAAjqB,QAAQ,CAAAiqB,MAAA;AACpB3X,KAAK,CAAClW,gBAAgB,CAAC,SAAS,CAAE,GAAG,CAAE,GAAG,CAAC;AAC3C4D,QAAQ,CAACjE,KAAK,CAAC,GAAG,CAAC;AACnBiE,QAAQ,CAACT,IAAI,CAAC,CAAE3C,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAG,CAAC,CAAEvC,IAAI,CAAE,EAAG,CAAC,CAAC;AAC9C2F,QAAQ,CAACT,IAAI,CAAC,CAAE3C,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAG,CAAC,CAAEvC,IAAI,CAAE,EAAG,CAAC,CAAC;AAC9C2F,QAAQ,CAACT,IAAI,CAAC,CAAE3C,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAG,CAAC,CAAEvC,IAAI,CAAE,EAAG,CAAC,CAAC;AAC9C2F,QAAQ,CAACT,IAAI,CAAC,CAAE3C,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAG,CAAC,CAAEvC,IAAI,CAAE,EAAG,CAAC,CAAC;AAC9C2F,QAAQ,CAACT,IAAI,CAAC,CAAE3C,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAEvC,IAAI,CAAE,EAAG,CAAC,CAAC;AAC1CiY,KAAK,CAAC7X,UAAU,CAACuF,QAAQ,CAACuS,EAAE;AAC3B,CAAE3V,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAAEtE,OAAO,CAAE,GAAG,CAAE6B,IAAI,CAAE,CAAG,CAAC;AACvE,CAAEyC,CAAC,CAAEkD,QAAQ,CAACgN,MAAM,CAAC,EAAE,CAAC,CAAExU,OAAO,CAAE,CAAC,CAAE6B,IAAI,CAAE,GAAK,CAAC;AAClD,OAAO,CAAC;AACV;AACD,CAAC;AACD6vB,QAAQ,CAAE;AACT3qB,IAAI,SAAAA,CAAC+S,KAAK,CAAA6X,MAAA,CAAc,IAAX,CAAAnqB,QAAQ,CAAAmqB,MAAA;AACpB7X,KAAK,CAAC7X,UAAU,CAAC,aAAa;AAC7B,CAAEmC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAAExB,KAAK,CAAE,GAAG,CAAE9C,OAAO,CAAE,CAAC,CAAE6B,IAAI,CAAE,GAAK,CAAC;AAC7F,CAAEuC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAG,EAAE,CAAEtB,KAAK,CAAE,IAAI,CAAE9C,OAAO,CAAE,GAAG,CAAE6B,IAAI,CAAE,GAAK,CAAC;AAC7D,QAAQ,CAAE,MAAM,CAAC;AAClBiY,KAAK,CAAC7X,UAAU,CAAC,aAAa;AAC7B,CAAEmC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAAExB,KAAK,CAAE,GAAG,CAAE9C,OAAO,CAAE,CAAC,CAAE6B,IAAI,CAAE,GAAK,CAAC;AAC7F,CAAEuC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAG,EAAE,CAAEtB,KAAK,CAAE,IAAI,CAAE9C,OAAO,CAAE,GAAG,CAAE6B,IAAI,CAAE,GAAK,CAAC;AAC7D,QAAQ,CAAE,MAAM,CAAC;AAClBiY,KAAK,CAAC7X,UAAU,CAAC,aAAa;AAC7B,CAAEmC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAAExB,KAAK,CAAE,GAAG,CAAE9C,OAAO,CAAE,CAAC,CAAE6B,IAAI,CAAE,GAAK,CAAC;AAC7F,CAAEuC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAG,EAAE,CAAEtB,KAAK,CAAE,GAAG,CAAE9C,OAAO,CAAE,GAAG,CAAE6B,IAAI,CAAE,GAAK,CAAC;AAC5D,QAAQ,CAAE,MAAM,CAAC;AAClBiY,KAAK,CAAC7X,UAAU,CAAC,aAAa;AAC7B,CAAEmC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAG,EAAE,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAAExB,KAAK,CAAE,IAAI,CAAE9C,OAAO,CAAE,CAAC,CAAE6B,IAAI,CAAE,GAAK,CAAC;AAC9F,CAAEuC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAG,EAAE,CAAEtB,KAAK,CAAE,GAAG,CAAE9C,OAAO,CAAE,GAAG,CAAE6B,IAAI,CAAE,GAAK,CAAC;AAC5D,QAAQ,CAAE,MAAM,CAAC;AACnB;AACD,CAAC;AACD+vB,eAAe,CAAE;AAChB7qB,IAAI,SAAAA,CAAC+S,KAAK,CAAA+X,MAAA,CAAc,IAAX,CAAArqB,QAAQ,CAAAqqB,MAAA;AACpB/X,KAAK,CAAC7X,UAAU,CAAC,MAAM;AACtB,CAAEmC,CAAC,CAAEoD,QAAQ,CAACpD,CAAC,CAAEC,CAAC,CAAEmD,QAAQ,CAACnD,CAAC,CAAEC,CAAC,CAAEkD,QAAQ,CAAClD,CAAC,CAAExB,KAAK,CAAE,CAAC,CAAE9C,OAAO,CAAE,GAAK,CAAC;AACxE,CAAE8C,KAAK,CAAE,CAAC,CAAE9C,OAAO,CAAE,CAAC,CAAE6B,IAAI,CAAE,GAAK,CAAC;AACpC,QAAQ,CAAC;AACV2F,QAAQ,CAACjE,KAAK,CAAC,EAAE,CAAC;AAClBiE,QAAQ,CAACT,IAAI,CAAC,CAAE3C,CAAC,CAAEoD,QAAQ,CAACoH,MAAM,CAAC,CAAC,CAAC,CAAEtK,CAAC,CAAEkD,QAAQ,CAACgN,MAAM,CAAC,CAAC,CAAC,CAAE3S,IAAI,CAAE,GAAK,CAAC,CAAE,OAAO,CAAC;AACpF2F,QAAQ,CAACT,IAAI,CAAC,CAAElF,IAAI,CAAE,GAAK,CAAC,CAAE,OAAO,CAAC;AACvC;AACD;AACD,CAAC;AACDuF,iBAAiB,CAAC,YAAY,CAAC,CAAG,CAAEL,IAAI,CAAEK,iBAAiB,CAAC,QAAQ,CAAC,CAACL,IAAK,CAAC","ignoreList":[]}