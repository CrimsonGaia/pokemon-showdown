{"version":3,"file":"battle-searchresults.js","names":["PSSearchResults","_preact$Component","_this","_len","arguments","length","args","Array","_key","call","apply","concat","URL_ROOT","Config","routes","dex","speciesId","itemId","abilityId","moveIds","resultIndex","handleClick","ev","search","props","target","className","tagName","entry","getAttribute","_entry$split","split","type","name","slot","addFilter","onSelect","query","find","forceUpdate","preventDefault","stopImmediatePropagation","filter","removeFilter","stopPropagation","sort","sortCol","toggleSort","parentElement","_inheritsLoose","_proto","prototype","renderPokemonSortRow","preact","h","firstPokemonColumn","renderMoveSortRow","renderPokemonRow","id","matchStart","matchEnd","errorMessage","isFilter","pokemon","species","get","tagStart","forme","stats","baseStats","bst","_i2","_Object$values2","Object","values","stat","gen","href","getTier","style","Dex","getPokemonIcon","renderName","types","map","src","resourcePrefix","alt","height","width","abilities","unreleasedHidden","hp","atk","def","spa","spd","spe","slice","output","push","renderItemRow","item","items","classification","classificationClass","isFragile","isMildlyFragile","console","log","getItemIcon","shortDesc","renderAbilityRow","ability","renderMoveRow","startsWith","_ref","move","moves","includes","pp","noPPBoosts","Math","min","encodeURIComponent","indigostarstormPrefix","category","basePower","accuracy","renderTypeRow","charAt","toUpperCase","renderCategoryRow","renderPokemonTagRow","renderFlagRow","pokemonTags","iconName","renderArticleRow","_window$BattleArticle","isSearchType","window","BattleArticleTitles","substr","renderEggGroupRow","renderTierRow","tierTable","uber","caplc","capnfe","renderRow","row","label","filterLabel","illegalLabel","sanitizedHTML","replace","dangerouslySetInnerHTML","__html","renderFilters","showHints","filters","_ref2","componentDidUpdate","undefined","_children","_children2","base","children","classList","remove","add","componentDidMount","render","_search$typedSearch","_results","_search$results","_results2","_this2","set","typedSearch","toID","results","windowing","onClick","hideFilters","result","Component"],"sources":["../src/battle-searchresults.tsx"],"sourcesContent":["/**\r\n * Search Results\r\n *\r\n * Code for displaying sesrch results from battle-dex-search.ts\r\n *\r\n * @author Guangcong Luo <guangcongluo@gmail.com>\r\n * @license AGPLv3\r\n */\r\n\r\nimport preact from \"../js/lib/preact\";\r\nimport { Dex, toID, type ID } from \"./battle-dex\";\r\nimport type { DexSearch, SearchRow, SearchType } from \"./battle-dex-search\";\r\nimport { Config } from \"./client-main\";\r\n\r\nexport class PSSearchResults extends preact.Component<{\r\n\tsearch: DexSearch, windowing?: number | null, hideFilters?: boolean, firstRow?: SearchRow,\r\n\tresultIndex?: number,\r\n\t/** type = '' means a filter was selected,\r\n\t  * null means a sort was selected (clear not needed) */\r\n\tonSelect?: (type: SearchType | '' | null, name: string, moveSlot?: string) => void,\r\n}> {\r\n\treadonly URL_ROOT = `//${Config.routes.dex}/`;\r\n\tspeciesId: ID = '' as ID;\r\n\titemId: ID = '' as ID;\r\n\tabilityId: ID = '' as ID;\r\n\tmoveIds: ID[] = [];\r\n\tresultIndex = -1;\r\n\r\n\trenderPokemonSortRow() {\r\n\t\tconst search = this.props.search;\r\n\t\tconst sortCol = search.sortCol;\r\n\t\treturn <li class=\"result\"><div class=\"sortrow\">\r\n\t\t\t<button class={`sortcol numsortcol${!sortCol ? ' cur' : ''}`}>{!sortCol ? 'Sort: ' : search.firstPokemonColumn}</button>\r\n\t\t\t<button class={`sortcol pnamesortcol${sortCol === 'name' ? ' cur' : ''}`} data-sort=\"name\">Name</button>\r\n\t\t\t<button class={`sortcol typesortcol${sortCol === 'type' ? ' cur' : ''}`} data-sort=\"type\">Types</button>\r\n\t\t\t<button class={`sortcol abilitysortcol${sortCol === 'ability' ? ' cur' : ''}`} data-sort=\"ability\">Abilities</button>\r\n\t\t\t<button class={`sortcol statsortcol${sortCol === 'hp' ? ' cur' : ''}`} data-sort=\"hp\">HP</button>\r\n\t\t\t<button class={`sortcol statsortcol${sortCol === 'atk' ? ' cur' : ''}`} data-sort=\"atk\">Atk</button>\r\n\t\t\t<button class={`sortcol statsortcol${sortCol === 'def' ? ' cur' : ''}`} data-sort=\"def\">Def</button>\r\n\t\t\t<button class={`sortcol statsortcol${sortCol === 'spa' ? ' cur' : ''}`} data-sort=\"spa\">SpA</button>\r\n\t\t\t<button class={`sortcol statsortcol${sortCol === 'spd' ? ' cur' : ''}`} data-sort=\"spd\">SpD</button>\r\n\t\t\t<button class={`sortcol statsortcol${sortCol === 'spe' ? ' cur' : ''}`} data-sort=\"spe\">Spe</button>\r\n\t\t\t<button class={`sortcol statsortcol${sortCol === 'bst' ? ' cur' : ''}`} data-sort=\"bst\">BST</button>\r\n\t\t</div></li>;\r\n\t}\r\n\r\n\trenderMoveSortRow() {\r\n\t\tconst sortCol = this.props.search.sortCol;\r\n\treturn <li class=\"result\"><div class=\"sortrow\">\r\n\t\t<button class={`sortcol movenamesortcol${sortCol === 'name' ? ' cur' : ''}`} data-sort=\"name\">Name</button>\r\n\t\t<button class={`sortcol movetypesortcol${sortCol === 'type' ? ' cur' : ''}`} data-sort=\"type\">Type</button>\r\n\t\t<button class={`sortcol catsortcol${sortCol === 'category' ? ' cur' : ''}`} data-sort=\"category\">Cat</button>\r\n\t\t<button class={`sortcol catsortcol${sortCol === 'flag' ? ' cur' : ''}`} data-sort=\"flag\">Flag</button>\r\n\t\t<button class={`sortcol powersortcol${sortCol === 'power' ? ' cur' : ''}`} data-sort=\"power\">Pow</button>\r\n\t\t<button class={`sortcol accuracysortcol${sortCol === 'accuracy' ? ' cur' : ''}`} data-sort=\"accuracy\">Acc</button>\r\n\t\t<button class={`sortcol ppsortcol${sortCol === 'pp' ? ' cur' : ''}`} data-sort=\"pp\">PP</button>\r\n\t\t\r\n\t</div></li>;\r\n\t}\r\n\r\n\trenderPokemonRow(id: ID, matchStart: number, matchEnd: number, errorMessage?: preact.ComponentChildren, isFilter?: boolean) {\r\n\t\tconst search = this.props.search;\r\n\t\tconst pokemon = search.dex.species.get(id);\r\n\t\tif (!pokemon) return <li class=\"result\">Unrecognized pokemon</li>;\r\n\r\n\t\tlet tagStart = (pokemon.forme ? pokemon.name.length - pokemon.forme.length - 1 : 0);\r\n\r\n\t\tconst stats = pokemon.baseStats;\r\n\t\tlet bst = 0;\r\n\t\tfor (const stat of Object.values(stats)) bst += stat;\r\n\t\tif (search.dex.gen < 2) bst -= stats['spd'];\r\n\r\n\t\tif (errorMessage) {\r\n\t\t\treturn <li class={`result${isFilter ? ' filter-result' : ''}`}><a\r\n\t\t\t\thref={`${this.URL_ROOT}pokemon/${id}`} class={id === this.speciesId ? 'cur' : ''}\r\n\t\t\t\tdata-target=\"push\" data-entry={`pokemon|${pokemon.name}`}\r\n\t\t\t>\r\n\t\t\t\t<span class=\"col numcol\">{search.getTier(pokemon)}</span>\r\n\r\n\t\t\t\t<span class=\"col iconcol\">\r\n\t\t\t\t\t<span class=\"pixelated\" style={Dex.getPokemonIcon(pokemon.id)}></span>\r\n\t\t\t\t</span>\r\n\r\n\t\t\t\t<span class=\"col pokemonnamecol\">{this.renderName(pokemon.name, matchStart, matchEnd, tagStart)}</span>\r\n\r\n\t\t\t\t{errorMessage}\r\n\t\t\t</a></li>;\r\n\t\t}\r\n\r\n\t\treturn <li class={`result${isFilter ? ' filter-result' : ''}`}>\r\n\t\t\t<a\r\n\t\t\t\thref={`${this.URL_ROOT}pokemon/${id}`} class={id === this.speciesId ? 'cur' : ''}\r\n\t\t\t\tdata-target=\"push\" data-entry={`pokemon|${pokemon.name}`}\r\n\t\t\t>\r\n\t\t\t\t<span class=\"col numcol\">{search.getTier(pokemon)}</span>\r\n\r\n\t\t\t\t<span class=\"col iconcol\">\r\n\t\t\t\t\t<span class=\"pixelated\" style={Dex.getPokemonIcon(pokemon.id)}></span>\r\n\t\t\t\t</span>\r\n\r\n\t\t\t\t<span class=\"col pokemonnamecol\">{this.renderName(pokemon.name, matchStart, matchEnd, tagStart)}</span>\r\n\r\n\t\t\t\t<span class=\"col typecol\">\r\n\t\t\t\t\t{pokemon.types.map(type =>\r\n\t\t\t\t\t\t<img src={`${Dex.resourcePrefix}sprites/types/${type}.png`} alt={type} height=\"14\" width=\"32\" class=\"pixelated\" />\r\n\t\t\t\t\t)}\r\n\t\t\t\t</span>\r\n\r\n\t\t\t\t{search.dex.gen >= 3 && (\r\n\t\t\t\t\tpokemon.abilities['1'] ? (\r\n\t\t\t\t\t\t<span class=\"col twoabilitycol\">{pokemon.abilities['0']}<br />{pokemon.abilities['1']}</span>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<span class=\"col abilitycol\">{pokemon.abilities['0']}</span>\r\n\t\t\t\t\t)\r\n\t\t\t\t)}\r\n\t\t\t\t{search.dex.gen >= 5 && (\r\n\t\t\t\t\tpokemon.abilities['S'] ? (\r\n\t\t\t\t\t\t<span class={`col twoabilitycol${pokemon.unreleasedHidden ? ' unreleasedhacol' : ''}`}>\r\n\t\t\t\t\t\t\t{pokemon.abilities['H'] || ''}<br />{pokemon.abilities['S']}\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t) : pokemon.abilities['H'] ? (\r\n\t\t\t\t\t\t<span class={`col abilitycol${pokemon.unreleasedHidden ? ' unreleasedhacol' : ''}`}>\r\n\t\t\t\t\t\t\t{pokemon.abilities['H']}\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<span class=\"col abilitycol\"></span>\r\n\t\t\t\t\t)\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t<span class=\"col statcol\"><em>HP</em><br />{stats.hp}</span>\r\n\t\t\t\t<span class=\"col statcol\"><em>Atk</em><br />{stats.atk}</span>\r\n\t\t\t\t<span class=\"col statcol\"><em>Def</em><br />{stats.def}</span>\r\n\t\t\t\t{search.dex.gen > 2 && <span class=\"col statcol\"><em>SpA</em><br />{stats.spa}</span>}\r\n\t\t\t\t{search.dex.gen > 2 && <span class=\"col statcol\"><em>SpD</em><br />{stats.spd}</span>}\r\n\t\t\t\t{search.dex.gen < 2 && <span class=\"col statcol\"><em>Spc</em><br />{stats.spa}</span>}\r\n\t\t\t\t<span class=\"col statcol\"><em>Spe</em><br />{stats.spe}</span>\r\n\t\t\t\t<span class=\"col bstcol\"><em>BST<br />{bst}</em></span>\r\n\t\t\t</a>\r\n\t\t</li>;\r\n\t}\r\n\r\n\trenderName(name: string, matchStart: number, matchEnd: number, tagStart?: number) {\r\n\t\tif (name === 'No Ability') return <i>(no ability)</i>;\r\n\r\n\t\tif (!matchEnd) {\r\n\t\t\tif (!tagStart) return name;\r\n\t\t\treturn [\r\n\t\t\t\tname.slice(0, tagStart), <small>{name.slice(tagStart)}</small>,\r\n\t\t\t];\r\n\t\t}\r\n\r\n\t\tlet output: preact.ComponentChild[] = [\r\n\t\t\tname.slice(0, matchStart),\r\n\t\t\t<b>{name.slice(matchStart, matchEnd)}</b>,\r\n\t\t\tname.slice(matchEnd, tagStart || name.length),\r\n\t\t];\r\n\t\tif (!tagStart) return output;\r\n\r\n\t\tif (matchEnd && matchEnd > tagStart) {\r\n\t\t\tif (matchStart < tagStart) {\r\n\t\t\t\tmatchStart = tagStart;\r\n\t\t\t}\r\n\t\t\toutput.push(\r\n\t\t\t\t<small>{name.slice(matchEnd)}</small>\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\toutput.push(<small>{name.slice(tagStart)}</small>);\r\n\t\t}\r\n\r\n\t\treturn output;\r\n\t}\r\n\r\n\trenderItemRow(id: ID, matchStart: number, matchEnd: number, errorMessage?: preact.ComponentChildren, isFilter?: boolean) {\r\n\t\tconst search = this.props.search;\r\n\t\tconst item = search.dex.items.get(id);\r\n\t\tif (!item) return <li class=\"result\">Unrecognized item</li>;\r\n\r\n\t\t// Determine item classification\r\n\t\tlet classification = '';\r\n\t\tlet classificationClass = '';\r\n\t\tif (item.isFragile) {\r\n\t\t\tclassification = 'Fragile';\r\n\t\t\tclassificationClass = 'fragile';\r\n\t\t} else if (item.isMildlyFragile) {\r\n\t\t\tclassification = 'Volatile';\r\n\t\t\tclassificationClass = 'volatile';\r\n\t\t}\r\n\t\t\r\n\t\t// Debug: Log ALL items to see what's happening\r\n\t\tconsole.log(`[ITEM] ${id}: fragile=${!!item.isFragile} volatile=${!!item.isMildlyFragile} class=\"${classificationClass}\" text=\"${classification}\"`);\r\n\r\n\t\treturn <li class={`result${isFilter ? ' filter-result' : ''}`}><a\r\n\t\t\thref={`${this.URL_ROOT}items/${id}`} class={id === this.itemId ? 'cur' : ''}\r\n\t\t\tdata-target=\"push\" data-entry={`item|${item.name}`}\r\n\t\t>\r\n\t\t\t<span class=\"col itemiconcol\">\r\n\t\t<span class=\"pixelated\" style={Dex.getItemIcon(item)}></span>\r\n\t\t</span>\r\n\r\n\t\t<span class=\"col namecol\">{id ? this.renderName(item.name, matchStart, matchEnd) : <i>(no item)</i>}</span>\r\n\t\t<span class={`col itemclasscol ${classificationClass}`}>{classification || 'â€”'}</span>\r\n\r\n\t\t{!!id && errorMessage}\r\n\r\n\t\t{!errorMessage && <span class=\"col itemdesccol\">{item.shortDesc || ''}</span>}\r\n\t</a></li>;\r\n}\r\n\trenderAbilityRow(id: ID, matchStart: number, matchEnd: number, errorMessage?: preact.ComponentChildren, isFilter?: boolean) {\r\n\t\tconst search = this.props.search;\r\n\t\tconst ability = search.dex.abilities.get(id);\r\n\t\tif (!ability) return <li class=\"result\">Unrecognized ability</li>;\r\n\r\n\t\treturn <li class={`result${isFilter ? ' filter-result' : ''}`}>\r\n\t\t\t<a\r\n\t\t\t\thref={`${this.URL_ROOT}abilities/${id}`} class={id === this.abilityId ? 'cur' : ''}\r\n\t\t\t\tdata-target=\"push\" data-entry={`ability|${ability.name}`}\r\n\t\t\t>\r\n\t\t\t\t<span class=\"col namecol\">{id ? this.renderName(ability.name, matchStart, matchEnd) : <i>(no ability)</i>}</span>\r\n\r\n\t\t\t\t{errorMessage}\r\n\r\n\t\t\t\t{!errorMessage && <span class=\"col abilitydesccol\">{ability.shortDesc}</span>}\r\n\t\t\t</a>\r\n\t\t</li>;\r\n\t}\r\n\r\n\trenderMoveRow(id: ID, matchStart: number, matchEnd: number, errorMessage?: preact.ComponentChildren, isFilter?: boolean) {\r\n\t\tlet slot = null;\r\n\t\tif (id.startsWith('_')) {\r\n\t\t\t[slot, id] = id.slice(1).split('_') as [string, ID];\r\n\t\t\tif (!id) {\r\n\t\t\t\treturn <li class=\"result\"><a\r\n\t\t\t\t\thref={`${this.URL_ROOT}moves/`} class=\"cur\"\r\n\t\t\t\t\tdata-target=\"push\" data-entry={`move||${slot}`}\r\n\t\t\t\t>\r\n\t\t\t\t\t<span class=\"col movenamecol\"><i>(slot {slot} empty)</i></span>\r\n\t\t\t\t</a></li>;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tconst search = this.props.search;\r\n\t\tconst move = search.dex.moves.get(id);\r\n\t\tconst entry = slot ? `move|${move.name}|${slot}` : `move|${move.name}`;\r\n\t\tif (!move) return <li class=\"result\">Unrecognized move</li>;\r\n\r\n\t\tconst tagStart = (move.name.startsWith('Hidden Power') ? 12 : 0);\r\n\r\n\t\tif (errorMessage) {\r\n\t\t\treturn <li class={`result${isFilter ? ' filter-result' : ''}`}><a\r\n\t\t\t\thref={`${this.URL_ROOT}moves/${id}`} class={this.moveIds.includes(id) ? 'cur' : ''}\r\n\t\t\t\tdata-target=\"push\" data-entry={entry}\r\n\t\t\t>\r\n\t\t\t\t<span class=\"col movenamecol\">{this.renderName(move.name, matchStart, matchEnd, tagStart)}</span>\r\n\r\n\t\t\t\t{errorMessage}\r\n\t\t\t</a></li>;\r\n\t\t}\r\n\r\n\t\tlet pp = (move.pp === 1 || move.noPPBoosts ? move.pp : move.pp * 8 / 5);\r\n\t\tif (search.dex.gen < 3) pp = Math.min(61, pp);\r\n\t\treturn <li class={`result${isFilter ? ' filter-result' : ''}`}><a\r\n\t\t\thref={`${this.URL_ROOT}moves/${id}`} class={this.moveIds.includes(id) ? 'cur' : ''}\r\n\t\t\tdata-target=\"push\" data-entry={entry}\r\n\t\t>\r\n\t\t\t<span class=\"col movenamecol\">{this.renderName(move.name, matchStart, matchEnd, tagStart)}</span>\r\n\r\n\t\t\t<span class=\"col typecol\">\r\n\t\t\t\t<img\r\n\t\t\t\t\tsrc={`${Dex.resourcePrefix}sprites/types/${encodeURIComponent(move.type)}.png`}\r\n\t\t\t\t\talt={move.type} height=\"14\" width=\"32\" class=\"pixelated\"\r\n\t\t\t\t/>\r\n\t\t\t\t<img\r\n\t\t\t\t\tsrc={`${Dex.indigostarstormPrefix}sprites/category-icons/${move.category}.png`}\r\n\t\t\t\t\talt={move.category} height=\"14\" width=\"32\" class=\"pixelated\"\r\n\t\t\t\t/>\r\n\t\t\t</span>\r\n\r\n\t\t\t<span class=\"col labelcol\">\r\n\t\t\t\t{move.category !== 'Status' ? [<em>Power</em>, <br />, move.basePower || '\\u2014'] : ''}\r\n\t\t\t</span>\r\n\t\t\t<span class=\"col widelabelcol\">\r\n\t\t\t\t<em>Accuracy</em><br />{move.accuracy && move.accuracy !== true ? `${move.accuracy}%` : '\\u2014'}\r\n\t\t\t</span>\r\n\t\t\t<span class=\"col pplabelcol\">\r\n\t\t\t\t<em>PP</em><br />{pp}\r\n\t\t\t</span>\r\n\r\n\t\t\t<span class=\"col movedesccol\">{move.shortDesc}</span>\r\n\r\n\t\t</a></li>;\r\n\t}\r\n\r\n\trenderTypeRow(id: ID, matchStart: number, matchEnd: number, errorMessage?: preact.ComponentChildren) {\r\n\t\tconst name = id.charAt(0).toUpperCase() + id.slice(1);\r\n\r\n\t\treturn <li class=\"result\">\r\n\t\t\t<a href={`${this.URL_ROOT}types/${id}`} data-target=\"push\" data-entry={`type|${name}`}>\r\n\t\t\t\t<span class=\"col namecol\">{this.renderName(name, matchStart, matchEnd)}</span>\r\n\r\n\t\t\t<span class=\"col typecol\">\r\n\t\t\t\t<img\r\n\t\t\t\t\tsrc={`${Dex.resourcePrefix}sprites/types/${encodeURIComponent(name)}.png`}\r\n\t\t\t\t\talt={name} height=\"14\" width=\"32\" class=\"pixelated\" />\r\n\t\t\t</span>\r\n\r\n\t\t\t{errorMessage}\r\n\t\t</a></li>;\r\n\t}\r\n\r\n\trenderCategoryRow(id: ID, matchStart: number, matchEnd: number, errorMessage?: preact.ComponentChildren) {\r\n\t\tconst name = id.charAt(0).toUpperCase() + id.slice(1);\r\n\r\n\t\treturn <li class=\"result\">\r\n\t\t\t<a href={`${this.URL_ROOT}categories/${id}`} data-target=\"push\" data-entry={`category|${name}`}>\r\n\t\t\t\t<span class=\"col namecol\">{this.renderName(name, matchStart, matchEnd)}</span>\r\n\r\n\t\t\t\t<span class=\"col typecol\">\r\n\t\t\t\t\t<img\r\n\t\t\t\t\t src={`${Dex.indigostarstormPrefix}sprites/category-icons/${name}.png`} \r\n\t\t\t\t\t alt={name} height=\"14\" width=\"32\" class=\"pixelated\" />\r\n\t\t\t\t</span>\r\n\r\n\t\t\t\t{errorMessage}\r\n\t\t\t</a>\r\n\t\t</li>;\r\n\t}\r\n\r\n\trenderPokemonTagRow(id: ID, matchStart: number, matchEnd: number, errorMessage?: preact.ComponentChildren) {\r\n\t\tconst name = id.charAt(0).toUpperCase() + id.slice(1);\r\n\r\n\t\treturn <li class=\"result\">\r\n\t\t\t<a href={`${this.URL_ROOT}categories/${id}`} data-target=\"push\" data-entry={`flag|${name}`}>\r\n\t\t\t\t<span class=\"col namecol\">{this.renderName(name, matchStart, matchEnd)}</span>\r\n\t\t\t\t{errorMessage}\r\n\t\t\t</a>\r\n\t\t</li>;\r\n\t}\r\n\r\n\trenderFlagRow(id: ID, matchStart: number, matchEnd: number, errorMessage?: preact.ComponentChildren) {\r\n\t\tconst name = id.charAt(0).toUpperCase() + id.slice(1);\r\n\t\t\r\n\t\t// Pokemon tags don't have icons\r\n\t\tconst pokemonTags = ['legendary', 'restrictedlegendary', 'mythical', 'restrictedmythical', 'paradox', 'restrictedparadox', 'sublegendary', 'mega', 'powerhouse'];\r\n\t\tif (pokemonTags.includes(id)) {\r\n\t\t\treturn this.renderPokemonTagRow(id, matchStart, matchEnd, errorMessage);\r\n\t\t}\r\n\t\t\r\n\t\t// Map flag IDs to icon filenames (for move flags)\r\n\t\tlet iconName = name;\r\n\t\tif (id === 'binding') iconName = 'Bind';\r\n\t\telse if (id === 'fist') iconName = 'Punch';\r\n\t\telse if (id === 'slicing') iconName = 'Slice';\r\n\r\n\t\treturn <li class=\"result\">\r\n\t\t\t<a href={`${this.URL_ROOT}categories/${id}`} data-target=\"push\" data-entry={`flag|${name}`}>\r\n\t\t\t\t<span class=\"col namecol\">{this.renderName(name, matchStart, matchEnd)}</span>\r\n\r\n\t\t\t\t<span class=\"col typecol\">\r\n\t\t\t\t\t<img\r\n\t\t\t\t\t src={`${Dex.indigostarstormPrefix}sprites/flagicons/${iconName}.png`} \r\n\t\t\t\t\t alt={name} height=\"14\" width=\"32\" class=\"pixelated\" />\r\n\t\t\t\t</span>\r\n\r\n\t\t\t\t{errorMessage}\r\n\t\t\t</a>\r\n\t\t</li>;\r\n\t}\r\n\r\n\trenderArticleRow(id: ID, matchStart: number, matchEnd: number, errorMessage?: preact.ComponentChildren) {\r\n\t\tconst isSearchType = (id === 'pokemon' || id === 'moves');\r\n\t\tconst name = window.BattleArticleTitles?.[id] || (id.charAt(0).toUpperCase() + id.substr(1));\r\n\r\n\t\treturn <li class=\"result\"><a href={`${this.URL_ROOT}articles/${id}`} data-target=\"push\" data-entry={`article|${name}`}>\r\n\t\t\t<span class=\"col namecol\">{this.renderName(name, matchStart, matchEnd)}</span>\r\n\r\n\t\t\t<span class=\"col movedesccol\">{isSearchType ? \"(search type)\" : \"(article)\"}</span>\r\n\r\n\t\t\t{errorMessage}\r\n\t\t</a></li>;\r\n\t}\r\n\r\n\trenderEggGroupRow(id: ID, matchStart: number, matchEnd: number, errorMessage?: preact.ComponentChildren) {\r\n\t\t// very hardcode\r\n\t\tlet name: string | undefined;\r\n\t\tif (id === 'humanlike') name = 'Human-Like';\r\n\t\telse if (id === 'water1') name = 'Water 1';\r\n\t\telse if (id === 'water2') name = 'Water 2';\r\n\t\telse if (id === 'water3') name = 'Water 3';\r\n\t\tif (name) {\r\n\t\t\tif (matchEnd > 5) matchEnd++;\r\n\t\t} else {\r\n\t\t\tname = id.charAt(0).toUpperCase() + id.slice(1);\r\n\t\t}\r\n\r\n\t\treturn <li class=\"result\">\r\n\t\t\t<a href={`${this.URL_ROOT}egggroups/${id}`} data-target=\"push\" data-entry={`egggroup|${name}`}>\r\n\t\t\t\t<span class=\"col namecol\">{this.renderName(name, matchStart, matchEnd)}</span>\r\n\r\n\t\t\t\t<span class=\"col movedesccol\">(egg group)</span>\r\n\r\n\t\t\t\t{errorMessage}\r\n\t\t\t</a>\r\n\t\t</li>;\r\n\t}\r\n\r\n\trenderTierRow(id: ID, matchStart: number, matchEnd: number, errorMessage?: preact.ComponentChildren) {\r\n\t\t// very hardcode\r\n\t\tconst tierTable: { [id: string]: string } = {\r\n\t\t\tuber: \"Uber\",\r\n\t\t\tcaplc: \"CAP LC\",\r\n\t\t\tcapnfe: \"CAP NFE\",\r\n\t\t};\r\n\t\tconst name = tierTable[id] || id.toUpperCase();\r\n\r\n\t\treturn <li class=\"result\"><a href={`${this.URL_ROOT}tiers/${id}`} data-target=\"push\" data-entry={`tier|${name}`}>\r\n\t\t\t<span class=\"col namecol\">{this.renderName(name, matchStart, matchEnd)}</span>\r\n\r\n\t\t\t<span class=\"col movedesccol\">(tier)</span>\r\n\r\n\t\t\t{errorMessage}\r\n\t\t</a></li>;\r\n\t}\r\n\r\n\trenderRow(row: SearchRow) {\r\n\t\tconst search = this.props.search;\r\n\t\tconst [type, id] = row;\r\n\t\tlet matchStart = 0;\r\n\t\tlet matchEnd = 0;\r\n\t\tif (row.length > 3) {\r\n\t\t\tmatchStart = row[2]!;\r\n\t\t\tmatchEnd = row[3]!;\r\n\t\t}\r\n\r\n\t\tlet errorMessage: preact.ComponentChild = null;\r\n\t\tlet label;\r\n\t\tconst isFilter = !!(label = search.filterLabel(type));\r\n\t\tif (isFilter) {\r\n\t\t\terrorMessage = <span class=\"col filtercol\"><em>{label}</em></span>;\r\n\t\t} else if ((label = search.illegalLabel(id as ID))) {\r\n\t\t\terrorMessage = <span class=\"col illegalcol\"><em>{label}</em></span>;\r\n\t\t}\r\n\r\n\t\tswitch (type) {\r\n\t\tcase 'html':\r\n\t\t\tconst sanitizedHTML = id.replace(/</g, '&lt;')\r\n\t\t\t\t.replace(/&lt;em>/g, '<em>').replace(/&lt;\\/em>/g, '</em>')\r\n\t\t\t\t.replace(/&lt;strong>/g, '<strong>').replace(/&lt;\\/strong>/g, '</strong>');\r\n\t\t\treturn <li class=\"result\">\r\n\t\t\t\t<p dangerouslySetInnerHTML={{ __html: sanitizedHTML }}></p>\r\n\t\t\t</li>;\r\n\t\tcase 'header':\r\n\t\t\treturn <li class=\"result\"><h3>{id}</h3></li>;\r\n\t\tcase 'sortpokemon':\r\n\t\t\treturn this.renderPokemonSortRow();\r\n\t\tcase 'sortmove':\r\n\t\t\treturn this.renderMoveSortRow();\r\n\t\tcase 'pokemon':\r\n\t\t\treturn this.renderPokemonRow(id, matchStart, matchEnd, errorMessage, isFilter);\r\n\t\tcase 'move':\r\n\t\t\treturn this.renderMoveRow(id, matchStart, matchEnd, errorMessage, isFilter);\r\n\t\tcase 'item':\r\n\t\t\treturn this.renderItemRow(id, matchStart, matchEnd, errorMessage, isFilter);\r\n\t\tcase 'ability':\r\n\t\t\treturn this.renderAbilityRow(id, matchStart, matchEnd, errorMessage, isFilter);\r\n\tcase 'type':\r\n\t\treturn this.renderTypeRow(id, matchStart, matchEnd, errorMessage);\r\n\tcase 'egggroup':\r\n\t\treturn this.renderEggGroupRow(id, matchStart, matchEnd, errorMessage);\r\n\tcase 'tier':\r\n\t\treturn this.renderTierRow(id, matchStart, matchEnd, errorMessage);\r\n\tcase 'category':\r\n\t\treturn this.renderCategoryRow(id, matchStart, matchEnd, errorMessage);\r\n\tcase 'flag':\r\n\t\treturn this.renderFlagRow(id, matchStart, matchEnd, errorMessage);\r\n\tcase 'article':\r\n\t\treturn this.renderArticleRow(id, matchStart, matchEnd, errorMessage);\r\n\t\t}\r\n\t\treturn <li>Error: not found</li>;\r\n\t}\r\n\tstatic renderFilters(search: DexSearch, showHints?: boolean) {\r\n\t\treturn search.filters && <li class=\"dexlist-filters\">\r\n\t\t\t{showHints && \"Filters: \"}\r\n\t\t\t{search.filters.map(([type, name]) =>\r\n\t\t\t\t<button class=\"filter\" data-filter={`${type}:${name}`}>\r\n\t\t\t\t\t{name} <i class=\"fa fa-times-circle\" aria-hidden></i>\r\n\t\t\t\t</button>\r\n\t\t\t)}\r\n\t\t\t{!search.query && showHints && <small style=\"color: #888\">(backspace = delete filter)</small>}\r\n\t\t</li>;\r\n\t}\r\n\thandleClick = (ev: Event) => {\r\n\t\tconst search = this.props.search;\r\n\t\tlet target = ev.target as HTMLElement | null;\r\n\t\twhile (target && target.className !== 'dexlist') {\r\n\t\t\tif (target.tagName === 'A') {\r\n\t\t\t\tconst entry = target.getAttribute('data-entry');\r\n\t\t\t\tif (entry) {\r\n\t\t\t\t\tconst [type, name, slot] = entry.split('|');\r\n\t\t\t\t\tif (search.addFilter([type, name])) {\r\n\t\t\t\t\t\tif (this.props.onSelect) {\r\n\t\t\t\t\t\t\tthis.props.onSelect?.('', '');\r\n\t\t\t\t\t\t} else if (search.query) {\r\n\t\t\t\t\t\t\tsearch.find('');\r\n\t\t\t\t\t\t\tthis.forceUpdate();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.props.onSelect?.(type as SearchType, name, slot);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tev.preventDefault();\r\n\t\t\t\t\tev.stopImmediatePropagation();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (target.tagName === 'BUTTON') {\r\n\t\t\t\tconst filter = target.getAttribute('data-filter');\r\n\t\t\t\tif (filter) {\r\n\t\t\t\t\tsearch.removeFilter(filter.split(':') as any);\r\n\t\t\t\t\tsearch.find('');\r\n\t\t\t\t\tev.preventDefault();\r\n\t\t\t\t\tev.stopPropagation();\r\n\t\t\t\t\tthis.props.onSelect?.(null, '');\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// sort\r\n\t\t\t\tconst sort = target.getAttribute('data-sort');\r\n\t\t\t\tif (sort) {\r\n\t\t\t\t\tif (sort === 'category' || sort === 'flag' || sort === 'type' || sort === 'ability') {\r\n\t\t\t\t\t\t// For filter columns, clear query and show all options on first click\r\n\t\t\t\t\t\tif (search.sortCol !== sort) {\r\n\t\t\t\t\t\t\tsearch.query = '';\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tsearch.toggleSort(sort);\r\n\t\t\t\t\tsearch.find('');\r\n\t\t\t\t\tev.preventDefault();\r\n\t\t\t\t\tev.stopPropagation();\r\n\t\t\t\t\tthis.props.onSelect?.(null, '');\r\n\t\t\t\t\tthis.forceUpdate();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\ttarget = target.parentElement;\r\n\t\t}\r\n\t};\r\n\r\n\toverride componentDidUpdate() {\r\n\t\tif (this.props.resultIndex !== undefined) {\r\n\t\t\tthis.base!.children[this.resultIndex + 1]?.children[0]?.classList.remove('hover');\r\n\t\t\tthis.resultIndex = this.props.resultIndex;\r\n\t\t\tthis.base!.children[this.resultIndex + 1]?.children[0]?.classList.add('hover');\r\n\t\t}\r\n\t}\r\n\toverride componentDidMount() {\r\n\t\tthis.componentDidUpdate();\r\n\t}\r\n\toverride render() {\r\n\t\tconst search = this.props.search;\r\n\r\n\t\tconst set = search.typedSearch?.set;\r\n\t\tif (set) {\r\n\t\t\tthis.speciesId = toID(set.species);\r\n\t\t\tthis.itemId = toID(set.item);\r\n\t\t\tthis.abilityId = toID(set.ability);\r\n\t\t\tthis.moveIds = set.moves.map(toID);\r\n\t\t}\r\n\r\n\t\tlet results = search.results;\r\n\t\tif (this.props.windowing) results = results?.slice(0, this.props.windowing) || null;\r\n\r\n\t\treturn <ul\r\n\t\t\tclass=\"dexlist\" style={`min-height: ${(1 + (search.results?.length || 1)) * 33}px;`} onClick={this.handleClick}\r\n\t\t>\r\n\t\t\t{(!this.props.hideFilters && PSSearchResults.renderFilters(search, true)) || <li></li>}\r\n\t\t\t{results?.map(result => this.renderRow(result))}\r\n\t\t</ul>;\r\n\t}\r\n}\r\n"],"mappings":"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","ignoreList":[]}